<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ±å¼•ç”Œè¶Š</title>
  <subtitle>ä¸æ–­å­¦ä¹ , ä¸æ—¶ä¿±è¿›. - å§‹äº2017</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.sunyazhou.com/"/>
  <updated>2019-11-27T14:24:05.022Z</updated>
  <id>https://www.sunyazhou.com/</id>
  
  <author>
    <name>sunyazhou</name>
    <email>sunyazhou13@163.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä½¿ç”¨Masonryçº¦æŸå®ç°ç®€å•çš„é«˜çº§æ‹–æ‹½è§†å›¾</title>
    <link href="https://www.sunyazhou.com/2019/09/26/20190926MasonryPanViewDemo/"/>
    <id>https://www.sunyazhou.com/2019/09/26/20190926MasonryPanViewDemo/</id>
    <published>2019-09-26T12:05:20.000Z</published>
    <updated>2019-11-27T14:24:05.022Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/7ba7422a28bf99800889c69175423c274ed649b3/20190926MasonryPanViewDemo/panviewdemo.gif"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ¬æ–‡å…·æœ‰å¼ºçƒˆçš„ä¸ªäººæ„Ÿæƒ…è‰²å½©,å¦‚æœ‰è§‚çœ‹ä¸é€‚,è¯·å°½å¿«å…³é—­. æœ¬æ–‡ä»…ä½œä¸ºä¸ªäººå­¦ä¹ è®°å½•ä½¿ç”¨,ä¹Ÿæ¬¢è¿åœ¨è®¸å¯åè®®èŒƒå›´å†…è½¬è½½æˆ–ä½¿ç”¨,è¯·å°Šé‡ç‰ˆæƒå¹¶ä¸”ä¿ç•™åŸæ–‡é“¾æ¥,è°¢è°¢æ‚¨çš„ç†è§£åˆä½œ. å¦‚æœæ‚¨è§‰å¾—æœ¬ç«™å¯¹æ‚¨èƒ½æœ‰å¸®åŠ©,æ‚¨å¯ä»¥ä½¿ç”¨RSSæ–¹å¼è®¢é˜…æœ¬ç«™,è¿™æ ·æ‚¨å°†èƒ½åœ¨ç¬¬ä¸€æ—¶é—´è·å–æœ¬ç«™ä¿¡æ¯.</p>
<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>æœ€è¿‘å¼€å‘é‡åˆ°ä¸€ä¸ªä¸Šå›¾çš„éœ€æ±‚,åšä¸€ä¸ªæŒ‚ä»¶èƒ½å››å¤„æ‹–åŠ¨å¹¶ä¸”ä¸Šè¾¹è¿˜æ—¶ä¸æ—¶çš„å±•ç¤ºä¸€ä¸ªtipsæ°”æ³¡çš„<code>Label</code>,åœ¨å°½é‡ä½¿ç”¨å°‘çš„ä»£ç æ¥å®ç°è¿™ä¸ªåŠŸèƒ½,ä½œä¸ºæˆ‘æ‰‹ä¸€åiOSå¼€å‘äººå‘˜å¿…é¡»ä¸¥æ ¼è€ƒç©¶è¿™ä¸ªéœ€æ±‚,æ˜¾ç„¶è¿™æœ‰ç‚¹éº»çƒ¦,ä¸€è´¯æ‡’æƒ°æˆ‘çš„å®åœ¨ä¸æƒ³è®¡ç®—å“ªä¸ªè¾¹å“ªä¸ªè§’ç”šè‡³æ»‘åŠ¨åˆ°å“ªé‡Œçš„<code>frame</code>,è®¡ç®—frameè¿™æ—¢å¬èµ·æ¥å¯ç¬‘åˆè§‰çš„æ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡. ä¸ºäº†è®©ä»£ç é‡å°‘å¹¶ä¸”èƒ½æ»¡è¶³éœ€æ±‚,æˆ‘é€‰æ‹©ä½¿ç”¨Masonryæ¥å®ç°è¿™ä¸ªåŠŸèƒ½</p>
<h2 id="å¼€æ">å¼€æ</h2>
<p>é¦–å…ˆæˆ‘æèµ·ä¹‹å‰æˆ‘å»ºè®®å¤§å®¶çœ‹ä¸‹<a href="http://tutuge.me/" target="_blank" rel="external">åœŸåœŸå“¥</a>çš„<a href="http://tutuge.me/tags/Masonry/" target="_blank" rel="external">æœ‰è¶£çš„Autolayoutç¤ºä¾‹1~5Masonryå®ç°æ–‡ç« </a>,æœ¬æ–‡ä¹Ÿæ˜¯å‚è€ƒåœŸåœŸå“¥çš„æ–‡ç« å­¦ä¹ å†™å‡ºçš„,è§ç¬‘äº†å„ä½,ä¸ªäººè®¤ä¸ºåœŸåœŸå“¥çš„æ–‡ç« ç®€ç›´å°±æ˜¯Masonryè‡ªåŠ¨å¸ƒå±€çš„æ ·æ¿æ•™ç¨‹,å¼ºçƒˆå»ºè®®å…¥é—¨çš„å°ä¼™ä¼´æˆ–è€…é«˜æ‰‹ç»å¸¸å¤å†™.</p>
<p>ä¸‹é¢çš„å›¾æ˜¯åœŸåœŸå“¥å®ç°çš„demo<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/9e8d67bc843f2afc69cad61704396a1378fba6cc/20190926MasonryPanViewDemo/tutugeMasonry1.gif"> <img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/9e8d67bc843f2afc69cad61704396a1378fba6cc/20190926MasonryPanViewDemo/tutugeMasonry2.gif"></p>
<p>ä½†æˆ‘çš„é—®é¢˜æ˜¯æ€ä¹ˆä¿è¯é‚£ä¸ªtipçš„æ°”æ³¡labelå·¦å³æ‹–æ‹½èƒ½è¾—è½¬è…¾æŒªçš„å…è®¸logoå›¾åƒä¹‹é—´æœ‰<code>æ—·é‡ç§»åŠ¨</code></p>
<h2 id="ä»£ç å®ç°æ—·é‡ç§»åŠ¨">ä»£ç å®ç°æ—·é‡ç§»åŠ¨</h2>
<p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdemo,å¾ˆç®€å•VCçš„demoå°±è¡Œ åˆ›å»ºç›¸å…³ç»¿è‰²èƒŒæ™¯è§†å›¾å’Œå›¾åƒimageViewä»¥åŠtipLabelçš„æ°”æ³¡è§†å›¾,å…·ä½“ä»£ç æˆ‘è´´äº†å‡ºæ¥,æˆ‘å°±ä¸å•°å—¦å¦‚ä½•åˆ›å»ºå…¶å®ƒè§†å›¾äº†xibæ‹–æ‹½ä¸€ä¸‹å°±è¡Œäº†.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Masonry/Masonry.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>  ) <span class="keyword">IBOutlet</span> <span class="built_in">UIView</span>        *greenView;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>  ) <span class="keyword">IBOutlet</span> <span class="built_in">UIImageView</span>   *widgetView;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>  ) <span class="keyword">IBOutlet</span> <span class="built_in">UILabel</span>       *bubbleTitleLabel;</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) MASConstraint *leftConstraint; <span class="comment">//å·¦ä¾§çº¦æŸå˜é‡</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) MASConstraint *topConstraint;  <span class="comment">//é¡¶éƒ¨çº¦æŸå˜é‡</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª<code>leftConstraint</code>å’Œ<code>topConstraint</code>çš„çº¦æŸå…¨å±€å˜é‡,è¿™ä¸¤ä¸ªå°±æ˜¯å®ç°æ‹–æ‹½çš„æ—¶å€™æ”¹å˜çº¦æŸçš„åç§»é‡æ¥å®ç°çš„.å…·ä½“ä»£ç å¦‚ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> screenWidth = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line"><span class="built_in">CGFloat</span> screenHeight = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.height;</div><div class="line">[<span class="keyword">self</span>.widgetView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">    <span class="comment">// è®¾ç½®è¾¹ç•Œæ¡ä»¶çº¦æŸï¼Œä¿è¯å†…å®¹å¯è§ï¼Œä¼˜å…ˆçº§1000</span></div><div class="line">    make.left.greaterThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_left);</div><div class="line">    make.right.lessThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_right);</div><div class="line">    make.top.greaterThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_top);</div><div class="line">    make.bottom.lessThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_bottom);</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.leftConstraint = make.centerX.equalTo(<span class="keyword">self</span>.greenView.mas_left).with.offset(screenWidth - <span class="number">20</span>).priorityHigh(); <span class="comment">// ä¼˜å…ˆçº§è¦æ¯”è¾¹ç•Œæ¡ä»¶ä½</span></div><div class="line">    <span class="keyword">self</span>.topConstraint = make.centerY.equalTo(<span class="keyword">self</span>.greenView.mas_top).with.offset(screenHeight - <span class="number">100</span>).priorityHigh(); <span class="comment">// ä¼˜å…ˆçº§è¦æ¯”è¾¹ç•Œæ¡ä»¶ä½</span></div><div class="line">    make.width.height.mas_equalTo(@<span class="number">100</span>);</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p>ä¸Šè¾¹çš„<code>greaterThanOrEqualTo</code>å’Œ<code>lessThanOrEqualTo</code>éƒ½æ˜¯é™åˆ¶æŒ‚ä»¶çš„å¯æ»‘åŠ¨èŒƒå›´,è€Œæœ€åçš„<code>make.centerX/Y.equalTo</code>æ˜¯é™åˆ¶æŒ‚ä»¶çš„é»˜è®¤ä½ç½®,æˆ‘è®©å®ƒé»˜è®¤åœ¨å³ä¸‹è§’,æ‰€ä»¥é€šè¿‡åç§»é‡ç§»åŠ¨è¿‡å»</p>
<blockquote>
<p>æ³¨æ„:è¿™é‡Œæœ‰ä¸ªå‘å°±æ˜¯å› ä¸ºè¿™ä¸ªä¸œè¥¿èƒ½å››å¤„æ»‘åŠ¨ æ‰€ä»¥åŸºæœ¬éœ€è¦é”å®š<code>left</code>å’Œ<code>top</code>,æˆ‘å‘ç°åªæœ‰é€šè¿‡offsetç§»åŠ¨æ‰èƒ½ç¡®å®šæœ€åˆä½ç½®,å¦‚æœequalToç›´æ¥å†™æˆxxxviewçš„bottomæˆ–è€…rightæ˜¯æ»‘åŠ¨ä¸äº†çš„,ä»”ç»†æ€è€ƒä¸€ä¸‹masonryå°±çŸ¥é“ä¸ºå•¥äº†.</p>
</blockquote>
<p>ç„¶åæ·»åŠ æ‰‹åŠ¿å¹¶å®ç°ç›¸å…³æ»‘åŠ¨äº‹ä»¶å³å¯å®ç°æ»‘åŠ¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIPanGestureRecognizer</span> *pan = [[<span class="built_in">UIPanGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(panWithGesture:)];</div><div class="line">[<span class="keyword">self</span>.greenView addGestureRecognizer:pan];</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)panWithGesture:(<span class="built_in">UIPanGestureRecognizer</span> *)pan &#123;</div><div class="line">    <span class="built_in">CGPoint</span> touchPoint = [pan locationInView:<span class="keyword">self</span>.greenView];</div><div class="line">    <span class="keyword">self</span>.leftConstraint.offset = touchPoint.x;</div><div class="line">    <span class="keyword">self</span>.topConstraint.offset = touchPoint.y;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="æ—·é‡labelçš„çº¦æŸ">æ—·é‡Labelçš„çº¦æŸ</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span>.bubbleTitleLabel mas_remakeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">	make.height.equalTo(@<span class="number">26</span>);</div><div class="line">	make.bottom.equalTo(<span class="keyword">self</span>.widgetView.mas_top);</div><div class="line">	make.left.greaterThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_left).offset(<span class="number">0</span>);</div><div class="line">	make.right.lessThanOrEqualTo(<span class="keyword">self</span>.greenView.mas_right).offset(<span class="number">0</span>);</div><div class="line">	make.centerX.lessThanOrEqualTo(<span class="keyword">self</span>.widgetView.mas_right).offset(<span class="number">10</span>);</div><div class="line">	make.centerX.greaterThanOrEqualTo(<span class="keyword">self</span>.widgetView.mas_left).offset(<span class="number">-10</span>);</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p>æƒ³è¦å®ç°æ—·é‡ç§»åŠ¨å¿…é¡»å¢åŠ æ›´å¤šçš„çº¦æŸé™åˆ¶</p>
<p>è¿™é‡Œå°±å¢åŠ äº†</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">make.centerX.lessThanOrEqualTo(<span class="keyword">self</span>.widgetView.mas_right).offset(<span class="number">10</span>);</div><div class="line">make.centerX.greaterThanOrEqualTo(<span class="keyword">self</span>.widgetView.mas_left).offset(<span class="number">-10</span>);</div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å®ç°äº† å·¦å³è¶…è¿‡æ»‘åŠ¨ä¾¿å®œè¿˜ä¾ç„¶æ§åˆ¶ç€tipçš„labelå·¦å³ç§»åŠ¨èŒƒå›´.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ç»è¿‡å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å®ä¾‹,å­¦ä¹ äº†ä¸€äº›Masonryçš„æŠ€å·§,å¸Œæœ›å’Œå¤§å®¶åˆ†äº«,demoæˆ‘å·²æ”¾åˆ°ä¸‹é¢ å–œæ¬¢è‡ªè¡Œä¸‹è½½å­¦ä¹ .</p>
<p><a href="https://github.com/sunyazhou13/PanViewDemo" target="_blank" rel="external">demoä¸‹è½½</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/7ba7422a28bf99800889c69175423c274ed649b3/20190926Mas
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>UITraitCollectionè¯¦è§£</title>
    <link href="https://www.sunyazhou.com/2019/09/16/20190916UITraitCollection/"/>
    <id>https://www.sunyazhou.com/2019/09/16/20190916UITraitCollection/</id>
    <published>2019-09-16T10:49:05.000Z</published>
    <updated>2019-11-27T14:24:05.021Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/47b603f535020f06f999ad34f5070646fdfd3562/20190916UITraitCollection/UITraitCollection1.png"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ¬æ–‡å…·æœ‰å¼ºçƒˆçš„ä¸ªäººæ„Ÿæƒ…è‰²å½©,å¦‚æœ‰è§‚çœ‹ä¸é€‚,è¯·å°½å¿«å…³é—­. æœ¬æ–‡ä»…ä½œä¸ºä¸ªäººå­¦ä¹ è®°å½•ä½¿ç”¨,ä¹Ÿæ¬¢è¿åœ¨è®¸å¯åè®®èŒƒå›´å†…è½¬è½½æˆ–ä½¿ç”¨,è¯·å°Šé‡ç‰ˆæƒå¹¶ä¸”ä¿ç•™åŸæ–‡é“¾æ¥,è°¢è°¢æ‚¨çš„ç†è§£åˆä½œ. å¦‚æœæ‚¨è§‰å¾—æœ¬ç«™å¯¹æ‚¨èƒ½æœ‰å¸®åŠ©,æ‚¨å¯ä»¥ä½¿ç”¨RSSæ–¹å¼è®¢é˜…æœ¬ç«™,è¿™æ ·æ‚¨å°†èƒ½åœ¨ç¬¬ä¸€æ—¶é—´è·å–æœ¬ç«™ä¿¡æ¯.</p>
<h2 id="å…ˆè¯´é—®é¢˜">å…ˆè¯´é—®é¢˜</h2>
<p>æœ€è¿‘åœ¨é€‚é…iOS13 æœ‰ä¸ª<code>Dark Mode</code>çš„æš—é»‘æ¨¡å¼, ä¸ºäº†é€‚é…è¿™ä¸ªæ¨¡å¼ä¸å¾—ä¸åœ¨UIViewå’ŒUIViewControllerä»¥åŠUIWindowä¸­å¤å†™å¦‚ä¸‹æ–¹æ³•</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)traitCollectionDidChange:(<span class="built_in">UITraitCollection</span> *)previousTraitCollection &#123;</div><div class="line">    [<span class="keyword">super</span> traitCollectionDidChange:previousTraitCollection];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ‰ä¸ª<code>UITraitCollection</code>çš„ç±»ä»¥å‰ä»æ¥æ²¡æœ‰ä»”ç»†ç ”ç©¶,ä»Šå¤©è¯¦ç»†ç ”ç©¶ä¸€ä¸‹.</p>
<blockquote>
<p>Trait ç‰¹æ€§ ç‰¹ç‚¹</p>
</blockquote>
<p>æ˜¾ç„¶ è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªUIKitä¸­ç”¨äºå¤„ç†è‹¹æœæ‰‹æœºçš„ä¸€äº›ç‰¹æ€§çš„å‚¨å­˜ä¸UIç›¸å…³çš„é…ç½®, å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡å¦‚æœä½ åœ¨iOSä¿®æ”¹é€šç”¨ä¸­çš„æŸäº›ç³»ç»Ÿè®¾ç½®,æ¯”å¦‚(ä¸‹å›¾) å¯¹æ¯”åº¦ã€å…¨å±€å­—ä½“å¤§å°,è¿™ä¸ªæˆ‘ä»¬å¼€å‘äººå‘˜æ€ä¹ˆå¤„ç†.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/47b603f535020f06f999ad34f5070646fdfd3562/20190916UITraitCollection/UITraitCollection2.gif"></p>
<p>è¿™äº›ç³»ç»Ÿçš„ç‰¹æ€§ä¿®æ”¹å°±æ”¾åˆ°è¿™ä¸ª<code>UITraitCollection</code>ä¸­,è¿™ä¸ªç±»ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨VCå’ŒViewä¸­ç»å¸¸ç”¨åˆ°è€Œå¤§å®¶å¾€å¾€å®¹æ˜“å¿½ç•¥çš„,ä¸‹é¢ç®€å•è®°å½•ä¸€ä¸‹è¿™äº›ç‰¹æ€§éƒ½æœ‰å“ªäº›</p>
<h2 id="uitraitcollection-apiä»‹ç»">UITraitCollection APIä»‹ç»</h2>
<h4 id="åˆ¤æ–­å½“å‰è®¾å¤‡æ—¶-iphoneipadtvcarplay-çš„é…ç½®">åˆ¤æ–­å½“å‰è®¾å¤‡æ—¶ iPhone/iPad/tv/carPlay çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithUserInterfaceIdiom:(<span class="built_in">UIUserInterfaceIdiom</span>)idiom;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIUserInterfaceIdiom</span> userInterfaceIdiom; <span class="comment">// unspecified: UIUserInterfaceIdiomUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="å…³äºå¸ƒå±€æ–¹å‘çš„é…ç½®">å…³äºå¸ƒå±€æ–¹å‘çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithLayoutDirection:(<span class="built_in">UITraitEnvironmentLayoutDirection</span>)layoutDirection API_AVAILABLE(ios(<span class="number">10.0</span>));</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UITraitEnvironmentLayoutDirection</span> layoutDirection API_AVAILABLE(ios(<span class="number">10.0</span>)); <span class="comment">// unspecified: UITraitEnvironmentLayoutDirectionUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="å›¾ç‰‡-scale-çš„é…ç½®">å›¾ç‰‡ Scale çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithDisplayScale:(<span class="built_in">CGFloat</span>)scale;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">CGFloat</span> displayScale; <span class="comment">// unspecified: 0.0</span></div></pre></td></tr></table></figure>
<h4 id="å¸ƒå±€-size-class-çš„é…ç½®">å¸ƒå±€ Size Class çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithHorizontalSizeClass:(<span class="built_in">UIUserInterfaceSizeClass</span>)horizontalSizeClass;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIUserInterfaceSizeClass</span> horizontalSizeClass; <span class="comment">// unspecified: UIUserInterfaceSizeClassUnspecified</span></div><div class="line"></div><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithVerticalSizeClass:(<span class="built_in">UIUserInterfaceSizeClass</span>)verticalSizeClass;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIUserInterfaceSizeClass</span> verticalSizeClass; <span class="comment">// unspecified: UIUserInterfaceSizeClassUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="force-touch-æ˜¯å¦å¯ç”¨çš„é…ç½®">Force Touch æ˜¯å¦å¯ç”¨çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithForceTouchCapability:(<span class="built_in">UIForceTouchCapability</span>)capability API_AVAILABLE(ios(<span class="number">9.0</span>));</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIForceTouchCapability</span> forceTouchCapability API_AVAILABLE(ios(<span class="number">9.0</span>)); <span class="comment">// unspecified: UIForceTouchCapabilityUnknown</span></div></pre></td></tr></table></figure>
<h4 id="å…¨å±€å­—ä½“å¤§å°çš„é…ç½®">å…¨å±€å­—ä½“å¤§å°çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithPreferredContentSizeCategory:(<span class="built_in">UIContentSizeCategory</span>)preferredContentSizeCategory API_AVAILABLE(ios(<span class="number">10.0</span>));</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>, <span class="keyword">readonly</span>) <span class="built_in">UIContentSizeCategory</span> preferredContentSizeCategory API_AVAILABLE(ios(<span class="number">10.0</span>)); <span class="comment">// unspecified: UIContentSizeCategoryUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="è‰²åŸŸçš„é…ç½®">è‰²åŸŸçš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithDisplayGamut:(<span class="built_in">UIDisplayGamut</span>)displayGamut API_AVAILABLE(ios(<span class="number">10.0</span>));</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIDisplayGamut</span> displayGamut API_AVAILABLE(ios(<span class="number">10.0</span>)); <span class="comment">// unspecified: UIDisplayGamutUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="æ˜¯å¦å¼€å¯é«˜å¯¹æ¯”åº¦çš„é…ç½®">æ˜¯å¦å¼€å¯é«˜å¯¹æ¯”åº¦çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithAccessibilityContrast:(<span class="built_in">UIAccessibilityContrast</span>)accessibilityContrast API_AVAILABLE(ios(<span class="number">13.0</span>), tvos(<span class="number">13.0</span>)) API_UNAVAILABLE(watchos);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIAccessibilityContrast</span> accessibilityContrast API_AVAILABLE(ios(<span class="number">13.0</span>), tvos(<span class="number">13.0</span>)) API_UNAVAILABLE(watchos); <span class="comment">// unspecified: UIAccessibilityContrastUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="å…¨å±€å­—é‡çš„é…ç½®">å…¨å±€å­—é‡çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithLegibilityWeight:(<span class="built_in">UILegibilityWeight</span>)legibilityWeight API_AVAILABLE(ios(<span class="number">13.0</span>), tvos(<span class="number">13.0</span>), watchos(<span class="number">6.0</span>));</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UILegibilityWeight</span> legibilityWeight API_AVAILABLE(ios(<span class="number">13.0</span>), tvos(<span class="number">13.0</span>), watchos(<span class="number">6.0</span>)); <span class="comment">// unspecified: UILegibilityWeightUnspecified</span></div></pre></td></tr></table></figure>
<h4 id="ä¸»é¢˜çš„é…ç½®">ä¸»é¢˜çš„é…ç½®</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">UITraitCollection</span> *)traitCollectionWithUserInterfaceStyle:(<span class="built_in">UIUserInterfaceStyle</span>)userInterfaceStyle API_AVAILABLE(tvos(<span class="number">10.0</span>)) API_AVAILABLE(ios(<span class="number">12.0</span>)) API_UNAVAILABLE(watchos);</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIUserInterfaceStyle</span> userInterfaceStyle API_AVAILABLE(tvos(<span class="number">10.0</span>)) API_AVAILABLE(ios(<span class="number">12.0</span>)) API_UNAVAILABLE(watchos); <span class="comment">// unspecified: UIUserInterfaceStyleUnspecified</span></div></pre></td></tr></table></figure>
<h3 id="å¦‚ä½•è·å–-uitraitcollection">å¦‚ä½•è·å– UITraitCollection</h3>
<p><code>UITraitCollection</code>æœ¬èº«æ˜¯ä¸€ä¸ªé…ç½®çš„é›†åˆï¼Œæ¯ä¸ª <code>UIView</code>/<code>UIViewController</code>éƒ½æœ‰è‡ªå·±çš„ <code>UITraitCollection</code>å¯¹è±¡ï¼Œå¹¶å°†è‡ªå·±çš„<code>UITraitCollection</code>ä¼ é€’ç»™å­<code>UIView</code>/<code>UIViewController</code>ä½œä¸ºé»˜è®¤å€¼ã€‚</p>
<ul>
<li>å¯ä»¥é€šè¿‡ <code>UIView</code>/<code>UIViewController</code>çš„å±æ€§ <code>traitCollection</code> è·å–åˆ°å½“å‰è§†å›¾çš„ UITraitCollection å¯¹è±¡</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="keyword">self</span>.traitCollection <span class="comment">//æ‹¿åˆ°å½“å‰å¾—</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥é€šè¿‡å­ç±»é‡å†™å¦‚ä¸‹æ–¹æ³•çš„æ–¹å¼ç›‘æ§ traitCollection å±æ€§çš„å˜åŒ–</li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)traitCollectionDidChange:(<span class="built_in">UITraitCollection</span> *)previousTraitCollection &#123;</div><div class="line">    [<span class="keyword">super</span> traitCollectionDidChange:previousTraitCollection];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>è·å–å…¨å±€çš„<code>UITraitCollection</code></li>
</ul>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="built_in">UITraitCollection</span> currentTraitCollection];</div></pre></td></tr></table></figure>
<h2 id="æŠ€å·§">æŠ€å·§</h2>
<p>å¦‚æœè¦åœ¨UIViewControllerä¸­æ›´æ–°çŠ¶æ€æ  å½“è®¾ç½®å®Œstyleçš„æ—¶å€™å¯ä»¥è°ƒç”¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> setNeedsStatusBarAppearanceUpdate];</div></pre></td></tr></table></figure>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>é€šè¿‡ç®€å•çš„å­¦ä¹ <code>UITraitCollection</code>åˆæ·±åˆ»å­¦ä¹ äº†ä¸€ä¸‹è¿™ä¸ªç±»,å¸Œæœ›ä»¥åèƒ½è®°å½•ä¸€ä¸‹å­¦è¿‡çš„çŸ¥è¯†.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/47b603f535020f06f999ad34f5070646fdfd3562/20190916UIT
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ä»é›¶å­¦ä¹ OpenGLESçš„çº¹ç†æ¸²æŸ“</title>
    <link href="https://www.sunyazhou.com/2019/09/06/20190906OpenGLESDemo1/"/>
    <id>https://www.sunyazhou.com/2019/09/06/20190906OpenGLESDemo1/</id>
    <published>2019-09-06T02:19:48.000Z</published>
    <updated>2019-11-27T14:24:05.021Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/d906db5da48581d2dd96615aeb5122c0e6265304/20190906OpenGLESDemo1/sunyazhou_logo_glsl.jpeg"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>å¾ˆä¹…æ²¡ç”¨OpenGLäº† è®°å½•ä¸€ä¸‹å­¦ä¹ GLSLä»£ç å’Œå®ç°</p>
<h2 id="objctive-cä»£ç ">Objctive-Cä»£ç </h2>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;GLKit/GLKit.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">//é¡¶ç‚¹ç»“æ„ä½“ç±»å‹</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</div><div class="line">    GLKVector3 positionCoord; <span class="comment">// (x,y,z)</span></div><div class="line">    GLKMatrix2 textureCoord; <span class="comment">// (u, v)</span></div><div class="line">    </div><div class="line">&#125; SenceVertex;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) SenceVertex *vertices; <span class="comment">//é¡¶ç‚¹æ•°ç»„</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) EAGLContext *context;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - override methods å¤å†™æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">    [<span class="keyword">self</span> commonInit];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - private methods ç§æœ‰æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)commonInit &#123;</div><div class="line">    <span class="comment">// åˆ›å»ºä¸Šä¸‹æ–‡ ä½¿ç”¨ 2.0ç‰ˆæœ¬</span></div><div class="line">    <span class="keyword">self</span>.context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2];</div><div class="line">    [EAGLContext setCurrentContext:<span class="keyword">self</span>.context];</div><div class="line">    </div><div class="line">    <span class="comment">//åˆ›å»ºé¡¶ç‚¹æ•°ç»„</span></div><div class="line">    <span class="keyword">self</span>.vertices = malloc(<span class="keyword">sizeof</span>(SenceVertex) * <span class="number">4</span>); <span class="comment">//4ä¸ªé¡¶ç‚¹</span></div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.vertices[<span class="number">0</span>] = (SenceVertex)&#123;&#123;<span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,&#123; <span class="number">0</span>, <span class="number">1</span> &#125;&#125;; <span class="comment">//å·¦ä¸Šè§’</span></div><div class="line">    <span class="keyword">self</span>.vertices[<span class="number">1</span>] = (SenceVertex)&#123;&#123;<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;,&#123;<span class="number">0</span> ,<span class="number">0</span>&#125;&#125;; <span class="comment">//å·¦ä¸‹è§’</span></div><div class="line">    <span class="keyword">self</span>.vertices[<span class="number">2</span>] = (SenceVertex)&#123;&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,&#123;<span class="number">1</span>, <span class="number">1</span>&#125;&#125;; <span class="comment">//å³ä¸Šè§’</span></div><div class="line">    <span class="keyword">self</span>.vertices[<span class="number">3</span>] = (SenceVertex)&#123;&#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;,&#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;; <span class="comment">//å³ä¸‹è§’</span></div><div class="line">    </div><div class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå±•ç¤ºçº¹ç†çš„layer</span></div><div class="line">    </div><div class="line">    <span class="built_in">CAEAGLLayer</span> *layer = [<span class="built_in">CAEAGLLayer</span> layer];</div><div class="line">    layer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.width);</div><div class="line">    layer.contentsScale = [[<span class="built_in">UIScreen</span> mainScreen] scale]; <span class="comment">//è®¾ç½®ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸è®¾ç½®çš„è¯ï¼Œçº¹ç†ä¼šå¤±çœŸ</span></div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.view.layer addSublayer:layer];</div><div class="line">    </div><div class="line">    <span class="comment">// ç»‘å®šçº¹ç†åˆ°è¾“å‡ºlayer</span></div><div class="line">    [<span class="keyword">self</span> bindRenderLayer:layer];</div><div class="line">    </div><div class="line">    <span class="comment">// è¯»å–çº¹ç†</span></div><div class="line">    <span class="built_in">NSString</span> *imagePath = [[[<span class="built_in">NSBundle</span> mainBundle] resourcePath] stringByAppendingPathComponent:<span class="string">@"logo.png"</span>];</div><div class="line">    <span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageWithContentsOfFile:imagePath];</div><div class="line">    GLuint textureID = [<span class="keyword">self</span> createTextureWithImage:image];</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®è§†å£å°ºå¯¸</span></div><div class="line">    </div><div class="line">    glViewport(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.drawableWidth, <span class="keyword">self</span>.drawableHeight);</div><div class="line">    </div><div class="line">    <span class="comment">// ç¼–è¯‘é“¾æ¥ ç€è‰²å™¨</span></div><div class="line">    GLuint program = [<span class="keyword">self</span> programWithShaderName:<span class="string">@"glsl"</span>];</div><div class="line">    glUseProgram(program);</div><div class="line">    </div><div class="line">    <span class="comment">// è·å–shader ä¸­çš„å‚æ•° ç„¶åä¼ æ•°æ®è¿›å»</span></div><div class="line">    GLuint positionSlot = glGetAttribLocation(program, <span class="string">"Position"</span>); <span class="comment">//è·å–é¡¶ç‚¹ç€è‰²å™¨çš„ä½ç½®</span></div><div class="line">    GLuint textureCoordsSlot = glGetAttribLocation(program, <span class="string">"TextureCoords"</span>); <span class="comment">//è·å–é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„çº¹ç†åæ ‡</span></div><div class="line"></div><div class="line">    GLuint textureSlot = glGetUniformLocation(program, <span class="string">"Texture"</span>); <span class="comment">//è·å–ç‰‡å…ƒç€è‰²å™¨çº¹ç†å˜é‡</span></div><div class="line"></div><div class="line">    <span class="comment">//å°†çº¹ç† ID ä¼ ç»™ç€è‰²å™¨ç¨‹åº</span></div><div class="line">    glActiveTexture(GL_TEXTURE0);</div><div class="line">    glBindTexture(GL_TEXTURE_2D, textureID);</div><div class="line">    glUniform1i(textureSlot, <span class="number">0</span>); <span class="comment">// å°†textureSlot èµ‹å€¼ä¸º 0, è€Œ 0 ä¸ GL_TEXTURE0 å¯¹åº”,è¿™é‡Œå¦‚æœå†™1,å°±æ˜¯GL_TEXTURE1</span></div><div class="line">    </div><div class="line">    <span class="comment">// åˆ›å»ºé¡¶ç‚¹ç¼“å­˜</span></div><div class="line">    GLuint vertexBuffer;</div><div class="line">    glGenBuffers(<span class="number">1</span>, &amp;vertexBuffer);</div><div class="line">    glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer);</div><div class="line">    GLsizeiptr bufferSizeBytes = <span class="keyword">sizeof</span>(SenceVertex) * <span class="number">4</span>;</div><div class="line">    glBufferData(GL_ARRAY_BUFFER, bufferSizeBytes, <span class="keyword">self</span>.vertices, GL_STATIC_DRAW);</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®é¡¶ç‚¹æ•°æ®</span></div><div class="line">    glEnableVertexAttribArray(positionSlot);</div><div class="line">    glVertexAttribPointer(positionSlot, <span class="number">3</span>, GL_FLOAT, GL_FALSE, <span class="keyword">sizeof</span>(SenceVertex), <span class="literal">NULL</span> + offsetof(SenceVertex, positionCoord));</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®çº¹ç†æ•°æ®</span></div><div class="line">    glEnableVertexAttribArray(textureCoordsSlot);</div><div class="line">    glVertexAttribPointer(textureCoordsSlot, <span class="number">2</span>, GL_FLOAT, GL_FALSE, <span class="keyword">sizeof</span>(SenceVertex), <span class="literal">NULL</span> + offsetof(SenceVertex, textureCoord));</div><div class="line">    </div><div class="line">    <span class="comment">// å¼€å§‹ç»˜åˆ¶</span></div><div class="line">    glDrawArrays(GL_TRIANGLE_STRIP, <span class="number">0</span>, <span class="number">4</span>);</div><div class="line">    </div><div class="line">    <span class="comment">// å°†ç»‘å®š</span></div><div class="line">    [<span class="keyword">self</span>.context presentRenderbuffer:GL_RENDERBUFFER];</div><div class="line">    </div><div class="line">    <span class="comment">//åˆ é™¤é¡¶ç‚¹ç¼“å­˜</span></div><div class="line">    glDeleteBuffers(<span class="number">1</span>, &amp;vertexBuffer);</div><div class="line">    vertexBuffer = <span class="number">0</span>;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//ç»‘å®šå›¾åƒè¦è¾“å‡ºçš„ layer</span></div><div class="line">- (<span class="keyword">void</span>)bindRenderLayer:(<span class="built_in">CALayer</span> &lt;EAGLDrawable&gt; *)layer &#123;</div><div class="line">    GLuint frameBuffer; <span class="comment">//å¸§ç¼“å†²</span></div><div class="line">    GLuint renderBuffer; <span class="comment">//æ¸²æŸ“ç¼“å†²</span></div><div class="line"></div><div class="line">    <span class="comment">//ç»‘å®šæ¸²æŸ“ç¼“å†²åˆ° è¾“å‡ºçš„layer</span></div><div class="line">    glGenRenderbuffers(<span class="number">1</span>, &amp;renderBuffer);</div><div class="line">    glBindRenderbuffer(GL_RENDERBUFFER, renderBuffer);</div><div class="line">    [<span class="keyword">self</span>.context renderbufferStorage:GL_RENDERBUFFER fromDrawable:layer];</div><div class="line">    </div><div class="line">    <span class="comment">//å°†æ¸²æŸ“ç¼“å†²é™„ç€åœ¨å¸§ç¼“å†²ä¸Š</span></div><div class="line">    glGenFramebuffers(<span class="number">1</span>, &amp;frameBuffer);</div><div class="line">    glBindFramebuffer(GL_FRAMEBUFFER, frameBuffer);</div><div class="line">    glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_RENDERBUFFER, renderBuffer);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// é€šè¿‡ä¸€ä¸ªå›¾ç‰‡ åˆ›å»ºçº¹ç†</span></div><div class="line">- (GLuint)createTextureWithImage:(<span class="built_in">UIImage</span> *)image &#123;</div><div class="line">    <span class="comment">// å°† UIImage è½¬æ¢ä¸º CGImageRef</span></div><div class="line">    <span class="built_in">CGImageRef</span> cgImageRef = [image <span class="built_in">CGImage</span>];</div><div class="line">    GLuint width = (GLuint)<span class="built_in">CGImageGetWidth</span>(cgImageRef);</div><div class="line">    GLuint height = (GLuint)<span class="built_in">CGImageGetHeight</span>(cgImageRef);</div><div class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, width, height);</div><div class="line">    </div><div class="line">    <span class="comment">// ç»˜åˆ¶å›¾ç‰‡</span></div><div class="line">    <span class="built_in">CGColorSpaceRef</span> colorSpace = <span class="built_in">CGColorSpaceCreateDeviceRGB</span>();</div><div class="line">    <span class="keyword">void</span> *imageData = malloc(width * height * <span class="number">4</span>);</div><div class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">CGBitmapContextCreate</span>(imageData, width, height, <span class="number">8</span>, width * <span class="number">4</span>, colorSpace, kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</div><div class="line">    <span class="built_in">CGContextTranslateCTM</span>(context, <span class="number">0</span>, height);</div><div class="line">    <span class="built_in">CGContextScaleCTM</span>(context, <span class="number">1.0</span>f, <span class="number">-1.0</span>f);</div><div class="line">    <span class="built_in">CGColorSpaceRelease</span>(colorSpace);</div><div class="line">    <span class="built_in">CGContextClearRect</span>(context, rect);</div><div class="line">    <span class="built_in">CGContextDrawImage</span>(context, rect, cgImageRef);</div><div class="line"></div><div class="line">    <span class="comment">// ç”Ÿæˆçº¹ç†</span></div><div class="line">    GLuint textureID;</div><div class="line">    glGenTextures(<span class="number">1</span>, &amp;textureID);</div><div class="line">    glBindTexture(GL_TEXTURE_2D, textureID);</div><div class="line">    glTexImage2D(GL_TEXTURE_2D, <span class="number">0</span>, GL_RGBA, width, height, <span class="number">0</span>, GL_RGBA, GL_UNSIGNED_BYTE, imageData); <span class="comment">// å°†å›¾ç‰‡æ•°æ®å†™å…¥çº¹ç†ç¼“å­˜</span></div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®å¦‚ä½•æŠŠçº¹ç´ æ˜ å°„æˆåƒç´ </span></div><div class="line">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);</div><div class="line">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);</div><div class="line">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</div><div class="line">    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</div><div class="line">    </div><div class="line">    <span class="comment">// è§£ç»‘</span></div><div class="line">    glBindTexture(GL_TEXTURE_2D, <span class="number">0</span>);</div><div class="line">    </div><div class="line">    <span class="comment">// é‡Šæ”¾å†…å­˜</span></div><div class="line">    <span class="built_in">CGContextRelease</span>(context);</div><div class="line">    free(imageData);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> textureID;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å°†ä¸€ä¸ªé¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨æŒ‚åœ¨åˆ°ä¸€ä¸ªç€è‰²å™¨ç¨‹åºä¸Š, å¹¶è¿”å›ç¨‹åºçš„ id</span></div><div class="line">- (GLuint)programWithShaderName:(<span class="built_in">NSString</span> *)shaderName &#123;</div><div class="line">    <span class="comment">// ç¼–è¯‘ä¸¤ä¸ªç€è‰²å™¨</span></div><div class="line">    GLuint vertexShader = [<span class="keyword">self</span> compileShaderWithName:shaderName type:GL_VERTEX_SHADER];</div><div class="line">    GLuint fragmentShader = [<span class="keyword">self</span> compileShaderWithName:shaderName type:GL_FRAGMENT_SHADER];</div><div class="line">    </div><div class="line">    <span class="comment">// æŒ‚è½½ shader åˆ° program ä¸Š</span></div><div class="line">    GLuint program = glCreateProgram();</div><div class="line">    glAttachShader(program, vertexShader);</div><div class="line">    glAttachShader(program, fragmentShader);</div><div class="line">    </div><div class="line">    <span class="comment">// é“¾æ¥ program</span></div><div class="line">    glLinkProgram(program);</div><div class="line">    </div><div class="line">    <span class="comment">// æ£€æŸ¥é“¾æ¥æ˜¯å¦æˆåŠŸ</span></div><div class="line">    GLint linkSuccess;</div><div class="line">    glGetProgramiv(program, GL_LINK_STATUS, &amp;linkSuccess);</div><div class="line">    <span class="keyword">if</span> (linkSuccess == GL_FALSE) &#123;</div><div class="line">        GLchar messages[<span class="number">256</span>];</div><div class="line">        glGetProgramInfoLog(program, <span class="keyword">sizeof</span>(messages), <span class="number">0</span>, &amp;messages[<span class="number">0</span>]);</div><div class="line">        <span class="built_in">NSString</span> *messageString = [<span class="built_in">NSString</span> stringWithUTF8String:messages];</div><div class="line">        <span class="built_in">NSAssert</span>(<span class="literal">NO</span>, <span class="string">@"programé“¾æ¥å¤±è´¥ï¼š%@"</span>, messageString);</div><div class="line">        exit(<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> program;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ç¼–è¯‘ä¸€ä¸ª shaderï¼Œå¹¶è¿”å› shader çš„ id</span></div><div class="line">- (GLuint)compileShaderWithName:(<span class="built_in">NSString</span> *)name type:(GLenum)shaderType &#123;</div><div class="line">    <span class="comment">// æŸ¥æ‰¾ shader æ–‡ä»¶</span></div><div class="line">    <span class="built_in">NSString</span> *shaderPath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:name ofType:shaderType == GL_VERTEX_SHADER ? <span class="string">@"vsh"</span> : <span class="string">@"fsh"</span>]; <span class="comment">// æ ¹æ®ä¸åŒçš„ç±»å‹ç¡®å®šåç¼€å</span></div><div class="line">    <span class="built_in">NSError</span> *error;</div><div class="line">    <span class="built_in">NSString</span> *shaderString = [<span class="built_in">NSString</span> stringWithContentsOfFile:shaderPath encoding:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error];</div><div class="line">    <span class="keyword">if</span> (!shaderString) &#123;</div><div class="line">        <span class="built_in">NSAssert</span>(<span class="literal">NO</span>, <span class="string">@"è¯»å–shaderå¤±è´¥"</span>);</div><div class="line">        exit(<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª shader å¯¹è±¡</span></div><div class="line">    GLuint shader = glCreateShader(shaderType);</div><div class="line">    </div><div class="line">    <span class="comment">// è·å– shader çš„å†…å®¹</span></div><div class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *shaderStringUTF8 = [shaderString UTF8String];</div><div class="line">    <span class="keyword">int</span> shaderStringLength = (<span class="keyword">int</span>)[shaderString length];</div><div class="line">    glShaderSource(shader, <span class="number">1</span>, &amp;shaderStringUTF8, &amp;shaderStringLength);</div><div class="line">    </div><div class="line">    <span class="comment">// ç¼–è¯‘shader</span></div><div class="line">    glCompileShader(shader);</div><div class="line">    </div><div class="line">    <span class="comment">// æŸ¥è¯¢ shader æ˜¯å¦ç¼–è¯‘æˆåŠŸ</span></div><div class="line">    GLint compileSuccess;</div><div class="line">    glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;compileSuccess);</div><div class="line">    <span class="keyword">if</span> (compileSuccess == GL_FALSE) &#123;</div><div class="line">        GLchar messages[<span class="number">256</span>];</div><div class="line">        glGetShaderInfoLog(shader, <span class="keyword">sizeof</span>(messages), <span class="number">0</span>, &amp;messages[<span class="number">0</span>]);</div><div class="line">        <span class="built_in">NSString</span> *messageString = [<span class="built_in">NSString</span> stringWithUTF8String:messages];</div><div class="line">        <span class="built_in">NSAssert</span>(<span class="literal">NO</span>, <span class="string">@"shaderç¼–è¯‘å¤±è´¥ï¼š%@"</span>, messageString);</div><div class="line">        exit(<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> shader;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - public methods å…¬æœ‰æ–¹æ³•</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - getters and setters è®¾ç½®å™¨å’Œè®¿é—®å™¨</span></div><div class="line"><span class="comment">// è·å–æ¸²æŸ“ç¼“å­˜å®½åº¦</span></div><div class="line">- (GLint)drawableWidth &#123;</div><div class="line">    GLint backingWidth;</div><div class="line">    glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_WIDTH, &amp;backingWidth);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> backingWidth;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è·å–æ¸²æŸ“ç¼“å­˜é«˜åº¦</span></div><div class="line">- (GLint)drawableHeight &#123;</div><div class="line">    GLint backingHeight;</div><div class="line">    glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_HEIGHT, &amp;backingHeight);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> backingHeight;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - life cycle è§†å›¾çš„ç”Ÿå‘½å‘¨æœŸ</span></div><div class="line">- (<span class="keyword">void</span>)dealloc &#123;</div><div class="line">    <span class="keyword">if</span> ([EAGLContext currentContext] == <span class="keyword">self</span>.context) &#123;</div><div class="line">        [EAGLContext setCurrentContext:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//é‡Šæ”¾ç»“æ„ä½“å†…å­˜çš„æ•°ç»„ éœ€è¦æ‰‹åŠ¨free</span></div><div class="line">    <span class="keyword">if</span> (_vertices) &#123;</div><div class="line">        free(_vertices);</div><div class="line">        _vertices = <span class="literal">nil</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h3 id="é¡¶ç‚¹ç€è‰²å™¨">é¡¶ç‚¹ç€è‰²å™¨</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">attribute vec4 Position;</div><div class="line">attribute vec2 TextureCoords;</div><div class="line">varying vec2 TextureCoordsVarying;</div><div class="line"></div><div class="line">void main (void) &#123;</div><div class="line">    gl_Position = Position;</div><div class="line">    TextureCoordsVarying = TextureCoords;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ç‰‡å…ƒç€è‰²å™¨">ç‰‡å…ƒç€è‰²å™¨</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">precision mediump float;</div><div class="line"></div><div class="line">uniform sampler2D Texture;</div><div class="line">varying vec2 TextureCoordsVarying;</div><div class="line"></div><div class="line">void main (void) &#123;</div><div class="line">    vec4 mask = texture2D(Texture, TextureCoordsVarying);</div><div class="line">    gl_FragColor = vec4(mask.rgb, 1.0);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ€è¿‘ä¸€æœ‰æ—¶é—´å°±å°½é‡ç ”ä¹ å›¾å½¢å›¾åƒç›¸å…³çš„æŠ€æœ¯,æœ¬æ–‡å…·æœ‰å¼ºçƒˆçš„ä¸ªäººæ„Ÿæƒ…è‰²å½©,å¦‚æœ‰è§‚çœ‹ä¸é€‚,è¯·å°½å¿«å…³é—­. æœ¬æ–‡ä»…ä½œä¸ºä¸ªäººå­¦ä¹ è®°å½•ä½¿ç”¨,ä¹Ÿæ¬¢è¿åœ¨è®¸å¯åè®®èŒƒå›´å†…è½¬è½½æˆ–ä½¿ç”¨,è¯·å°Šé‡ç‰ˆæƒå¹¶ä¸”ä¿ç•™åŸæ–‡é“¾æ¥,è°¢è°¢æ‚¨çš„ç†è§£åˆä½œ. å¦‚æœæ‚¨è§‰å¾—æœ¬ç«™å¯¹æ‚¨èƒ½æœ‰å¸®åŠ©,æ‚¨å¯ä»¥ä½¿ç”¨RSSæ–¹å¼è®¢é˜…æœ¬ç«™,è¿™æ ·æ‚¨å°†èƒ½åœ¨ç¬¬ä¸€æ—¶é—´è·å–æœ¬ç«™ä¿¡æ¯.</p>
<p><a href="https://github.com/sunyazhou13/GLSLDemo1" target="_blank" rel="external">Demo</a></p>
<p><a href="http://www.lymanli.com/2019/02/17/ios-opengles-render-texture/" target="_blank" rel="external">å­¦ä¹ å‚è€ƒ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/d906db5da48581d2dd96615aeb5122c0e6265304/20190906Ope
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>åšä¸€ä¸ªç®€å•çš„LoadingåŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2019/07/26/20190726LoadingAnimationI/"/>
    <id>https://www.sunyazhou.com/2019/07/26/20190726LoadingAnimationI/</id>
    <published>2019-07-26T03:13:44.000Z</published>
    <updated>2019-11-27T14:24:05.021Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c85027ac27deef00d0e98c5a4f898d5dd2642146/20190726LoadingAnimationI/circle-loading-animation.png"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>ç”±äºæœ€è¿‘å·¥ä½œå¿™åˆ°ååœ°é“å›å®¶éƒ½èƒ½ç¡ç€,åšå®¢æ²¡èƒ½åŠæ—¶æ›´æ–°,ä»Šå¤©æŠ½ä¸ªæ—¶é—´å†™ä¸ªåŠ è½½åŠ¨ç”»,åºŸè¯ä¸å¤šè¯´ä¸Šå›¾.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/1ecb815a4985fcf281d399f42686c277189593cd/20190726LoadingAnimationI/LoadingAnimation1.gif"></p>
<p>(é¢œè‰²å¯ä»¥è‡ªå®šä¹‰å“ˆ,éå¸¸ç®€å•,å°ç™½è‡ªå·±å¯ä»¥éšä¾¿æ”¹)</p>
<h1 id="å¼€å§‹">å¼€å§‹</h1>
<p>åˆ›å»ºä¸€ä¸ªUIViewçš„å­ç±»<code>UILoadingView</code>(åå­—æœ€å¥½ä¸è¦å¸¦<code>UI</code>å¼€å¤´å“ˆ,æˆ‘è¿™æ˜¯ä¸ºäº†ç© å¤§å®¶ç†è§£å°±è¡Œ),ç„¶åæ·»åŠ ä¸¤ä¸ªæ¥å£</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UILoadingView</span> : <span class="title">UIView</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)startLoading; <span class="comment">//1</span></div><div class="line">- (<span class="keyword">void</span>)stopLoading;  <span class="comment">//2</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<blockquote>
<ol type="1">
<li>å¼€å§‹åŠ¨ç”»</li>
<li>ç»“æŸåŠ¨ç”»</li>
</ol>
</blockquote>
<p>å®ç°çš„.mæ–‡ä»¶ä¸­æˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>CAReplicatorLayer</code>,ä¸»è¦æ˜¯çœ‹ä¸Šè¾¹çš„å°åœ†ç‚¹æ¯”è¾ƒå¤š,ç”¨<code>CAReplicatorLayer</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºå¤šä¸ªå°åœ†ç‚¹å®ä¾‹.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UILoadingView</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">CAReplicatorLayer</span> *replicatorLayer;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UILoadingView</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame &#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithFrame:frame];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        [<span class="keyword">self</span> setupSubviews];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</div><div class="line">    [<span class="keyword">super</span> awakeFromNib];</div><div class="line">    [<span class="keyword">self</span> setupSubviews];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)setupSubviews &#123;</div><div class="line">	<span class="comment">//è¿™é‡Œè¦è¡¥å…¨ä»£ç  åˆ›å»ºéœ€è¦çš„è§†å›¾ ç»§ç»­å¾€ä¸‹çœ‹</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºå­è§†å›¾">åˆ›å»ºå­è§†å›¾</h3>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªreplicatorLayerçš„å®ä¾‹å¯¹è±¡,ç„¶åå‘è¿™ä¸ªå¯¹è±¡ä¸Šæ·»åŠ ä¸€ä¸ªåœ†ç‚¹çš„,å¹¶é”™å¼€è§’åº¦.è¿™é‡Œç”¨åˆ°çš„çŸ¥è¯†ç‚¹åŸºæœ¬å°±æ˜¯positionå’Œboundså•¥å…³ç³».è¿™é‡Œæˆ‘ä¸æƒ³å•°å—¦äº†å¤§å®¶è‡ªè¡Œgoogleå°±è¡Œäº†.ä¸Šä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setupSubviews &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.replicatorLayer == <span class="literal">nil</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.replicatorLayer = [<span class="built_in">CAReplicatorLayer</span> layer];</div><div class="line">        <span class="keyword">self</span>.replicatorLayer.backgroundColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">        [<span class="keyword">self</span>.layer addSublayer:<span class="keyword">self</span>.replicatorLayer];</div><div class="line">        <span class="keyword">self</span>.replicatorLayer.bounds = <span class="keyword">self</span>.bounds;</div><div class="line">        <span class="keyword">self</span>.replicatorLayer.position = <span class="keyword">self</span>.center;</div><div class="line">        <span class="built_in">NSInteger</span> instanceCount = <span class="number">15</span>;  <span class="comment">//1</span></div><div class="line">        <span class="keyword">self</span>.replicatorLayer.instanceCount = instanceCount; <span class="comment">//</span></div><div class="line">        <span class="keyword">self</span>.replicatorLayer.instanceTransform = <span class="built_in">CATransform3DMakeRotation</span>(M_PI * <span class="number">2</span> / instanceCount, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">//2</span></div><div class="line">        <span class="keyword">self</span>.replicatorLayer.instanceDelay = <span class="number">1</span> / (instanceCount * <span class="number">1.0</span>); <span class="comment">//2</span></div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//åœ†ç‚¹</span></div><div class="line">    <span class="built_in">CALayer</span> *circle = [<span class="built_in">CALayer</span> layer];</div><div class="line">    circle.bounds = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    circle.cornerRadius = <span class="number">5</span>;</div><div class="line">    circle.position = <span class="built_in">CGPointZero</span>;</div><div class="line">    circle.backgroundColor = [<span class="keyword">self</span> randomColor].CGColor;</div><div class="line">    circle.name = kCircleName; <span class="comment">//3  è®¾ç½®layerçš„å”¯ä¸€æ ‡è¯† </span></div><div class="line">    [<span class="keyword">self</span>.replicatorLayer addSublayer:circle];</div><div class="line">    <span class="comment">//å°æŠ€å·§ åˆšå¼€å§‹çš„åŠ¨ç”»ä¸æ˜¯å¾ˆè‡ªç„¶ï¼Œé‚£æ˜¯å› ä¸ºå°åœ†ç‚¹çš„åˆå§‹æ¯”ä¾‹æ˜¯1,è®©å°åœ†ç‚¹çš„åˆå§‹æ¯”ä¾‹ä¸º0.01</span></div><div class="line">    circle.transform = <span class="built_in">CATransform3DMakeScale</span>(<span class="number">0.01</span>, <span class="number">0.01</span>, <span class="number">0.01</span>); <span class="comment">//5</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<ol type="1">
<li>1å¤„çš„ä»£ç æ˜¯è®©<code>CAReplicatorLayer</code>å¸®æˆ‘ä»¬åˆ›å»ºæŒ‡å®šæ•°é‡çš„å®ä¾‹å¯¹è±¡(æˆ‘ä»¬æ·»åŠ çš„åŸç‚¹å°±æ˜¯å®ƒéœ€è¦çš„ä¹Ÿå°±æ˜¯è¯´å®ƒå¸®ä½ åˆ›å»ºäº†instanceCountä¸ªå®ä¾‹å¯¹è±¡)</li>
<li>2å¤„ä»£ç  æ˜¯è®¾ç½®é”™å¼€çš„è§’åº¦ï¼ˆ2Ï€ æ˜¯ 360Â°, å¦‚æœéœ€è¦ä¸€åœˆåˆ›å»ºæŒ‡å®šæ•°é‡çš„åœ†ç‚¹ é‚£ä¹ˆ instanceCount/2Ï€ å°±æ˜¯æ¯ä¸ªåœ†çš„è§’åº¦,è¿™é‡Œå¾ˆé‡è¦ è®¤çœŸå­¦ä¹ ä¸€ä¸‹.ï¼‰</li>
<li>3å¤„ä»£ç æ˜¯ç»™è¿™ä¸ªlayerè®¾ç½®ä¸€ä¸ªå”¯ä¸€æ ‡è¯† ä¸€ä¼šå„¿è¦é€šè¿‡æ–¹æ³•æ‰¾åˆ°å®ƒ,å¦‚æœ ä¸è¿™æ ·åšä½ å°±è¦æä¸ªæˆå‘˜å˜é‡å»å­˜ä¸€ä¸‹,å¦‚æœç”¨æˆå‘˜å˜é‡å­˜å‚¨çš„è¯æ³¨æ„å†…å­˜å¼•ç”¨å…³ç³»,æˆ‘è¿™é‡Œä¸æ¨èæˆå‘˜å˜é‡çš„ææ³•.</li>
<li>4å¤„ä»£ç ä¸»è¦æ˜¯è§£å†³åŠ¨ç”»ä¸è‡ªç„¶,å› ä¸ºæ·»åŠ åŠ¨ç”»çš„åœ†ç‚¹çš„åˆå§‹æ¯”ä¾‹æ˜¯1,åªæœ‰ç¬¬ä¸€æ¬¡å¼€å§‹çš„æ—¶å€™å¾ˆæ„£.</li>
</ol>
</blockquote>
<h4 id="æ‰¾åˆ°åœ†ç‚¹layer">æ‰¾åˆ°åœ†ç‚¹layer</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">CALayer</span> *)findCircleLayer &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">CALayer</span> *layer <span class="keyword">in</span> [<span class="keyword">self</span>.replicatorLayer sublayers]) &#123;</div><div class="line">        <span class="keyword">if</span> ([[layer name] isEqualToString:kCircleName]) &#123;</div><div class="line">            <span class="keyword">return</span> layer;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç”¨çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³• æ‰¾ä¸€ä¸‹æˆ‘ä»¬æ·»åŠ ä¸Šå»çš„layerå³å¯</p>
<h4 id="å®ç°å¯¹å¤–æš´éœ²çš„æ–¹æ³•">å®ç°å¯¹å¤–æš´éœ²çš„æ–¹æ³•</h4>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)startLoading &#123;</div><div class="line">    <span class="built_in">CALayer</span> *circleLayer = [<span class="keyword">self</span> findCircleLayer];</div><div class="line">    <span class="keyword">if</span> (circleLayer &amp;&amp; ![[circleLayer animationKeys] containsObject:kScaleAnimationKey]) &#123;</div><div class="line">        <span class="comment">//åŠ åŠ¨ç”»</span></div><div class="line">        <span class="built_in">CABasicAnimation</span> *scale = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">        scale.fromValue = @(<span class="number">1</span>);</div><div class="line">        scale.toValue = @(<span class="number">0.1</span>);</div><div class="line">        scale.duration = <span class="number">1</span>;</div><div class="line">        scale.repeatCount = HUGE;</div><div class="line">        [circleLayer addAnimation:scale forKey:kScaleAnimationKey];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)stopLoading &#123;</div><div class="line">    <span class="built_in">CALayer</span> *circleLayer = [<span class="keyword">self</span> findCircleLayer];</div><div class="line">    <span class="keyword">if</span> (circleLayer &amp;&amp; [[circleLayer animationKeys] containsObject:kScaleAnimationKey]) &#123;</div><div class="line">        [circleLayer removeAnimationForKey:kScaleAnimationKey];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>kScaleAnimationKey å¸¸é‡è‡ªè¡Œå®šä¹‰å³å¯.</p>
</blockquote>
<h4 id="æ”¯æŒautolayout">æ”¯æŒAutoLayout</h4>
<p>ç›®å‰å¤§å®¶ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯<code>Masonry</code>,æ‰€ä»¥è¿™é‡Œä½¿ç”¨<code>Masonry</code>è‡ªåŠ¨å¸ƒå±€, ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€ä¸»è¦æ˜¯æ˜¯ä¸ºäº†æ–¹ä¾¿å¤–éƒ¨è°ƒç”¨çš„æ—¶å€™å¤–éƒ¨è§†å›¾ä½¿ç”¨äº†è‡ªåŠ¨å¸ƒå±€,é‚£ä¹ˆå†…éƒ¨å°±éœ€è¦æ›´æ–°ç›¸å…³<code>layer</code>çš„<code>frame</code>.å…·ä½“ä»£ç å¦‚ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)layoutSubviews &#123;</div><div class="line">    [<span class="keyword">super</span> layoutSubviews];</div><div class="line">    </div><div class="line">    [<span class="built_in">CATransaction</span> begin];</div><div class="line">    [<span class="built_in">CATransaction</span> setDisableActions:<span class="literal">YES</span>];</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.bounds = <span class="keyword">self</span>.bounds;</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.position = <span class="built_in">CGPointMake</span>(<span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.bounds)/<span class="number">2</span>, <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.bounds)/<span class="number">2</span>);</div><div class="line">    </div><div class="line">    <span class="built_in">CALayer</span> *circleLayer = [<span class="keyword">self</span> findCircleLayer];</div><div class="line">    <span class="keyword">if</span> (circleLayer) &#123;</div><div class="line">        circleLayer.position = <span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.frame.size.width / <span class="number">2</span>, <span class="keyword">self</span>.frame.size.height/<span class="number">2</span> - <span class="number">40</span>); <span class="comment">//è·ç¦»åœ†å¿ƒ 40pt</span></div><div class="line">    &#125;</div><div class="line">    [<span class="built_in">CATransaction</span> commit];</div><div class="line">    [<span class="keyword">self</span>.replicatorLayer layoutSublayers];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº† éšå¼åŠ¨ç”»å’Œæ˜¾å¼åŠ¨ç”»ç›¸å…³çš„çŸ¥è¯†</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="built_in">CATransaction</span> begin];</div><div class="line">[<span class="built_in">CATransaction</span> setDisableActions:<span class="literal">YES</span>];</div><div class="line"></div><div class="line"><span class="comment">//... è¿™é‡Œä¿®æ”¹ç›¸å…³åŠ¨ç”»å‚æ•° </span></div><div class="line"></div><div class="line">[<span class="built_in">CATransaction</span> commit];</div></pre></td></tr></table></figure>
<p>å› ä¸ºæœ‰å¯èƒ½layeråœ¨åŠ¨ç”»ä¸­,å¦‚æœåœ¨åŠ¨ç”»ä¸­ä¸€èˆ¬åœ¨è¿™é‡Œéœ€è¦åŠ ä¸Š<code>äº‹åŠ¡</code>ä¿®æ”¹è¿™æ ·æ‰ä¼šæ›´é¡ºç•…è‡ªç„¶. å¯ä»¥çœ‹åˆ°æˆ‘ä¸Šè¾¹çš„ä»£ç æ³¨é‡Šå†™çš„<code>40pt</code>çš„è·ç¦» å®é™…ä¸Šæ˜¯åœ†å¿ƒè·ç¦»æˆ‘ä»¬ä¸Šè¾¹åšçš„åŸç‚¹layerçš„çš„è·ç¦»,å¤§å®¶å¯è‡ªè¡Œä¿®æ”¹.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ç”±äºæœ€è¿‘åœ¨ç ”ç©¶ä¸€<a href="https://juejin.im/post/5c1bbec66fb9a049cb18b64c" target="_blank" rel="external">éŸ³é¢‘æ³¢å½¢</a>çš„åŠ¨ç”»æ•ˆæœ,æƒ³å®ç°ä¸€ä¸ªç±»ä¼¼ç½‘æ˜“äº‘éŸ³ä¹çš„é»‘èƒ¶å”±ç‰‡æ•ˆæœ,å¯æ˜¯ç”¨åˆ°çš„çŸ¥è¯†æœ‰ç‚¹å¿˜è®°,ç”¨æ­¤ç‰‡æ–‡ç« æ¥å›é¡¾å¤ä¹ ä¸€ä¸‹åŠ¨ç”»çš„çŸ¥è¯†,ä¹Ÿæ˜¯ä¸ºäº†å¾ˆä¹…æ²¡æ›´æ–°çš„åšå®¢æ›´æ–°ä¸€ä¸‹,è®°å½•ä¸€ä¸‹ç»å¸¸å¿˜è®°çš„å°æŠ€å·§</p>
<p>Demoæˆ‘ç»™åœ¨ä¸‹é¢ä¹ŸæŠŠç›¸å…³çš„æ–‡ç« å‚è€ƒ æ”¾åœ¨ä¸‹æ–¹,æœ‰å…´è¶£å¤§å®¶å¯ä»¥å­¦ä¹ ä¸€ä¸‹.</p>
<p><a href="https://github.com/sunyazhou13/UILoadingView" target="_blank" rel="external">loadingåŠ¨ç”»Demo</a></p>
<p><a href="http://www.devtalking.com/articles/calayer-animation-replicator-animation/" target="_blank" rel="external">å‚è€ƒ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c85027ac27deef00d0e98c5a4f898d5dd2642146/20190726Loa
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOSåŠ¨ç”»" scheme="https://www.sunyazhou.com/tags/iOS%E5%8A%A8%E7%94%BB/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7å®‰è£…iptablesé˜²ç«å¢™</title>
    <link href="https://www.sunyazhou.com/2019/05/28/20190528CentosIptables/"/>
    <id>https://www.sunyazhou.com/2019/05/28/20190528CentosIptables/</id>
    <published>2019-05-28T02:06:24.000Z</published>
    <updated>2019-11-27T14:24:05.021Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ€è¿‘ç¿»å¢™æ€»ä¸ç¨³å®š æœ€åå‘ç°æ˜¯é˜²ç«å¢™é…ç½®é—®é¢˜ä»Šå¤© è®°å½•ä¸€ä¸‹</p>
<h2 id="é…ç½®">é…ç½®</h2>
<p>CentOS7é»˜è®¤çš„é˜²ç«å¢™ä¸æ˜¯iptables,è€Œæ˜¯firewalle.</p>
<p>å®‰è£…iptable iptable-service</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#å…ˆæ£€æŸ¥æ˜¯å¦å®‰è£…äº†iptables</span></div><div class="line">service iptables status</div><div class="line"><span class="comment">#å®‰è£…iptables</span></div><div class="line">yum install -y iptables</div><div class="line"><span class="comment">#å‡çº§iptables</span></div><div class="line">yum update iptables </div><div class="line"><span class="comment">#å®‰è£…iptables-services</span></div><div class="line">yum install iptables-services</div></pre></td></tr></table></figure>
<h2 id="ç¦ç”¨åœæ­¢è‡ªå¸¦çš„firewalldæœåŠ¡">ç¦ç”¨/åœæ­¢è‡ªå¸¦çš„firewalldæœåŠ¡</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#åœæ­¢firewalldæœåŠ¡</span></div><div class="line">systemctl stop firewalld</div><div class="line"><span class="comment">#ç¦ç”¨firewalldæœåŠ¡</span></div><div class="line">systemctl mask firewalld</div></pre></td></tr></table></figure>
<h2 id="è®¾ç½®ç°æœ‰è§„åˆ™">è®¾ç½®ç°æœ‰è§„åˆ™</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#æŸ¥çœ‹iptablesç°æœ‰è§„åˆ™</span></div><div class="line">iptables -L -n</div><div class="line"><span class="comment">#å…ˆå…è®¸æ‰€æœ‰,ä¸ç„¶æœ‰å¯èƒ½ä¼šæ¯å…·</span></div><div class="line">iptables -P INPUT ACCEPT</div><div class="line"><span class="comment">#æ¸…ç©ºæ‰€æœ‰é»˜è®¤è§„åˆ™</span></div><div class="line">iptables -F</div><div class="line"><span class="comment">#æ¸…ç©ºæ‰€æœ‰è‡ªå®šä¹‰è§„åˆ™</span></div><div class="line">iptables -X</div><div class="line"><span class="comment">#æ‰€æœ‰è®¡æ•°å™¨å½’0</span></div><div class="line">iptables -Z</div><div class="line"><span class="comment">#å…è®¸æ¥è‡ªäºloæ¥å£çš„æ•°æ®åŒ…(æœ¬åœ°è®¿é—®)</span></div><div class="line">iptables -A INPUT -i lo -j ACCEPT</div><div class="line"><span class="comment">#å¼€æ”¾22ç«¯å£</span></div><div class="line">iptables -A INPUT -p tcp --dport 22 -j ACCEPT</div><div class="line"><span class="comment">#å¼€æ”¾21ç«¯å£(FTP)</span></div><div class="line">iptables -A INPUT -p tcp --dport 21 -j ACCEPT</div><div class="line"><span class="comment">#å¼€æ”¾80ç«¯å£(HTTP)</span></div><div class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</div><div class="line"><span class="comment">#å¼€æ”¾443ç«¯å£(HTTPS)</span></div><div class="line">iptables -A INPUT -p tcp --dport 443 -j ACCEPT</div><div class="line"><span class="comment">#å…è®¸ping</span></div><div class="line">iptables -A INPUT -p icmp --icmp-type 8 -j ACCEPT</div><div class="line"><span class="comment">#å…è®¸æ¥å—æœ¬æœºè¯·æ±‚ä¹‹åçš„è¿”å›æ•°æ® RELATED,æ˜¯ä¸ºFTPè®¾ç½®çš„</span></div><div class="line">iptables -A INPUT -m state --state  RELATED,ESTABLISHED -j ACCEPT</div><div class="line"><span class="comment">#å…¶ä»–å…¥ç«™ä¸€å¾‹ä¸¢å¼ƒ</span></div><div class="line">iptables -P INPUT DROP</div><div class="line"><span class="comment">#æ‰€æœ‰å‡ºç«™ä¸€å¾‹ç»¿ç¯</span></div><div class="line">iptables -P OUTPUT ACCEPT</div><div class="line"><span class="comment">#æ‰€æœ‰è½¬å‘ä¸€å¾‹ä¸¢å¼ƒ</span></div><div class="line">iptables -P FORWARD DROP</div></pre></td></tr></table></figure>
<h2 id="å…¶ä»–è§„åˆ™è®¾å®š">å…¶ä»–è§„åˆ™è®¾å®š</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#å¦‚æœè¦æ·»åŠ å†…ç½‘ipä¿¡ä»»ï¼ˆæ¥å—å…¶æ‰€æœ‰TCPè¯·æ±‚ï¼‰</span></div><div class="line">iptables -A INPUT -p tcp -s 45.96.174.68 -j ACCEPT</div><div class="line"><span class="comment">#è¿‡æ»¤æ‰€æœ‰éä»¥ä¸Šè§„åˆ™çš„è¯·æ±‚</span></div><div class="line">iptables -P INPUT DROP</div><div class="line"><span class="comment">#è¦å°åœä¸€ä¸ªIPï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤ï¼š</span></div><div class="line">iptables -I INPUT -s ***.***.***.*** -j DROP</div><div class="line"><span class="comment">#è¦è§£å°ä¸€ä¸ªIPï¼Œä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤:</span></div><div class="line">iptables -D INPUT -s ***.***.***.*** -j DROP</div></pre></td></tr></table></figure>
<h2 id="ä¿å­˜è§„åˆ™è®¾å®š">ä¿å­˜è§„åˆ™è®¾å®š</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#ä¿å­˜ä¸Šè¿°è§„åˆ™</span></div><div class="line">service iptables save</div></pre></td></tr></table></figure>
<h2 id="å¼€å¯iptablesæœåŠ¡">å¼€å¯iptablesæœåŠ¡</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#æ³¨å†ŒiptablesæœåŠ¡</span></div><div class="line"><span class="comment">#ç›¸å½“äºä»¥å‰çš„chkconfig iptables on</span></div><div class="line">systemctl <span class="built_in">enable</span> iptables.service</div><div class="line"><span class="comment">#å¼€å¯æœåŠ¡</span></div><div class="line">systemctl start iptables.service</div><div class="line"><span class="comment">#æŸ¥çœ‹çŠ¶æ€</span></div><div class="line">systemctl status iptables.service</div></pre></td></tr></table></figure>
<h2 id="è§£å†³vsftpdåœ¨iptableså¼€å¯åæ— æ³•ä½¿ç”¨è¢«åŠ¨æ¨¡å¼çš„é—®é¢˜">è§£å†³vsftpdåœ¨iptableså¼€å¯å,æ— æ³•ä½¿ç”¨è¢«åŠ¨æ¨¡å¼çš„é—®é¢˜</h2>
<p>1.é¦–å…ˆåœ¨/etc/sysconfig/iptables-configä¸­ä¿®æ”¹æˆ–è€…æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="comment">#æ·»åŠ ä»¥ä¸‹å†…å®¹,æ³¨æ„é¡ºåºä¸èƒ½è°ƒæ¢</span></div><div class="line">IPTABLES_MODULES=<span class="string">"ip_conntrack_ftp"</span></div><div class="line">IPTABLES_MODULES=<span class="string">"ip_nat_ftp"</span></div></pre></td></tr></table></figure>
<p>2.é‡æ–°è®¾ç½®iptablesè®¾ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line">iptables -A INPUT -m state --state  RELATED,ESTABLISHED -j ACCEPT</div></pre></td></tr></table></figure>
<h3 id="ä»¥ä¸‹ä¸ºå®Œæ•´è®¾ç½®è„šæœ¬">ä»¥ä¸‹ä¸ºå®Œæ•´è®¾ç½®è„šæœ¬</h3>
<figure class="highlight sh"><table><tr><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line">iptables -P INPUT ACCEPT</div><div class="line">iptables -F</div><div class="line">iptables -X</div><div class="line">iptables -Z</div><div class="line">iptables -A INPUT -i lo -j ACCEPT</div><div class="line">iptables -A INPUT -p tcp --dport 22 -j ACCEPT</div><div class="line">iptables -A INPUT -p tcp --dport 21 -j ACCEPT</div><div class="line">iptables -A INPUT -p tcp --dport 80 -j ACCEPT</div><div class="line">iptables -A INPUT -p tcp --dport 443 -j ACCEPT</div><div class="line">iptables -A INPUT -p icmp --icmp-type 8 -j ACCEPT</div><div class="line">iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT</div><div class="line">iptables -P INPUT DROP</div><div class="line">iptables -P OUTPUT ACCEPT</div><div class="line">iptables -P FORWARD DROP</div><div class="line">service iptables save</div><div class="line">systemctl restart iptables.service</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;æœ€è¿‘ç¿»å¢™æ€»ä¸ç¨³å®š æœ€åå‘ç°æ˜¯é˜²ç«å¢™é…ç½®é—®é¢˜ä»Šå¤© è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;h2 id=&quot;é…ç½®&quot;&gt;é…ç½®&lt;/h2&gt;
&lt;p&gt;CentOS7é»˜è®¤çš„é˜²ç«å¢™ä¸æ˜¯iptables,è€Œæ˜¯firewalle.&lt;/p&gt;
&lt;p&gt;å®‰è£…iptable iptable
    
    </summary>
    
      <category term="linux" scheme="https://www.sunyazhou.com/categories/linux/"/>
    
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="shell" scheme="https://www.sunyazhou.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Cleaner For Xcodeç¼–è¯‘</title>
    <link href="https://www.sunyazhou.com/2019/05/17/20190517CleanerForXcodeBuild/"/>
    <id>https://www.sunyazhou.com/2019/05/17/20190517CleanerForXcodeBuild/</id>
    <published>2019-05-17T08:37:43.000Z</published>
    <updated>2019-11-27T14:24:05.020Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/18892e73bf7f0e113b0fe700afa62e43fe29272c/20190517CleanerForXcodeBuild/cleanerforxcode.png"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ€è¿‘å…¬å¸ç»™é…å‘ä¸€ä¸ªæœ€æ–°ç‰ˆçš„macbook pro, ç„¶åç»è¿‡ä¸€é¡¿æŠ˜è…¾ä»¥åå‘ç°åŸæ¥çš„è½¯ä»¶ æ— æ³• è¿ç§»è¿‡æ¥æˆ–è€…è¿ç§»èµ·æ¥æ¯”è¾ƒè´¹åŠ².äºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« .</p>
<h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<p>ç”±äºmacç£ç›˜ç©ºé—´æœ‰é™,ä¸å¾—ä¸å€ŸåŠ©ä¸€äº›ç¬¬ä¸‰æ–¹è½¯ä»¶æ¸…ç†ç£ç›˜,å°¤å…¶å¯¹äºä¸€ä¸ªiOSå¼€å‘è€…æ¥è¯´,å›ºæ€ç¡¬ç›˜128Gçš„macæˆ‘åªèƒ½è¯´å…¬å¸å¤ªæŠ äº†,å°±æ˜¯èƒ½å®‰è£…ä¸ªXcodeå¹²æ´»,å…¶ä½™çš„æˆ‘è§‰å¾—æˆ‘çš„256Gçš„iPhone Xè¶³å¤Ÿåº”ä»˜äº†</p>
<p>Xcodeæ˜¯å ç”¨macç©ºé—´æœ€å¤§çš„app,æ— è®ºä»å†…å­˜ã€ç£ç›˜ioã€ç³»ç»Ÿèµ„æº å…¨éƒ¨éƒ½èƒ½æ’ç¬¬ä¸€.å› ä¸ºå¹³æ—¶éƒ½ç”¨çœŸæœºè¿è¡Œæ‰€ä»¥Xcodeè‡ªå¸¦çš„æ¨¡æ‹Ÿå™¨ä¹Ÿæ’ä¸ä¸Šç”¨åœºè¿˜å ç”¨äº†ä¸€äº›ç£ç›˜ç©ºé—´,å‡ å¹´å‰æœ‰å°é¢çš„è¿™ä¸ªè½¯ä»¶å«Cleaner For Xcode.</p>
<p>æ˜¯ä¸ªå¼€æºçš„å¹¶ä¸”ç”¨React Nativeå†™çš„,æˆ‘è§‰å¾—å¾ˆå¥½ç”¨,ä¸è¿‡è¿™ä¸ªå¼€å‘è€…ä¸å¤Ÿåšé“,åœ¨macçš„ app store æ ‡ä»· $0.99ã€‚</p>
<p>çœŸçš„æˆ‘è¯´è¿™ä¸ªä½œè€…ä½ çœŸä¸å¤Ÿåšé“ä½ éƒ½open source äº†ä¸ºå•¥ä¸æ‰“ä¸ª releaseåŒ… å¹¿å¤§ macä¸Šçš„å°ä¼™ä¼´ç”¨å‘¢.äºæ˜¯ ä»Šå¤©æœ‰ç‚¹æ—¶é—´ æˆ‘é…ä¸ŠRNç¯å¢ƒ èª“æ­»ç¼–è¯‘å‡ºä¸€ä¸ªapp<strong>å…è´¹</strong>ç»™å¤§å®¶ä½¿ç”¨.</p>
<h2 id="è¿‡ç¨‹">è¿‡ç¨‹</h2>
<p>è¯è¯´æˆ‘çœŸä¸æƒ³è£…RN å¤ªæµªè´¹ç£ç›˜ç©ºé—´ è¿˜æµªè´¹æ—¶é—´,è¿«ä¸å¾—å·² ç»è¿‡ä¸€ç•ªæŠ˜è…¾ é‡åˆ°å¥½å¤šå‘</p>
<h4 id="å¡«å‘ç»å†">å¡«å‘ç»å†</h4>
<p>0.45ä»¥ä¸Šçš„RN éœ€è¦ boost åº“,è¿™ä¸ªåº“ ç¿»å¢™éƒ½å¾ˆè´¹åŠ² ä¸‹è½½ã€‚ã€‚ã€‚Done.</p>
<p>åˆè¦å®‰è£… yarnã€nodeã€npmã€çœ‹é—¨ç‹— watchdagã€‚ã€‚ã€‚ Done.</p>
<p>ç¼–è¾‘é”™è¯¯, Xcode10.12.1 ç›®å‰æœ€æ–°ç‰ˆ å„ç§ç¼–è¯‘é€‰é¡¹ é™æ€åˆ†æ Done.</p>
<p>å¤§æ¦‚è¿‡äº† 30åˆ†é’Ÿ ç»ˆäº æŠ˜è…¾ å‡ºä¸€ä¸ªapp</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p><a href="https://pan.baidu.com/s/1BClEjWLHS3htvKXoM11UjQ" target="_blank" rel="external">é“¾æ¥https://pan.baidu.com/s/1BClEjWLHS3htvKXoM11UjQ</a> æå–ç : <code>uhns</code></p>
<p>å„ä½æ‹¿å»ä¸ç”¨å®¢æ°”</p>
<p>å…¶å®å°±æ˜¯äº†è§£åˆ é™¤ Xcodeæ¯ä¸ªç›®å½•éƒ½å­˜å‚¨ä»€ä¹ˆç¼“å­˜ æ²¡äº‹åˆ é™¤ä¸€ä¸‹ æä¸ªå¥½çœ‹çš„UI.ä½œè€… æ˜¯æœ‰ç‚¹è›‹ç–¼ è¿™ä¹ˆç®€å•çš„åŠŸèƒ½ ä¸€ä¸ªshellæˆ–è€…objcå‡ è¡Œä»£ç æå®š éè¦å¤§åŠ¨å¹²æˆˆç”¨RN. ç„¶åè¿˜å¾ˆä¸åšé“çš„å¼€æº,è¿™ç§å¼€å‘è€…çœŸæ˜¯è›‹ç–¼.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/18892e73bf7f0e113b0fe700afa62e43fe29272c/20190517Cle
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Windowsè£…æœºæ•™ç¨‹</title>
    <link href="https://www.sunyazhou.com/2019/04/24/20190424WindowsResources/"/>
    <id>https://www.sunyazhou.com/2019/04/24/20190424WindowsResources/</id>
    <published>2019-04-24T03:26:34.000Z</published>
    <updated>2019-11-27T14:24:05.020Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>ä¸ºäº†è§£å†³æ¯æ¬¡éƒ½é‡è£…windowsç”µè„‘ç³»ç»Ÿæµªè´¹æ—¶é—´,å¹²è„†æ•´ç†ä¸€ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹,æ–¹ä¾¿åç»­ä¿®ç”µè„‘æ€»å¿˜è®°å„ç§å·¥å…·</p>
<h3 id="peå®‰è£…ç³»ç»Ÿæ•™ç¨‹">PEå®‰è£…ç³»ç»Ÿæ•™ç¨‹</h3>
<p>PEå·¥å…·ç®±åˆ¶ä½œ</p>
<p>ä¸»è¦æ­¥éª¤ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥:åˆ¶ä½œå‰çš„è½¯ä»¶ã€ç¡¬ä»¶å‡†å¤‡ï¼š8GåŠä»¥ä¸ŠUç›˜ä¸€ä¸ªéƒ½å¯ä»¥ï¼Œ ä¸€å°å¯æ­£å¸¸å¯ä¸Šç½‘çš„ç”µè„‘</li>
<li>ç¬¬äºŒæ­¥:ç”¨ç”µè„‘åº—Uç›˜å¯åŠ¨åˆ¶ä½œå·¥å…·åˆ¶ä½œå¯åŠ¨Uç›˜</li>
<li>ç¬¬ä¸‰æ­¥:ä¸‹è½½æ‚¨éœ€è¦çš„ç³»ç»Ÿæ–‡ä»¶å¹¶å¤åˆ¶åˆ°Uç›˜ä¸­</li>
<li>ç¬¬å››æ­¥:è¿›å…¥BIOSè®¾ç½®Uç›˜å¯åŠ¨é¡ºåº</li>
<li>ç¬¬äº”æ­¥:åœ¨è¿›å…¥WIN10 PEæ¨¡å¼åˆ†åŒºå®‰è£…ç³»ç»Ÿå³å¯</li>
<li>ç¬¬å…­æ­¥:ç³»ç»Ÿæ¿€æ´»é—®é¢˜</li>
<li>ç¬¬ä¸ƒæ­¥:å®‰è£…é©±åŠ¨é—®é¢˜</li>
</ul>
<h2 id="åˆ¶ä½œå·¥å…·ç®±æ•™ç¨‹">åˆ¶ä½œå·¥å…·ç®±æ•™ç¨‹</h2>
<p>é¦–å…ˆå…ˆä¸‹è½½ä¸€ä¸ªåˆ¶ä½œå¯åŠ¨å·¥å…·çš„è½¯ä»¶ï¼š</p>
<p>ä¸‹è½½åœ°å€:é“¾æ¥ï¼š<a href="http://www.usbrun.com/" target="_blank" rel="external">http://www.usbrun.com/</a></p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkgqy53nj20qn0d7gu0.jpg"></p>
<p>ä¸‹è½½ç²¾ç®€ç‰ˆæœ¬å¥½å å…ˆæŠŠæ€æ¯’è½¯ä»¶å…³æ‰ ï¼ï¼ åŒå‡»å®‰è£…ä¸€ä¸‹æ­¤è½¯ä»¶åˆ°ç”µè„‘ä¸Š ï¼Œå®‰è£…å¥½è½¯ä»¶åæ‰“å¼€ ï¼Œå¦‚æœè½¯ä»¶æç¤ºæ›´æ–°ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä¸éœ€è¦æ›´æ–°ï¼ï¼</p>
<p>æŠŠUç›˜æ’ä¸Š &gt;ã€æ³¨ï¼šUç›˜ä¼šæ ¼å¼åŒ–ï¼Œæœ‰èµ„æ–™å…ˆæ‹·è´å‡ºæ¥ä¿å­˜é¿å…è¢«æ ¼å¼æ‰äº†ã€‘</p>
<p>è¦æ˜¯çœ‹ä¸åˆ°è®¾å¤‡çš„è¯ï¼Œ æŠŠUç›˜é‡æ–°æ’ä¸€ä¸‹</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkgqtg3cj20km0efwih.jpg"></p>
<p>ç‚¹ä¸€é”®åˆ¶ä½œç„¶åç­‰åˆ¶ä½œå®Œæˆå°±OKï¼ï¼ åˆ¶ä½œå®Œæˆä¹‹å ç‚¹ä¸€ä¸‹æ¨¡æ‹Ÿå¯åŠ¨çœ‹ä¸‹Uç›˜èƒ½ä¸èƒ½å¯åŠ¨ï¼Œèƒ½çš„è¯å°±OKã€‚å…³æ‰å³å¯</p>
<h2 id="ä¸‹è½½ç³»ç»Ÿæ­¥éª¤">ä¸‹è½½ç³»ç»Ÿæ­¥éª¤</h2>
<p>ä¸‹é¢é€‰1ä¸ªéœ€è¦çš„ç³»ç»Ÿç‰ˆæœ¬ä¸‹è½½ (Uç›˜å®¹é‡å¤Ÿå¤§ä¸¤ä¸ªç³»ç»Ÿéƒ½å¯ä»¥ä¸‹è½½ä½¿ç”¨ æ­¤PEæ”¯æŒåŸç‰ˆç³»ç»Ÿå®‰è£…)</p>
<p>WIN7 64ä½ï¼ˆB360B450é”é¾™äºŒä»£CPUä¸»æ¿ä¸æ”¯æŒï¼‰ ç³»ç»Ÿä¸‹è½½è¿æ¥ï¼š<a href="http://www.jsgho.net/win7/jsy/35178.html" target="_blank" rel="external">é“¾æ¥</a>(æŠ€æœ¯å‘˜çº¯å‡€ç‰ˆ)</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkknutp5j20le07ndhs.jpg"></p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkknlhboj20nr0543yh.jpg"></p>
<h2 id="win710-64ä½">WIN7~10 64ä½</h2>
<p>ä¸“ä¸šç‰ˆ ä¸‹è½½åœ°å€ï¼š<a href="http://msdn.itellyou.cn/" target="_blank" rel="external">http://msdn.itellyou.cn/</a></p>
<p>å¯å¤åˆ¶æ­¤ç£åŠ›é“¾æ¥ä½¿ç”¨è¿…é›·æ–°å»ºä¸‹è½½ï¼š</p>
<p>ed2k://|file|cn_windows_10_business_edition_version_1803_updated_sep_2018_x64_dvd_07b164ed.iso|5229189120|5CC3C32DB198D647DCED4B0EB96B8547|/</p>
<p>ä¸‹è½½å‚è€ƒï¼š</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkmns9ewj20w60n5djh.jpg"></p>
<p>ä¸‹è½½å¥½çš„ç³»ç»Ÿç›´æ¥æ‹·è´åˆ°æ‚¨åˆšåˆšåˆ¶ä½œå¥½çš„çš„Uç›˜é‡Œï¼Œéšä¾¿æ”¾ä»€ä¹ˆä½ç½®éƒ½å¯ä»¥ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkmnyn49j20q10hztgf.jpg"></p>
<h2 id="è®¾ç½®uç›˜å¯åŠ¨æ­¥éª¤">è®¾ç½®Uç›˜å¯åŠ¨æ­¥éª¤</h2>
<p>åˆ¶ä½œå¥½çš„Uç›˜æ’ä¸Šæ‚¨éœ€è¦è£…ç³»ç»Ÿçš„ç”µè„‘ä¸Šï¼Œä»¥ä¸‹ä¸»æ¿Uç›˜å¿«æ·å¯åŠ¨æŒ‰é”® åç¡•å¯åŠ¨å¿«æ·é”®ï¼šF8<br>
æŠ€å˜‰ã€å¾®æ˜Ÿã€ä¸ƒå½©è™¹ã€æ˜‚è¾¾ã€åæ“ã€æ˜ æ³° ç‚¹å‡»ï¼šF11<br>
å“ç‰Œæœºï¼šæƒ æ™®ã€æƒ æ™®ã€æˆ´å°”ã€è”æƒ³ã€ç¥å· ç‚¹å‡»ï¼šF12</p>
<p>ä»¥ä¸‹åç¡•ä¸»æ¿å¿«æ·å¯åŠ¨èœå•é€‰æ‹©è¿›å…¥Uç›˜PEå‚è€ƒå›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æœºå¯åŠ¨è®¾å¤‡é€‰é¡¹ï¼Œæˆ‘ä»¬é€‰æ‹©åˆšåˆšåšå¥½çš„Uç›˜ ADATA USB Flash Drlve(14800MB)æŒ‰å›è½¦å³å¯</p>
<blockquote>
<p>ï¼ˆæ³¨æ„ï¼šé€‰æ‹©ä¸å¸¦UEFIçš„é€‰é¡¹ï¼‰</p>
</blockquote>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkogn1kzj20pc0ige62.jpg"></p>
<p>å‡ºç°Uç›˜å¯åŠ¨ç•Œé¢ å¦‚ä¸‹å›¾é€‰æ‹© å¯åŠ¨WIN10 PE X 64 ï¼Œåˆ«çš„ä¸ç”¨å»é€‰æ‹©ã€‚</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkogdvc2j20kg0feaot.jpg"></p>
<h2 id="åˆ†åŒºå®‰è£…ç³»ç»Ÿæ­¥éª¤">åˆ†åŒºå®‰è£…ç³»ç»Ÿæ­¥éª¤</h2>
<p>è¿›å»PEä¹‹å æˆ‘ä»¬å°±è¦å¯¹æ–°ç¡¬ç›˜ è¿›è¡Œä¸€ä¸ªåˆ†åŒºæ“ä½œäº†</p>
<blockquote>
<p>ã€å¦‚æœæ˜¯è€ç¡¬ç›˜ï¼Œæœ‰åˆ†åŒºçš„ é‚£å¯ä»¥çœç•¥è¿™ä¸€æ­¥ ç›´æ¥æŒ‰ç…§ä¸‹é¢è£…ç³»ç»Ÿã€‘</p>
</blockquote>
<p>è¿™é‡Œé‡‡ç”¨çš„æ˜¯ä¸€ä¸ªä¸‰æ˜Ÿ120Gçš„å›ºæ€ç¡¬ç›˜ï¼Œ<strong>ä¸€èˆ¬ä¸ºäº†å‘å›å›ºæ€æœ€å¤§æ€§èƒ½ï¼Œéƒ½è¦åœ¨ä¸»æ¿é¢„å…ˆå¼€å¯AHCIæ¨¡å¼å’Œåˆ†åŒºçš„æ—¶å€™é€‰æ‹©4Kå¯¹é½</strong>ï¼Œå¦å¤–3.0çš„æ•°æ®çº¿å’Œä¸»æ¿å¿…é¡»æ”¯æŒ3.0çš„æ¥å£ã€‚</p>
<p>AHCIæ¨¡å¼æ˜¯ä¸»æ¿è‡ªå¸¦çš„ æ–°ä¸»æ¿éƒ½æ”¯æŒ ï¼Œå¦‚æœæœ‰çš„è€çš„ä¸»æ¿æ˜¯IDEçš„é¢„å…ˆè®¾ç½®å¥½ï¼Œåç¡•æŠ€å˜‰B250ç­‰ä»¥ä¸Šä¸»æ¿ é»˜è®¤éƒ½æ˜¯AHCIæ¨¡å¼ä¸éœ€è¦æ›´æ”¹</p>
<p>å°±è¦é¦–å…ˆæ‰“å¼€DGåˆ†åŒºå·¥å…·ç®±è¿›è¡Œåˆ†åŒºå¤„ç† ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkql68yej2087095n03.jpg"></p>
<p>ç‚¹å‡»åˆ†åŒºå·¥å…· ä¹‹å ä¼šçœ‹åˆ°æ‚¨çš„ç¡¬ç›˜ è¿™æ—¶å€™ å¯ä»¥é€‰æ‹©æ‚¨çš„æ–°ç¡¬ç›˜ä¹‹å ç‚¹å‡»ä¸Šé¢çš„å¿«é€Ÿåˆ†åŒº å¦‚ä¸‹å›¾</p>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkqlcps7j20sk0le0vb.jpg"></p>
<p>åœ¨æ–°çš„é¡µé¢ä¸­ ä½ å¯ä»¥é€‰æ‹©åˆ†å‡ ä¸ªåŒº å¤šå°‘å®¹é‡ éƒ½å¯ä»¥è‡ªè¡Œå¡«å†™ åˆ«çš„ä¸éœ€è¦å»æ”¹å˜ ï¼Œå¦å¤–å³ä¸‹è§’ å°±æ˜¯4Kå¯¹é½ï¼Œåªè®¸å‹¾é€‰å³å¯ï¼Œå¦‚ä¸‹å›¾</p>
<blockquote>
<p>æ³¨ï¼šå›ºæ€ç¡¬ç›˜éœ€è¦é€‰æ‹©4Kï¼Œæœºæ¢°ç¡¬ç›˜ä¸ç”¨ç°åœ¨ ï¼Œé€‰æ‹©äº†ä¼šå¯¼è‡´è¿›ä¸äº†ç³»ç»Ÿ</p>
</blockquote>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkqlfbuwj20sg0lcdix.jpg"></p>
<p>åˆ†åŒºå¥½åå…³é—­åˆ†åŒºæ¥å£çª—å£çœ‹ä¸‹ä¸€æ­¥æ“ä½œ</p>
<h2 id="å®‰è£…ç³»ç»Ÿé•œåƒæ­¥éª¤">å®‰è£…ç³»ç»Ÿé•œåƒæ­¥éª¤</h2>
<p>æ‰“å¼€æ¡Œé¢ä¸Šçš„ç”µè„‘åº—ä¸€é”®è¿˜åŸï¼Œå¦‚ä¸‹å›¾</p>
<ul>
<li>â‘ é€‰æ‹©ç³»ç»Ÿé•œåƒæ–‡ä»¶ï¼Œç­‰å¾…è‡ªåŠ¨è¯†åˆ«å’ŒæŒ‚è½½åå†æ¬¡é€‰æ‹©ç³»ç»Ÿç‰ˆæœ¬ã€‚</li>
<li>â‘¡é€‰æ‹©éœ€è¦å®‰è£…ç³»ç»Ÿçš„åˆ†åŒºã€‚[å¯ä»¥æ ¹æ®åˆ†åŒºå®¹é‡æ ¼å¼ä¿¡æ¯æ¥åˆ¤æ–­åˆ†åŒº]</li>
<li>â‘¢ç‚¹å‡»æ‰§è¡ŒæŒ‰é’®ç­‰å¾…ç³»ç»Ÿå®‰è£…å®Œæˆåé‡å¯æ‹”æ‰Uç›˜ã€‚</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dkteiu6oj20sh0lcndo.jpg"><br>
<img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dktdvyxqj20sg0lcjz6.jpg"><br>
<img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dktdt7xvj20sg0ldqaq.jpg"><br>
<img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dktdmj5lj20s70lcwmd.jpg"><br>
<img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dktddlauj20se0lc0wb.jpg"><br>
<img src="http://ww1.sinaimg.cn/large/bf8500b1gy1g2dktdxzdgj20sg0ldgtn.jpg"></p>
<blockquote>
<p>PSï¼šç­‰è¿›åº¦æ¡èµ°å®Œäº† æç¤ºé‡å¯çš„æ—¶å€™ä¸€å®šè¦æ‹”æ‰Uç›˜ å†é‡å¯å“¦ï¼ï¼ä¹‹åå°±å¯ä»¥æ­£å¸¸è¿›å…¥å®‰è£…ç³»ç»Ÿè¿‡ç¨‹äº†ï¼Œç­‰å¾…å¤§æ¦‚5-10åˆ†é’Ÿå·¦å³è£…å¥½é‡å¯å³å¯æ­£å¸¸ä½¿ç”¨äº†</p>
</blockquote>
<p>å…è´£æ¡æ¬¾ &gt; (æœ¬ä½œå“ä»…é™ç½‘å‹äº¤æµå®‰è£…ç³»ç»Ÿç»éªŒï¼Œæˆ–å¯ä½œä¸´æ—¶å®‰è£…æµ‹è¯•PCç¡¬ä»¶ä¹‹ç”¨ï¼Œè¯·åœ¨å®‰è£…å24å°æ—¶å†…åˆ é™¤ï¼Œè‹¥éœ€è¦é•¿æœŸä½¿ç”¨ï¼Œè¯·è´­ä¹°æ­£ç‰ˆç³»ç»ŸåŠè½¯ä»¶ã€‚)</p>
<h2 id="æ¿€æ´»ç³»ç»Ÿæ­¥éª¤">æ¿€æ´»ç³»ç»Ÿæ­¥éª¤</h2>
<p>æ¿€æ´»å·¥å…·ç®±ä¸‹è½½è¿æ¥ï¼š <a href="https://pan.baidu.com/s/1i47JsOl" target="_blank" rel="external">win7~win10æ¿€æ´»å·¥å…·</a></p>
<h2 id="åç¡•ä¸»æ¿ç½‘å¡é©±åŠ¨å®‰è£…æ­¥éª¤">åç¡•ä¸»æ¿ç½‘å¡é©±åŠ¨å®‰è£…æ­¥éª¤</h2>
<p>æ•™ç¨‹è¿æ¥ï¼š<a href="http://note.youdao.com/noteshare?id=40345f63671ea936740aa771cca2d438" target="_blank" rel="external">http://note.youdao.com/noteshare?id=40345f63671ea936740aa771cca2d438</a></p>
<p>å»ºè®®ä¸Šç½‘å…¶ä»–é©±åŠ¨é—®é¢˜ä¸‹è½½ï¼š<a href="http://www.drivergenius.com/" target="_blank" rel="external">é©±åŠ¨ç²¾çµ æ ‡å‡†ç‰ˆ</a></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æ¯æ¬¡è£…æœºæ€»å¿˜è®°ä¸€äº›æµç¨‹ è¿™é‡Œè®°å½•ä¸‹æ¥</p>
<p><a href="https://note.youdao.com/ynoteshare1/index.html?id=e0f8c30393c4f069555d286020f9d394&amp;type=note" target="_blank" rel="external">å‚è€ƒ PEå®‰è£…ç³»ç»Ÿæ•™ç¨‹</a><br>
<a href="http://05aebac1.wiz03.com/share/s/05HHH13zK4EY2bE37Q00RO3H1CvO101754vQ2bNyFE2nhALV?tdsourcetag=s_pcqq_aiomsg" target="_blank" rel="external">Uç›˜åˆ»å½•å®‰è£…åŸç‰ˆç³»ç»Ÿæ•™ç¨‹</a><br>
<a href="http://msdn.itellyou.cn/" target="_blank" rel="external">I tell youç¥å¥‡çš„é•œåƒä¸‹è½½ç½‘ç«™ ç»å¯¹çº¯æ´</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;ä¸ºäº†è§£å†³æ¯æ¬¡éƒ½é‡è£…windowsç”µè„‘ç³»ç»Ÿæµªè´¹æ—¶é—´,å¹²è„†æ•´ç†ä¸€ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹,æ–¹ä¾¿åç»­ä¿®ç”µè„‘æ€»å¿˜è®°å„ç§å·¥å…·&lt;/p&gt;
&lt;h3 id=&quot;peå®‰è£…ç³»ç»Ÿæ•™ç¨‹&quot;&gt;PEå®‰è£…ç³»ç»Ÿæ•™ç¨‹&lt;/h3&gt;
&lt;p&gt;PEå·¥å…·ç®±åˆ¶ä½œ&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ­¥éª¤ï¼š&lt;/p&gt;

    
    </summary>
    
      <category term="windowsè£…æœº" scheme="https://www.sunyazhou.com/categories/windows%E8%A3%85%E6%9C%BA/"/>
    
    
      <category term="win7" scheme="https://www.sunyazhou.com/tags/win7/"/>
    
  </entry>
  
  <entry>
    <title>AVRoutePickerView</title>
    <link href="https://www.sunyazhou.com/2019/04/17/20190417AVRoutePickerView/"/>
    <id>https://www.sunyazhou.com/2019/04/17/20190417AVRoutePickerView/</id>
    <published>2019-04-17T07:19:52.000Z</published>
    <updated>2019-11-27T14:24:05.020Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/b0103699818f9d0cf124236b1693aca4fae22bad/20190417AVRoutePickerView/cover_album.jpg"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æœ€è¿‘æ— æ„ä¸­çœ‹äº†ä¸€ä¸‹AVKitå‘ç°å†…éƒ¨å¢åŠ äº†å¾ˆå¤šæ–°çš„å†…å®¹.å…¶ä¸­æœ‰ä¸ª<code>AVRoutePickerView</code>çš„UIæ§ä»¶,æ‰“ç®—ç ”ç©¶ä¸€ä¸‹. å…¶å®è¿™ä¸ªå¾ˆå¸¸è§å°±åœ¨ç³»ç»Ÿçš„æ§åˆ¶ä¸­å¿ƒ ä¸‹æ‹‰å±å¹•å°±èƒ½çœ‹è§ å½“ä½ è¿æ¥è€³æœºæˆ–è€…æ— çº¿è“ç‰™è®¾å¤‡çš„æ—¶å€™.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/13eb2699ea561fa3020d4611f9464c4f02aa0c96/20190417AVRoutePickerView/RouteChange2.gif"></p>
<p>è¿™é‡Œç½‘æ˜“äº‘éŸ³ä¹ä¸­æœ‰å®è·µçš„ä¾‹å­</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/13eb2699ea561fa3020d4611f9464c4f02aa0c96/20190417AVRoutePickerView/RouteChange1.gif"></p>
<p>è¿™ä¸ªæ§ä»¶ä¸»è¦ç”¨äºAirPlayæŠ•å± å’ŒéŸ³é¢‘çš„çº¿è·¯åˆ‡æ¢</p>
<p>é‚£ä¹ˆæˆ‘ä»Šå¤©å°±è·Ÿå¤§å®¶ä¸€èµ·å­¦ä¹ ä¸€ä¸‹è¿™ä¸ªæ–°çš„æ§ä»¶</p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<p>å¯¼å…¥<code>#import &lt;AVKit/AVKit.h&gt;</code></p>
<p>å‰©ä¸‹çš„å°±æ˜¯åˆ›å»ºå®ä¾‹è°ƒç”¨æ–¹æ³•</p>
<p>è¿™é‡Œç”¨ViewControlleråšç¤ºä¾‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()  &lt;<span class="title">AVRoutePickerViewDelegate</span>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (@available(iOS <span class="number">11.0</span>, *)) &#123;</div><div class="line">        <span class="built_in">AVRoutePickerView</span> *routerPickerView = [[<span class="built_in">AVRoutePickerView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)];</div><div class="line">        routerPickerView.activeTintColor = [<span class="built_in">UIColor</span> cyanColor];</div><div class="line">        routerPickerView.delegate = <span class="keyword">self</span>;</div><div class="line">        [<span class="keyword">self</span>.view addSubview:routerPickerView];</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// Fallback on earlier versions</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//AirPlayç•Œé¢å¼¹å‡ºæ—¶å›è°ƒ</span></div><div class="line">- (<span class="keyword">void</span>)routePickerViewWillBeginPresentingRoutes:(<span class="built_in">AVRoutePickerView</span> *)routePickerView API_AVAILABLE(ios(<span class="number">11.0</span>))&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Airplayè§†å›¾å¼¹å‡º"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//AirPlayç•Œé¢ç»“æŸæ—¶å›è°ƒ</span></div><div class="line">- (<span class="keyword">void</span>)routePickerViewDidEndPresentingRoutes:(<span class="built_in">AVRoutePickerView</span> *)routePickerView API_AVAILABLE(ios(<span class="number">11.0</span>))&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Airplayè§†å›¾å¼¹å›"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>æ·»åŠ å®Œä¹‹åè¿è¡Œå¦‚ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/526b8265245ebd6cd4c51c591720868eff8d2d60/20190417AVRoutePickerView/routechange3.gif"></p>
<p><code>AVRoutePickerView</code>è¿™ä¸ªViewæä¾›çš„API å°±ä¸¤ä¸ªé¢œè‰²å€¼å‰©ä¸‹çš„å•¥éƒ½æ²¡æœ‰,å•¥éƒ½æ”¹ä¸äº†,é‚£æ€ä¹ˆæ‰èƒ½å®ç°ç½‘æ˜“äº‘éŸ³ä¹é‚£æ ·è‡ªå®šä¹‰å›¾æ ‡å‘¢ï¼Ÿ</p>
<h5 id="æ·»åŠ è‡ªå®šä¹‰è§†å›¾">æ·»åŠ è‡ªå®šä¹‰è§†å›¾</h5>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] initWithFrame:routerPickerView.bounds];</div><div class="line">        imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"logo2"</span>];</div><div class="line">        [routerPickerView addSubview:imageView];</div></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/526b8265245ebd6cd4c51c591720868eff8d2d60/20190417AVRoutePickerView/routechange4.gif"></p>
<p>è‡ªå·±åŠ ä¸ªå›¾æ ‡å³å¯.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æ­¤æ§ä»¶åªé€‚ç”¨äºiOS11ä»¥å,ä½¿ç”¨çš„æ—¶å€™ è®°å¾—åŠ å¯ç”¨æ€§æ£€æµ‹API</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">if</span> (@available(iOS <span class="number">11.0</span>, *)) &#123;</div><div class="line">	<span class="comment">//è¿™é‡Œå†™åˆ›å»ºè§†å›¾ä»£ç </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ§ä»¶åœ¨å¤šæ•°åœºæ™¯ä¸Šæå‡äº†ç”¨æˆ·ä½“éªŒ,æ¯”å¦‚éŸ³è§†é¢‘ç±»appç»å¸¸é¢‘ç¹æ¥çº¿æ§æˆ–è€…è“ç‰™è€³æœº,é‚£ä¹ˆå¯¹è¿™ä¸ªæœ‰è¦æ±‚çš„å¯ä»¥è¯•è¯•.æ„Ÿè°¢æ”¯æŒ!</p>
<p><a href="https://github.com/sunyazhou13/AVRoutePickerViewDemo" target="_blank" rel="external">demoç‚¹å‡»è¿™é‡Œä¸‹è½½</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/b0103699818f9d0cf124236b1693aca4fae22bad/20190417AVR
    
    </summary>
    
      <category term="AVKit" scheme="https://www.sunyazhou.com/categories/AVKit/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSæŠ–éŸ³æ»šåŠ¨å­—å¹•</title>
    <link href="https://www.sunyazhou.com/2019/03/21/20190321UIScrollTextDemo/"/>
    <id>https://www.sunyazhou.com/2019/03/21/20190321UIScrollTextDemo/</id>
    <published>2019-03-21T01:50:20.000Z</published>
    <updated>2019-03-27T13:25:06.834Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/74173425cf3b36cfe3ca5895322534c073110e22/20190321UIScrollTextDemo/CALayer_proSwift_ru_hsuie-2.png"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<p>å¾ˆä¹…æ²¡æ›´æ–°åšå®¢äº†(å®¶é‡Œäº‹æƒ…æ¯”è¾ƒå¤šæ—¶é—´å¤ªç´§è¿«åŠ ä¸Šå·¥ä½œæ—¶é—´æœ‰é™),ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯æŠ–éŸ³å¾—æ»šåŠ¨å­—å¹•,ä¹Ÿå°±æ˜¯éŸ³ä¹ä¸“è¾‘çš„ä¸“è¾‘åç§° åºŸè¯ä¸å¤šè¯´ä¸Šå›¾</p>
<p>æŠ–éŸ³å¦‚ä¸‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a3d901e656f38c50dd52ea42306cad6527f99739/20190321UIScrollTextDemo/douyin_scroll_text.gif"></p>
<p>ç³»ç»Ÿçš„æ»šåŠ¨å­—å¹•å¦‚ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a8d850a7f752b71fa29b9f069baaeef2e14ecf7d/20190321UIScrollTextDemo/scrolltextdemo4.gif"></p>
<p>æœ¬ç¯‡å®Œæˆä¹‹åå¦‚ä¸‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a3d901e656f38c50dd52ea42306cad6527f99739/20190321UIScrollTextDemo/me_scroll_text.gif"></p>
<ul>
<li>æ”¯æŒè’™ç‰ˆæ¸å˜æ¨¡ç³Š å¯è°ƒèŠ‚</li>
<li>æ”¯æŒå¯Œæ–‡æœ¬å­—ç¬¦ä¸²ç”¨äºæ˜¾ç¤ºè¡¨æƒ…æˆ–è€…å›¾ç‰‡</li>
</ul>
<h1 id="å¼€ç¯‡">å¼€ç¯‡</h1>
<p>æ•´ä¸ªå®ç°æ¯”è¾ƒç®€å• ä¸è¶…è¿‡ 200è¡Œä»£ç </p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/bf6d749844033ba3b0c074559db978a18121f467/20190321UIScrollTextDemo/scrolltextdemo1.gif"></p>
<p>é¦–å…ˆæˆ‘ä»¬è¦ç”¨åˆ°ä¸¤ä¸ªCALayer</p>
<ul>
<li><code>CATextLayer</code> ç”¨äºå±•ç¤ºæ–‡æœ¬</li>
<li><code>CAGradientLayer</code> ç”¨äºç»™æ–‡æœ¬åŠ è’™ç‰ˆ</li>
</ul>
<p>ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ª<code>UIScrollTextView</code>ç»§æ‰¿è‡ª<code>UIView</code>(æˆ‘è¿™æ˜¯çº¯å¨±ä¹å†™æˆUIå‰ç¼€å¤§å®¶å¯è‡ªè¡Œå°è£…å“ˆ.)</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UIScrollTextView</span> : <span class="title">UIView</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>  ) <span class="built_in">NSString</span>           *text;   <span class="comment">//1</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIColor</span>            *textColor; <span class="comment">//2</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIFont</span>             *font;  <span class="comment">//3</span></div><div class="line"> </div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSAttributedString</span> *attrString; <span class="comment">//4</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> æ¸å˜å¼€å§‹çš„è·ç¦»(0~0.5) æ¨è 0.0x eg:0.026,</div><div class="line"> å¦‚æœè®¾ç½®æˆ1çš„æ—¶å€™è§†å›¾ä¸å¤Ÿé•¿ä¼šå‡ºç°æº¢å‡ºå¾—æƒ…å†µ ä¸æ¨èè¶…å‡ºèŒƒå›´</div><div class="line"> */</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span>            fade; <span class="comment">//5</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å¯¹å¤–æš´éœ²çš„æ¥å£</p>
<ul>
<li>1.æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹</li>
<li>2.æ–‡æœ¬é¢œè‰²</li>
<li>3.æ–‡æœ¬å­—ä½“</li>
<li>4.å±æ€§å­—ç¬¦ä¸² è‡ªè¡Œå¯æ§é¢œè‰²å­—ä½“å’Œæ ·å¼</li>
<li>5.è’™ç‰ˆæ¸å˜æ¨¡ç³Šçš„ æ¸å˜é•¿åº¦</li>
</ul>
<p>é¦–å…ˆå¤§å®¶å¯ä»¥å…ˆå¿½ç•¥è¿™äº›å¯¹å¤–æš´éœ²çš„æ¥å£ åˆ°.mä¸­çœ‹å®ç°å¦‚ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UIScrollTextView</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">CATextLayer</span>  *textLayer; <span class="comment">//æ–‡æœ¬layer  </span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">CAGradientLayer</span> *gradientLayer; <span class="comment">//è’™ç‰ˆæ¸å˜layer</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span>      textSeparateWidth; <span class="comment">//æ–‡æœ¬åˆ†å‰²å®½åº¦</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span>      textWidth;   <span class="comment">//æ–‡æœ¬å®½åº¦</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span>      textHeight;  <span class="comment">//æ–‡æœ¬é«˜åº¦</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGRect</span>       textLayerFrame; <span class="comment">//æ–‡æœ¬layerçš„frame</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span>      translationX; <span class="comment">//æ–‡å­—ä½ç½®æ¸¸æ ‡</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>åœ¨<code>initWithFrame:</code>;å’Œ<code>awakeFromNib</code>æ–¹æ³•ä¸­ åˆå§‹åŒ–ä¸€äº›æˆå‘˜å˜é‡</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame &#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithFrame:frame];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        [<span class="keyword">self</span> configProperty];<span class="comment">//åˆå§‹åŒ–æˆå‘˜å˜é‡ //1</span></div><div class="line">        [<span class="keyword">self</span> initLayer]; <span class="comment">//2</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)configProperty &#123;</div><div class="line">    _text = <span class="string">@""</span>;</div><div class="line">    _textColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">    _font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">14.0</span>];</div><div class="line">    <span class="keyword">self</span>.textSeparateWidth = [kSeparateText calculateSingleLineSizeFromFont:<span class="keyword">self</span>.font].width;</div><div class="line">    _fade = <span class="number">0.026</span>;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>1.configPropertyæ–¹æ³• åˆå§‹åŒ–é»˜è®¤å€¼</li>
<li>2.initLayeræ–¹æ³•åˆ›å»ºæˆ‘ä»¬éœ€è¦çš„2ä¸ªlayer &gt; configPropertyæ–¹æ³• åˆå§‹åŒ–æˆå‘˜å˜é‡æœ€å¥½ç”¨<code>_</code>ä¸‹åˆ’çº¿ è¿™æ ·ä¸ä¼šè§¦å‘<code>setter</code>å› ä¸ºæˆ‘ä»¬å¾ˆå¤šçš„ä»£ç éƒ½æ˜¯å†™åœ¨setterå’Œgetterä¸­</li>
</ul>
<h4 id="åˆå§‹åŒ–layer">åˆå§‹åŒ–Layer</h4>
<p>ä¸‹é¢æˆ‘ä»¬é‡ç‚¹çœ‹ä¸‹<code>initLayer</code></p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)initLayer &#123;</div><div class="line">    <span class="comment">//æ–‡æœ¬layer  1</span></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.textLayer == <span class="literal">nil</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.textLayer = [[<span class="built_in">CATextLayer</span> alloc] init];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">self</span>.textLayer.alignmentMode = kCAAlignmentNatural; <span class="comment">//è®¾ç½®æ–‡å­—å¯¹é½æ¨¡å¼ è‡ªç„¶å¯¹é½</span></div><div class="line">    <span class="keyword">self</span>.textLayer.truncationMode = kCATruncationNone;  <span class="comment">//è®¾ç½®æˆªæ–­æ¨¡å¼</span></div><div class="line">    <span class="keyword">self</span>.textLayer.wrapped = <span class="literal">NO</span>; <span class="comment">//æ˜¯å¦æŠ˜è¡Œ</span></div><div class="line">    <span class="keyword">self</span>.textLayer.contentsScale = [<span class="built_in">UIScreen</span> mainScreen].scale;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.textLayer.superlayer == <span class="literal">nil</span>) &#123;</div><div class="line">        [<span class="keyword">self</span>.layer addSublayer:<span class="keyword">self</span>.textLayer];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//æ¸å˜ 2</span></div><div class="line">    <span class="keyword">self</span>.gradientLayer = [<span class="built_in">CAGradientLayer</span> layer];</div><div class="line">    <span class="keyword">self</span>.gradientLayer.shouldRasterize = <span class="literal">YES</span>;</div><div class="line">    <span class="keyword">self</span>.gradientLayer.rasterizationScale = [<span class="built_in">UIScreen</span> mainScreen].scale;</div><div class="line">    <span class="keyword">self</span>.gradientLayer.startPoint = <span class="built_in">CGPointMake</span>(<span class="number">0.0</span>f, <span class="number">0.5</span>f); <span class="comment">//3</span></div><div class="line">    <span class="keyword">self</span>.gradientLayer.endPoint = <span class="built_in">CGPointMake</span>(<span class="number">1.0</span>f, <span class="number">0.5</span>f);  <span class="comment">//4</span></div><div class="line">    <span class="keyword">id</span> transparent = (<span class="keyword">id</span>)[<span class="built_in">UIColor</span> clearColor].CGColor; <span class="comment">// 5</span></div><div class="line">    <span class="keyword">id</span> opaque = (<span class="keyword">id</span>)[<span class="built_in">UIColor</span> blackColor].CGColor; <span class="comment">//5</span></div><div class="line">    <span class="keyword">self</span>.gradientLayer.colors = @[transparent, opaque, opaque, transparent]; <span class="comment">// 6</span></div><div class="line">    <span class="keyword">self</span>.gradientLayer.locations = @[@<span class="number">0</span>,@(<span class="keyword">self</span>.fade),@(<span class="number">1</span>-<span class="keyword">self</span>.fade),@<span class="number">1</span>]; <span class="comment">// 7</span></div><div class="line">    <span class="keyword">self</span>.layer.mask = <span class="keyword">self</span>.gradientLayer; <span class="comment">//8</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»£ç <code>1</code>å¤„ åˆ›å»º<code>CATextLayer</code>å’Œæˆ‘ä»¬åˆ›å»ºå…¶å®ƒCALayerä¸€æ ·æ²¡å•¥å¥½è¯´çš„,è®¾ç½®æŠ˜è¡Œã€å¯¹é½ã€æˆªæ–­...</p>
<p>ä»£ç <code>2</code>å¤„ è¿™é‡Œé‡ç‚¹è¯´ä¸€ä¸‹è¿™ä¸ª<code>CAGradientLayer</code></p>
<p>ä»£ç <code>3</code>å’Œ<code>4</code>å¤„æ˜¯è®¾ç½®è’™ç‰ˆæ¸å˜ çš„å¼€å§‹æ–¹å‘å’Œç»“æŸæ–¹å‘. (ä»¥å±å¹•å·¦ä¸‹è§’ä¸ºåŸç‚¹0,0è®¡ç®— åˆ°å±å¹•å³ä¸Šè§’1ï¼Œ1)</p>
<blockquote>
<p>å¦‚æœå¼€å§‹ç‚¹æ˜¯(0.0,0.5)ç»“æŸç‚¹æ˜¯(1.0,0.5)æ˜¯æ¨ªå‘æ¸å˜<br>
å¦‚æœå¼€å§‹ç‚¹æ˜¯(0.5,0)ç»“æŸç‚¹æ˜¯(0.5,1)æ˜¯çºµå‘æ¸å˜<br>
è¿™ä¸¤ä¸ªç‚¹å†³å®šäº†æ¸å˜çš„æ–¹å‘</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥æŠŠä»£ç å»æ‰è¿è¡Œçœ‹ä¸‹ä¸åŠ è’™ç‰ˆçš„æ•ˆæœå›¾ å¦‚ä¸‹:</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/6e4cfde36e70fcae28eea1be9ec30b45b2ff8889/20190321UIScrollTextDemo/scrolltextdemo2.gif"></p>
<p>è¿™é‡Œæˆ‘ç”¨cyané¢œè‰²åŒºåŸŸä»£è¡¨è§†å›¾çš„å¤§å°,æ–‡æœ¬ä¸åŠ è’™ç‰ˆå®é™…ä¸Šè¶…å‡ºæ˜¾ç¤ºèŒƒå›´çš„.</p>
<blockquote>
<p>æ³¨æ„: åŠ¨ç”»ä¸æ˜¯è¿™ä¸ªlayerè‡ªå¸¦,æ˜¯æˆ‘ä»¬è‡ªå·±åŠ çš„ä»£ç ,å¾€ä¸‹çœ‹ æœ‰ä»£ç </p>
</blockquote>
<p>ä»£ç <code>5</code>å¤„ä»£ç  æ˜¯ç»™å½“å‰æ¸å˜layeråŠ æ¸å˜é¢œè‰² å®ç°è’™ç‰ˆæ¨¡ç³Šé®ç›–çš„æ•ˆæœ</p>
<p>ä»£ç <code>6</code>å¤„ æŠŠå¯¹äºçš„é¢œè‰²çš„æ•°ç»„ä¸­ç»™<code>gradientLayer.colors</code></p>
<p>ä»£ç <code>7</code>å¤„ å¯¹åº” ä»£ç <code>6</code>å¤„ é…åˆä½¿ç”¨,å°±åšåˆ°äº†æˆ‘ä»¬ä¸¤è¾¹æ¸å˜é®ç›–çš„æ•ˆæœ</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/31e8bdd5de62b4a84ed7be97154bb99f61abb8ab/20190321UIScrollTextDemo/scrolltextdemo3.gif"></p>
<p>ä¸Šå›¾å°±æ˜¯æˆ‘ä»¬ä¸‹é¢ä»£ç çš„æ•ˆæœ,æˆ‘ä»¬åŠ äº†4ä¸ªç‚¹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.gradientLayer.colors = @[transparent, opaque, opaque, transparent]; <span class="comment">// 6</span></div><div class="line"><span class="keyword">self</span>.gradientLayer.locations = @[@<span class="number">0</span>,@(<span class="keyword">self</span>.fade),@(<span class="number">1</span>-<span class="keyword">self</span>.fade),@<span class="number">1</span>]; <span class="comment">// 7</span></div></pre></td></tr></table></figure>
<h4 id="æ›´æ–°layerå¸ƒå±€">æ›´æ–°layerå¸ƒå±€</h4>
<p>è¿™é‡Œæˆ‘ä»¬è¦åœ¨layoutSubviewsæ–¹æ³•ä¸­è®¡ç®—å‡ºæ­£ç¡®çš„å¸ƒå±€åæ ‡,å› ä¸ºå¤–éƒ¨æœ‰å¯èƒ½ä½¿ç”¨autolayoutå¸ƒå±€.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)layoutSubviews &#123;</div><div class="line">    [<span class="keyword">super</span> layoutSubviews];</div><div class="line">    </div><div class="line">    [<span class="built_in">CATransaction</span> begin];</div><div class="line">    [<span class="built_in">CATransaction</span> setDisableActions:<span class="literal">YES</span>];</div><div class="line">    <span class="built_in">CGFloat</span> textLayerFrameY = <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.bounds)/<span class="number">2</span> - <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.textLayer.bounds) / <span class="number">2</span>;</div><div class="line">    <span class="keyword">self</span>.textLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, textLayerFrameY, <span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.textLayerFrame), <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.textLayerFrame));</div><div class="line">    <span class="keyword">self</span>.gradientLayer.frame = <span class="keyword">self</span>.bounds;</div><div class="line">    [<span class="built_in">CATransaction</span> commit];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œä»£ç ä¸»è¦æ˜¯æ›´æ–°gradientLayer å’ŒtextLayerçš„frame. å¹¶</p>
<h5 id="ä¸ºä»€ä¹ˆè¦ç”¨catransaction">ä¸ºä»€ä¹ˆè¦ç”¨CATransaction?</h5>
<p>å› ä¸ºæˆ‘ä»¬è¦åœ¨åŠ¨ç”»è¿›è¡Œä¸­æ‰‹åŠ¨æ”¹å˜åŠ¨ç”»çš„å‚æ•°è¯¦æƒ…å‚è€ƒ<a href="http://jefferyfan.github.io/2016/06/27/programing/iOS/CATransaction/" target="_blank" rel="external">è®¾ç½®åŠ¨ç”»å‚æ•°</a></p>
<h3 id="å‰©ä¸‹çš„ä¸»è¦æœ‰3ä¸ªå·¥ä½œ">å‰©ä¸‹çš„ä¸»è¦æœ‰3ä¸ªå·¥ä½œ</h3>
<ul>
<li>ç»˜åˆ¶æ–‡æœ¬layer,å°±æ˜¯æŠŠæƒ³æ˜¾ç¤ºçš„å­—ç¬¦ä¸²ç»™self.textLayer.string</li>
<li>æ·»åŠ æ»šåŠ¨åŠ¨ç”»</li>
<li>æˆå‘˜å˜é‡çš„setterä¸­è°ƒç”¨ç»˜åˆ¶æ–‡æœ¬layerå’Œæ»šåŠ¨åŠ¨ç”»æ–¹æ³•</li>
</ul>
<h5 id="æ·»åŠ drawtextlayerç§æœ‰æ–¹æ³•">æ·»åŠ drawTextLayerç§æœ‰æ–¹æ³•</h5>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//æ‹¼è£…æ–‡æœ¬</span></div><div class="line">- (<span class="keyword">void</span>)drawTextLayer &#123;</div><div class="line">    <span class="keyword">self</span>.textLayer.foregroundColor = <span class="keyword">self</span>.textColor.CGColor;</div><div class="line">    <span class="built_in">CFStringRef</span> fontName = (__bridge <span class="built_in">CFStringRef</span>)<span class="keyword">self</span>.font.fontName;</div><div class="line">    <span class="built_in">CGFontRef</span> fontRef = <span class="built_in">CGFontCreateWithFontName</span>(fontName);</div><div class="line">    <span class="keyword">self</span>.textLayer.font = fontRef;</div><div class="line">    <span class="keyword">self</span>.textLayer.fontSize = <span class="keyword">self</span>.font.pointSize;</div><div class="line">    <span class="built_in">CGFontRelease</span>(fontRef);</div><div class="line">    <span class="comment">// 1</span></div><div class="line">    <span class="keyword">self</span>.textLayer.string = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@%@%@%@%@"</span>,_text,kSeparateText,_text,kSeparateText,_text];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ³¨æ„ <code>1</code> å¤„ ä»£ç  å¹²äº†ä¸¤ä»¶äº‹</p>
<ul>
<li>æ‹¼æ¥æ–‡æœ¬</li>
<li>ç»™layer.string</li>
</ul>
<p>æ ¼å¼æ‹¼æ¥ <strong>æ–‡æœ¬+3ä¸ªç©ºæ ¼+æ–‡æœ¬+3ä¸ªç©ºæ ¼+æ–‡æœ¬</strong></p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSString</span> * <span class="keyword">const</span> kSeparateText          = <span class="string">@"   "</span>;   <span class="comment">//3ä¸ªç©ºæ ¼</span></div></pre></td></tr></table></figure>
<blockquote>
<p>kSeparateText æ˜¯ä¸ªå¸¸é‡</p>
</blockquote>
<h5 id="æ·»åŠ æ–‡æœ¬æ»šåŠ¨åŠ¨ç”»">æ·»åŠ æ–‡æœ¬æ»šåŠ¨åŠ¨ç”»</h5>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)startAnimation &#123;</div><div class="line">    <span class="keyword">if</span> ([<span class="keyword">self</span>.textLayer animationForKey:kTextLayerAnimationKey]) &#123;</div><div class="line">        [<span class="keyword">self</span>.textLayer removeAnimationForKey:kTextLayerAnimationKey];</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">    animation.keyPath = <span class="string">@"transform.translation.x"</span>; <span class="comment">//æ²¿ç€Xè½´è¿åŠ¨</span></div><div class="line">    animation.fromValue = @(<span class="keyword">self</span>.bounds.origin.x);</div><div class="line">    animation.toValue = @(<span class="keyword">self</span>.bounds.origin.x - <span class="keyword">self</span>.translationX);</div><div class="line">    animation.duration = <span class="keyword">self</span>.textWidth * <span class="number">0.035</span>f;</div><div class="line">    animation.repeatCount = MAXFLOAT;</div><div class="line">    animation.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">    animation.fillMode = kCAFillModeForwards;</div><div class="line">    animation.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionLinear];</div><div class="line">    [<span class="keyword">self</span>.textLayer addAnimation:animation forKey:kTextLayerAnimationKey];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œç»™<code>self.textLayer</code>åŠ ä¸€ä¸ªCABasicAnimation,è®©å®ƒæ²¿ç€Xè½´è¿åŠ¨,å½“ç„¶å¦‚æœå¤§å®¶å–œæ¬¢åç»­æˆ‘æ·»åŠ å¤šä¸ªæ–¹å‘ç±»ä¼¼<a href="https://github.com/sunyazhou13/MarqueeLabel" target="_blank" rel="external">MarqueeLabelæ»šåŠ¨æ–‡æœ¬</a>ä¸€æ ·,ä¸è¿‡æˆ‘è§‰å¾—<a href="https://github.com/sunyazhou13/MarqueeLabel" target="_blank" rel="external">MarqueeLabelæ»šåŠ¨æ–‡æœ¬</a>çš„å®ç°å¤ªå¤æ‚,ä¸å¤Ÿæ¥åœ°æ°”,è¿™ä¸ªç®€å•çš„åŠ¨ç”»æ•ˆæœè¿˜æ˜¯è¦è‡ªå·±å†™æ¯”è¾ƒé è°±.</p>
<blockquote>
<p>ç»™self.textLayeræ·»åŠ åŠ¨ç”»å³å¯,ç›¸ä¿¡å¤§å®¶éå¸¸äº†è§£iOSåŠ¨ç”»æˆ‘å°±ä¸ä¸€ä¸€ä»‹ç»äº†.</p>
</blockquote>
<h5 id="æˆå‘˜å˜é‡çš„setterä¸­è°ƒç”¨ç»˜åˆ¶æ–‡æœ¬layerå’Œæ»šåŠ¨åŠ¨ç”»æ–¹æ³•">æˆå‘˜å˜é‡çš„setterä¸­è°ƒç”¨ç»˜åˆ¶æ–‡æœ¬layerå’Œæ»šåŠ¨åŠ¨ç”»æ–¹æ³•</h5>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setText:(<span class="built_in">NSString</span> *)text &#123;</div><div class="line">    _text = text;</div><div class="line">    <span class="comment">//è®¡ç®—å•è¡Œæ–‡æœ¬å¤§å°</span></div><div class="line">    <span class="built_in">CGSize</span> size = [text calculateSingleLineSizeWithAttributeText:_font];</div><div class="line">    _textWidth = size.width;</div><div class="line">    _textHeight = size.height;</div><div class="line">    _textLayerFrame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, _textWidth * <span class="number">3</span> + _textSeparateWidth * <span class="number">2</span>, _textHeight);</div><div class="line">    _translationX = _textWidth + _textSeparateWidth;</div><div class="line">    [<span class="keyword">self</span> drawTextLayer];</div><div class="line">    [<span class="keyword">self</span> startAnimation];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæ¯æ¬¡ç»™å½“å‰è§†å›¾è®¾ç½®ç›¸å…³æ–‡æœ¬çš„æ—¶å€™ setterå¤„,å°±è°ƒç”¨ä¸€ä¸‹ æ¸²æŸ“æ–‡æœ¬å’ŒåŠ¨ç”».è¿™æ ·å¯ä»¥å¯¹å¤–éƒ¨æš´éœ²ç›¸å…³æ¥å£å®æ—¶ä¿®æ”¹å®æ—¶ç”Ÿæ•ˆ.è‡³äºå…¶å®ƒçš„å±æ€§å­—ç¬¦ä¸²,å­—ä½“ç­‰ä¹Ÿè¦æœ€åè¿½åŠ ä¸Š</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> drawTextLayer];</div><div class="line">[<span class="keyword">self</span> startAnimation];</div></pre></td></tr></table></figure>
<p>å› ä¸ºæ”¹åŠ¨å¯¹æ–‡æœ¬å¤§å°æœ‰å½±å“</p>
<p>æ–‡å­—çš„è®¡ç®—å¤§å°è¿™é‡Œç”¨çš„æ˜¯ CoreText,æ”¯æŒå¤šè¡Œå’Œå•è¡Œ</p>
<p>å±æ€§å­—ç¬¦ä¸²ä¹Ÿä¸€æ ·å°±ä¸å†™åœ¨è¿™é‡Œäº†. è¯¦ç»†ä»£ç demoæˆ‘å·²ç»æŠŠå®ƒå†™åˆ°æ–‡ç« ä¸‹æ–¹ å¤§å®¶è‡ªè¡ŒåŠ è½½å­¦ä¹ å³å¯</p>
<p>æœ€ç»ˆæ•ˆæœ <img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a3d901e656f38c50dd52ea42306cad6527f99739/20190321UIScrollTextDemo/me_scroll_text.gif"></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ç”±äºä¸šä½™æ—¶é—´æœ‰é™,æ²¡èƒ½1ä¸ªæœˆç¨³å®šæ›´æ–°2åæ–‡ç« ,è¯·å„ä½åŒä»ç†è§£,æŠ–éŸ³ç³»åˆ—åŠ¨ç”»éœ€è¦å…ˆå†™demoç„¶åä»”ç»†ç ”ç©¶,æœ€ç»ˆæ‰å½¢æˆæ–‡ç« .åˆ¶ä½œä¸æ˜“,æœ¬ç¯‡ä¹Ÿå‚è€ƒäº†å¼€æºä»£ç å’Œä¸€äº›æ»šåŠ¨å­—å¹•çš„åº“.ç”±äºæ¼”ç¤ºçš„ä¸å®Œç¾,æœ‰äº›ç±»è¿˜æœ‰å¯æ‰©å±•ç©ºé—´,æ¯”å¦‚ å¼€å§‹åŠ¨ç”»å’Œç»“æŸåŠ¨ç”»å¯¹å¤–æš´éœ²æ¥å£,æ¯”å¦‚åƒç³»ç»Ÿé‚£æ ·çš„è‡ªç„¶æ·»åŠ åŠ¨ç”»ç»„. æœ¬ç¯‡æ„Ÿè°¢å¼€æºä½œè€…<a href="https://github.com/sshiqiao/douyin-ios-objectc" target="_blank" rel="external">qiaoshi</a>,å› ä¸ºä½œè€…å†™çš„ä¸æ˜¯å¾ˆå®Œç¾æˆ‘å­¦ä¹ ç ”ç©¶ä¸€ä¸‹,å¢åŠ äº†æ¸å˜æ•ˆæœå’Œå±æ€§å­—ç¬¦ä¸²å¾—æ”¯æŒ.</p>
<p><a href="https://github.com/sunyazhou13/UIScrollTextDemo" target="_blank" rel="external">æœ¬ç¯‡demo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/74173425cf3b36cfe3ca5895322534c073110e22/20190321UIS
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸Šçš„ä¸€äº›å¥½è½¯ä»¶æ¨è</title>
    <link href="https://www.sunyazhou.com/2019/02/15/20190215Tools/"/>
    <id>https://www.sunyazhou.com/2019/02/15/20190215Tools/</id>
    <published>2019-02-15T02:40:15.000Z</published>
    <updated>2019-02-16T05:59:28.804Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æ–°å¹´ç¬¬ä¸€ç¯‡ æŠŠè‡ªå·±ç”¨çš„æ¯”è¾ƒå¥½çš„å·¥å…·éƒ½è®°å½•ä¸‹æ¥</p>
<h2 id="æˆªå±-snipaste">æˆªå± Snipaste</h2>
<p>æ²¡å½“æ²¡æœ‰ç½‘ç»œçš„æ—¶å€™ æˆ–è€…æ‹¿åˆ°æ–°macçš„æ—¶å€™ç”±äºæ²¡æœ‰ä»€ä¹ˆè½¯ä»¶æˆªå±,ä¸å¾—ä¸ç”¨QQæˆ–è€…å¾®ä¿¡è‡ªå¸¦çš„æˆªå±.è¿™å°±é€¼ç€æˆ‘ä¸å¾—ä¸å®‰è£…è¿™ä¸¤ä¸ªappï¼Œæœ‰äº†Snipaste è·Ÿæˆªå±è¯´å†è§å§</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/snipaste.png"></p>
<p>Snipasteæ˜¯ä¸€ä¸ªå°å·§å¼ºå¤§çš„æˆªå›¾è½¯ä»¶ï¼Œå¯ä»¥ç›´æ¥å¯¹æˆªå›¾è¿›è¡Œæ‰“ç ã€æ ‡æ³¨ã€åˆ†äº«ï¼Œè€Œä¸ç”¨å…ˆä¿å­˜åˆ°æœ¬åœ°.</p>
<p>ä½¿ç”¨æ–¹æ³•æ˜¯æŒ‰ä½<code>Fn</code>+<code>F1</code> å°±å‡ºç°äº†æˆªå±é¡µé¢å¤§å®¶å¯ä»¥è¯•è¯•</p>
<p><a href="https://www.snipaste.com/" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="å¿«æ·é”®æŸ¥çœ‹å™¨cheatsheet">å¿«æ·é”®æŸ¥çœ‹å™¨CheatSheet</h2>
<p>CheatSheetå¯ä»¥å¿«é€Ÿè°ƒå‡ºå½“å‰è½¯ä»¶æ”¯æŒçš„å¿«æ·é”®ï¼Œé•¿æŒ‰commandå³å¯ï¼Œç®€å•å®ç”¨ã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/CheatSheet.png"></p>
<blockquote>
<p>ä½¿ç”¨ä¹‹å‰å¿…é¡»åœ¨éšè—ç­–ç•¥å’Œå®‰å…¨æ€§é‚£ä¸ªåœ°æ–¹ç»™è¿™ä¸ªåŠ ä¸Šè®¿é—®æƒé™æ‰å¯ä»¥ å…·ä½“æœ‰å›¾ç‰‡æç¤ºæŒ‰ç…§å›¾ç‰‡æ“ä½œå³å¯</p>
</blockquote>
<p><a href="https://www.mediaatelier.com/CheatSheet/" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="ä¸‹è½½å·¥å…·-folx">ä¸‹è½½å·¥å…· Folx</h2>
<p>è¿…é›·çš„æ›¿ä»£å“ï¼Œæ”¯æŒBTä¸‹è½½ï¼Œé‡åˆ°è¿…é›·æ— æ³•ä¸‹è½½çš„èµ„æºæ—¶ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹Folxï¼Œå…è´¹ç‰ˆå°±å¯ä»¥æ»¡è¶³åŸºæœ¬éœ€æ±‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/Folx.png"></p>
<p>å¯¹äºä¸€ä¸ªæ›¾ç»åœ¨ç™¾åº¦ç½‘ç›˜æ¬è¿‡ç –çš„ç¨‹åºå‘˜ æ–‡ä»¶ä¸Šä¼ ä¸‹è½½è¿™ç§æœ€åŸºç¡€çš„ä¸šåŠ¡å¿…é¡»ç©çš„å¾ˆæºœ,å½“å¹´è¿…é›·æœ‰æ„è®©æˆ‘å»é¢è¯•è¢«æˆ‘æ‹’ç»,ä¸»è¦æ˜¯å…¬å¸è·ç¦»ä½çš„åœ°æ–¹å¤ªè¿œ,ä½†æ˜¯ä»æ–‡ä»¶ä¸‹è½½é™é€Ÿçš„ç­–ç•¥ä¸Šæˆ‘è§‰å¾—æ˜¯è¿…é›·è¿˜æ˜¯ä¸è¶³ä»¥é©±åŠ¨äº’è”ç½‘å‰è¿›çš„æ–¹å‘,è¿™ç§ç¬¬ä¸‰æ–¹çš„folxå®Œå…¨å½»åº•å–ä»£äº†è¿…é›·.</p>
<p><a href="https://mac.eltima.com/cn/torrent-client.html" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="è§†é¢‘æ’­æ”¾å™¨iina">è§†é¢‘æ’­æ”¾å™¨IINA</h2>
<p>IINAè¢«å¾ˆå¤šäººè®¤ä¸ºæ˜¯Macç«¯çš„æœ€å¼ºè§†é¢‘æ’­æ”¾å™¨ï¼Œç®€æ´æ— å¹¿å‘Šï¼Œå¹¶ä¸”åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒåœ¨çº¿å­—å¹•çš„åŠŸèƒ½ï¼Œå€¼å¾—å°è¯•</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/IINA.png"></p>
<p>å„ç§ä½¿ç”¨è¿˜è¡Œ</p>
<p><a href="https://iina.io/" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="mactracker">Mactracker</h2>
<p>Mactrackeræä¾›äº†è‹¹æœå…¨ç³»åˆ—äº§å“çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ€§èƒ½å‚æ•°ã€å”®ä»·ç­‰ã€‚å¯ä»¥è¿›è¡Œæ£€ç´¢ï¼Œè¿˜æœ‰å‘å¸ƒçš„æ—¶é—´é¡ºåºï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚è¿™ä¸ªè½¯ä»¶ä¹Ÿæœ‰iOSç‰ˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/Mactracker.jpeg"></p>
<p>åšä¸ºä¸€ä¸ªiOSå¼€å‘è€…,å¦‚æœä¸èƒ½å®æ—¶äº†è§£æ°´æœå…¬å¸å¾—å„ç§äº§å“çš„ç§¯æåŠ¨å‘æˆ‘è§‰å¾—æ˜¯ä¸€ç§ä¸ç§¯æçš„å·¥ä½œè¡¨ç°,è¿™ä¸ªè½¯ä»¶å¯ä»¥å®æ—¶çš„æŸ¥çœ‹è‹¹æœç›®å‰çš„æ‰€æœ‰å‘ä¸è¿‡çš„å‹å·ç­‰ç­‰info.</p>
<p><a href="https://itunes.apple.com/cn/app/mactracker/id430255202?mt=12" target="_blank" rel="external">ä¸‹è½½åœ°å€iTunes</a></p>
<h2 id="å›¾ç‰‡æ°´å°æ‰¹é‡æ·»åŠ å·¥å…·-photobulk">å›¾ç‰‡æ°´å°æ‰¹é‡æ·»åŠ å·¥å…· PhotoBulk</h2>
<p>PhotoBulkå¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œæ‰¹é‡å¤„ç†ï¼Œæ¯”å¦‚æ‰¹é‡åŠ æ°´å°ï¼Œåªè¦è®¾ç½®å¥½äº†å›ºå®šçš„æ°´å°å†…å®¹ã€å¤§å°ã€ä½ç½®ï¼Œå°±å¯ä»¥ä¸€é”®ç”Ÿæˆå¸¦æ°´å°çš„å›¾ç‰‡ï¼Œååˆ†æ–¹ä¾¿ã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/PhotoBulk.jpeg"></p>
<p><a href="https://itunes.apple.com/cn/app/photobulk-watermark-in-batch/id537211143?mt=12" target="_blank" rel="external">ä¸‹è½½åœ°å€(æ”¶è´¹è½¯ä»¶)</a></p>
<h2 id="è§£å‹ç¼©">è§£å‹ç¼©</h2>
<p>Macå¯¹å‹ç¼©æ–‡ä»¶çš„æ ¼å¼æ”¯æŒä¸è¶³ï¼Œåªæ”¯æŒzipï¼Œå€ŸåŠ©The Unarchiverå¯ä»¥è¡¥è¶³è¿™ä¸ªç¼ºé™·ï¼Œå®ƒæ”¯æŒå¸¸è§çš„zipã€rarã€7zç­‰å¸¸è§æ ¼å¼ï¼Œå¯ä»¥å®Œæˆå‹ç¼©ã€è§£å‹ç­‰å·¥ä½œ</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/The%20Unarchiver.png"></p>
<p><a href="https://itunes.apple.com/cn/app/the-unarchiver/id425424353?mt=12" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="macä¸Šç®¡ç†androidçš„æ–‡ä»¶ç®¡ç†-handshaker">macä¸Šç®¡ç†androidçš„æ–‡ä»¶ç®¡ç† handshaker</h2>
<p>é”¤å­ç§‘æŠ€å‡ºå“çš„æ–‡ä»¶ç®¡ç†è½¯ä»¶ï¼Œç”¨äºåœ¨Macç”µè„‘ä¸Šç®¡ç†Androidæ‰‹æœºå†…å®¹ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥äº’ä¼ æ–‡ä»¶ã€åˆ†ç±»ç®¡ç†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/HandShaker.jpeg"></p>
<p><a href="https://www.smartisan.com/apps/#/handshaker" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="mac-è§†é¢‘è½¬gif-å·¥å…·-gif-brewery-3">mac è§†é¢‘è½¬gif å·¥å…· GIF Brewery 3</h2>
<p>Macä¸Šæœ€å¼ºå¤§çš„GIFå›¾å¤„ç†å·¥å…·ï¼Œå¯ä»¥å°†è§†é¢‘è½¬ä¸ºGIFï¼Œå¯¹å°ºå¯¸ã€å¤§å°ã€èµ·æ­¢ç‚¹ç­‰è¿›è¡Œè®¾ç½®ï¼Œä¹‹å‰æ˜¯ä»˜è´¹è½¯ä»¶ï¼Œç°åœ¨å…è´¹æä¾›ã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/GIF%20Brewery%203.png"></p>
<blockquote>
<p>è¿™ä¸ªè½¯ä»¶ä¸é”™ æˆ‘ç»å¸¸å†™åšå®¢é…å›¾å°±æ˜¯å½•åˆ¶æˆmovè½¬æˆgif</p>
</blockquote>
<p><a href="">ä¸‹è½½åœ°å€</a></p>
<h2 id="macä¸ŠéŸ³é‡åˆ†åˆ«æ§åˆ¶-background-music">macä¸ŠéŸ³é‡åˆ†åˆ«æ§åˆ¶ Background Music</h2>
<p>Background Musicçš„åŠŸèƒ½éå¸¸ç®€å•ï¼Œåœ¨MacBookä¸­åˆ†åˆ«æ§åˆ¶ä¸åŒè½¯ä»¶çš„éŸ³é‡ï¼Œå°±åƒAndroidæ‰‹æœºå’ŒWindowsç”µè„‘ä¸€æ ·ã€‚</p>
<figure>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/Background%20Music.jpeg" alt="Background Music"><figcaption>Background Music</figcaption>
</figure>
<p>æˆ‘ç»å¸¸ç”¨ä¼ä¸šIM ä½†æ€»æ˜¯å› ä¸ºèŠå¤©è½¯ä»¶çš„å£°éŸ³å¤ªå¤§ å½±å“ä½“éªŒ,æ²¡æƒ³åˆ°è¿˜æœ‰è¿™ç§ç»†è‡´å…¥å¾®çš„appä¸“é—¨è§£å†³äº†è¿™ä¸ªç—›ç‚¹.</p>
<p><a href="https://github.com/kyleneideck/BackgroundMusic/releases" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h2 id="ç¬¬ä¸‰æ–¹ç½‘æ˜“äº‘éŸ³ä¹">ç¬¬ä¸‰æ–¹ç½‘æ˜“äº‘éŸ³ä¹</h2>
<p>ç¬¬ä¸‰æ–¹çš„ç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾å™¨ï¼Œç•Œé¢ç»è¿‡é‡æ–°è®¾è®¡ï¼Œå–œæ¬¢çš„æœ‹å‹å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8fc0ac07afdde666f0175c27f191e7b6037a85d1/20190215Tools/ieaseMusic.png"></p>
<p>è¿™ä¸ªç¬¬ä¸‰æ–¹çš„è¿‡äºèŠ±å“¨ ä¸å®ç”¨,ä¸å¦‚ä¸è£….</p>
<p><a href="https://github.com/trazyn/ieaseMusic" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ‰å¾ˆå¤šè½¯ä»¶æ²¡æœ‰åŠæ—¶æ•´ç† æœ‰æ—¶é—´ä¼šä¸å®šæ—¶æ›´æ–° å¤šè°¢æ”¯æŒ</p>
<p><a href="https://onevcat.com/apps/" target="_blank" rel="external">å–µç¥çš„å·¥å…·é›†åˆ</a><br>
<a href="https://www.ithome.com/0/409/410.htm" target="_blank" rel="external">å‚è€ƒithome</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;æ–°å¹´ç¬¬ä¸€ç¯‡ æŠŠè‡ªå·±ç”¨çš„æ¯”è¾ƒå¥½çš„å·¥å…·éƒ½è®°å½•ä¸‹æ¥&lt;/p&gt;
&lt;h2 id=&quot;æˆªå±-snipaste&quot;&gt;æˆªå± Snipaste&lt;/h2&gt;
&lt;p&gt;æ²¡å½“æ²¡æœ‰ç½‘ç»œçš„æ—¶å€™ æˆ–è€…æ‹¿åˆ°æ–°macçš„æ—¶å€™ç”±äºæ²¡æœ‰ä»€ä¹ˆè½¯ä»¶æˆªå±,ä¸å¾—ä¸ç”¨QQæˆ–è€…å¾®ä¿¡è‡ªå¸¦çš„æˆªå±.è¿™
    
    </summary>
    
      <category term="ç¥å…µåˆ©å™¨" scheme="https://www.sunyazhou.com/categories/%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8/"/>
    
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>2018å¹´ç»ˆæ€»ç»“</title>
    <link href="https://www.sunyazhou.com/2018/12/28/20181228FinalSummary/"/>
    <id>https://www.sunyazhou.com/2018/12/28/20181228FinalSummary/</id>
    <published>2018-12-28T15:04:41.000Z</published>
    <updated>2019-03-09T04:39:33.600Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/9e263dd6fbfaf3cb12eee6ebcbfff3519dc5f9eb/20181231FinalSummary/1500x500.JPEG"></p>
<h1 id="å‰è¨€">å‰è¨€</h1>
<blockquote>
<p><strong>åŸ‹å¤´è‹¦å¹²å°½äº”å¹´,æ™¨èµ·é¢é•œç™½å‘å…ˆ.</strong><br>
<strong>ä¸€å¹´åˆ°å¤´ä¸è§æ³ª,å²æœˆèè‹’å†¬å´å¯’.</strong><br>
<strong>ä»¿ä½›å›åˆ°ä¸€ä¸‰å¹´,åŒ—äº¬ç«™å‰æœ›ç€å¤©.</strong><br>
<strong>åŒ—æ¼‚æ˜é‡‘é‚£åˆ»èµ·,äººç”Ÿå·²æ— å†å°‘å¹´.</strong></p>
</blockquote>
<p><img src="https://ws1.sinaimg.cn/mw690/bf8500b1ly1fya3hev8jmg208004dkjm.gif"></p>
<p><em>æˆ‘è¦æ˜¯èƒ½åƒä½ é‚£ä¹ˆæ½‡æ´’å°±å¥½äº†,æœ‰æ—¶å€™ä½ èƒ½åšçš„äº‹æƒ…æˆ‘å´åšä¸åˆ°,æˆ‘ç›¸ä¿¡æ­£ä¹‰,å¯æ˜¯æ²¡äººç›¸ä¿¡æˆ‘...</em></p>
<p><strong>è¿™ä¸€å¹´è¿‡çš„åƒç½‘é€Ÿä¸€æ ·å¿«,çœ‹ç€å¹´æœ«åˆåˆ°äº†,æˆ‘ä¾ç„¶å¾—å¢¨å®ˆé™ˆè§„çš„äº¤å‡ºæˆ‘çš„2018å¹´ç»ˆæ€»ç»“</strong></p>
<h2 id="å›é¡¾">2018å›é¡¾</h2>
<p>è¿™ä¸€å¹´çš„æ¸…å•å¦‚ä¸‹:</p>
<ul>
<li>å·¥ä½œ</li>
<li>æ¼”å”±ä¼š</li>
<li>è¯»ä¹¦</li>
<li>æŠ€æœ¯</li>
<li>åšæŒ</li>
<li>ç”Ÿæ´»</li>
<li>æ•…äº‹</li>
<li>ç™¾å¹´</li>
<li>æ€»ç»“</li>
</ul>
<p>å¾ˆç²¾å½©...</p>
<h2 id="å·¥ä½œ">å·¥ä½œ</h2>
<p>è¿™ä¸€å¹´æˆ‘å¾ˆåŠ¨è¡,4æœˆä»½ä»é‡‘å±±äº‘åˆ°äº†å¿«æ‰‹.è´Ÿè´£å¼€å‘å¿«æ‰‹iOSå›½å†…ç‰ˆAppçš„ç›´æ’­ä¸šåŠ¡.æˆ‘æ˜¯ä¸€ä¸ªä¸å¤ªå–œæ¬¢æ¢å·¥ä½œçš„äºº.ä»ç™¾åº¦ä¸€è·¯èµ°æ¥,å›å¤´çœ‹é™¤äº†å¿ƒé…¸å’Œçƒ­æ³ªç›ˆçœ¶...</p>
<p>æ¥åˆ°äº†å¿«æ‰‹,æ„Ÿè§‰åˆ°è¿™ä¸ªå…¬å¸ç¡®å®å¾ˆæœ‰æ„æ€,æ˜¯å‚åŠ å·¥ä½œä»¥æ¥æˆ‘è®¤ä¸ºæœ€å€¼å¾—å»çš„ä¸€ä¸ªå…¬å¸,å› ä¸ºæˆ‘åœ¨ä¸ä¸€ç¾¤æ¸…åçš„å­¦å­ä¸ºä¼,ä¸åŒ—é‚®çš„å°ä¼™ä¼´è‚©å¹¶è‚©,è¿™é‡ŒåŸºæœ¬50%éƒ½æ˜¯æ¸…åç³»,è€å®è¯´,å½“æˆ‘é¢è¯•çš„æ—¶å€™ä»ä¸Šåˆ10ç‚¹é¢åˆ°ä¸‹åˆ4ç‚¹å¤š,æˆ‘éƒ½ä¸çŸ¥é“æˆ‘æ˜¯æ€ä¹ˆé¢è¿‡çš„æ—¶å€™,æˆ‘çœŸçš„æƒ³æ”¾å¼ƒäº†,å¦‚æœä¸é¢åçš„é¢è¯•é‚£åªèƒ½ç®—å” å—‘.å›¢é˜Ÿçš„ä¸­åšåŠ›é‡æ¥è‡ªäºéº»çœç†å·¥å­¦é™¢,ä»¥åŠFacebookæ¥çš„å¤§ä½¬.è¿™å…¶å®æ˜¯ä¸€ç§æ”¶è·,ä¸€ç§èƒ½ä¸ä¸–ç•Œé¡¶å°–å¤§å­¦çš„æ¯•ä¸šç”Ÿä¸€èµ·å·¥ä½œçš„æœºä¼š,è™½ç„¶æˆ‘çš„å·¥ä½œç»å†ç®—ä¸ä¸Šæœ‰å¤šå¥½,ä¸è¿‡èƒ½ä¸è¿™æ ·çš„å°ä¼™ä¼´ä¸ºä¼æˆ‘åº”è¯¥æ„Ÿåˆ°è£å¹¸,å½“ç„¶è‡ªå·±ä¸èƒ½å¤ªlow.ä»–ä»¬èº«ä¸Šæœ‰æˆ‘å€¼å¾—å­¦ä¹ åœ°æ–¹,æˆ‘ä¸å–œæ¬¢æ¨ªå‘å¯¹æ¯”,åªå–œæ¬¢çºµå‘å¯¹æ¯”,å¯¹æ¯”é‚£äº›æ¯”æˆ‘ä¼˜ç§€çš„äºº.</p>
<blockquote>
<p>åŒ—é‚®(åŒ—äº¬é‚®ç”µå¤§å­¦)è¢«èª‰ä¸ºè®¡ç®—æœºç•Œçš„é»„åŸ”å†›æ ¡,å½•å…¥åˆ†æ•°ä»…æ¬¡äºæ¸…åå‡ åˆ†.</p>
</blockquote>
<p>è¯´å®Œäº†æˆ‘çš„æ„Ÿå—,æˆ‘å†è¯´ä¸€ä¸‹è¿™å®¶å…¬å¸çš„ä»·å€¼è§‚,ä»æˆ‘è‚¤æµ…çš„è®¤çŸ¥ä»·å€¼è§‚æ¥çœ‹è¿™å®¶å…¬å¸,ç¡®å®å¾ˆå€¼å¾—__å°Šé‡__,æˆ‘åªè¯´ä¸¤ç‚¹:</p>
<ul>
<li>ç¬¬ä¸€:æ¥åœ°æ°”,å¦‚æœä½ å–œæ¬¢æŠ–éŸ³,é‚£æˆ‘åªèƒ½è¯´ä½ å¤ªä¸åˆ‡å®é™…,å› ä¸ºæŠ–éŸ³çš„ç¾å¥³ç˜¦èº«éƒ½æ˜¯AIé€šè¿‡è‚¢ä½“è¯†åˆ«å®ç°çš„,æ¢å¥è¯è¯´ä½ åœ¨è¢«å¿½æ‚ ,å†è¯´æŠ–éŸ³çš„è§†é¢‘ä¸­çš„å†…å®¹,è±ªè½¦,è±ªå®…,é«˜è´µè½»å¥¢çš„ç”Ÿæ´»,å“è´¨é«˜æ¡£çš„é¤å…...__æˆ‘å°±æƒ³é—®ä½ ,ä¸­å›½æœ‰å¤šå°‘äººèƒ½è¿‡çš„ä¸Šä½ åœ¨æŠ–éŸ³è§†é¢‘ä¸­èƒ½çœ‹åˆ°çš„ç”Ÿæ´»,ä½ èƒ½å—ï¼Ÿä½ èƒ½å¼€ç€åŠ³æ–¯è±æ–¯æœ‰äº‹æ²¡äº‹çš„ç‚«è€€å—?__å¿«æ‰‹ä¸ä¸€æ ·,è¿™é‡Œä½ èƒ½çœ‹åˆ°åº•å±‚çš„åŠ³åŠ¨äººæ°‘ä¸ºäº†ç¾å¥½çš„ç”Ÿæ´»è€Œä»˜å‡ºçš„å®è·µè¡ŒåŠ¨,ä»–ä»¬æ²¡æœ‰å¥½çš„èƒŒæ™¯,ä»–ä»¬çœŸçš„åªæœ‰èƒŒå½±,é‚£ç§èƒŒå½±å°±æ˜¯ä»–ä»¬æ‹æ‘„çš„è§†é¢‘çš„æ—¶å€™,è¿™å°±æ˜¯ä»–ä»¬çœŸå®ç”Ÿæ´»çš„å†™ç…§...</li>
<li>ç¬¬äºŒ:ä¸åƒä¸»æ’­å€¾æ–œæµé‡.åŸºæœ¬ä¸ç­¾çº¦æ˜æ˜Ÿ,åäºº,è®©æ¯ä¸ªæ™®é€šäººèƒ½å‡­å€Ÿè‡ªå·±çš„æœ¬é¢†è„±é¢–è€Œå‡º,è¿™æ¢å¥è¯è¯´å°±æ˜¯åœ¨ç”¨äº’è”ç½‘å¸®åŠ©æ¯ä¸ªäººå¾—åˆ°å…¬å¹³.(å€¾æ–œæµé‡å°±æ˜¯æŠŠä¸€äº›é«˜ç«¯åäººæ¨èç»™ä½ è®©ä½ é»˜è®¤å°±å…³æ³¨ä»–å°±è·Ÿå¾®åšä¼¼çš„æœ€åæ•´çš„éƒ½æ²¡æ³•æ­£å¸¸è¯´è¯å‘ä¸œè¥¿.å…¨æ˜¯åŠˆå¤©ç›–åœ°çš„ç‰›çš®ç™£å¹¿å‘Š)</li>
</ul>
<blockquote>
<p>å›å¤´å†æ¥çœ‹çœ‹BAT å“ªå®¶æ•¢ç«™å‡ºæ¥è¯´è‡ªå·±åšåˆ°äº†ä¸Šè¾¹è¿™ä¸¤ç‚¹.åšåˆ°äº†çš„åœ¨åº•éƒ¨è¯„è®ºåŒºæ‰£1.</p>
</blockquote>
<p>ä»Šå¹´æ¥å¿«æ‰‹åˆä¸¤ä»¶äº‹è®©æˆ‘å¾ˆé«˜å…´</p>
<ul>
<li>æ­å·ä¹‹æ—…</li>
<li>å¿«æ‰‹å®¶ä¹¡</li>
</ul>
<h4 id="å—ä¸‹æ­å·">å—ä¸‹æ­å·</h4>
<p>åˆšåˆ°è¿™å®¶å…¬å¸ä¸ä¹…å°±èµ¶ä¸Šäº†Team Building(å›¢é˜Ÿå»ºè®¾),å»æ­å· æˆ‘ä»æœªå»è¿‡æ­å·,ç¬¬ä¸€ç«™æ˜¯æ­å·çš„æµ·å®</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/5b7ec1d2b93ef37e0298da61b8ca8d2fead18ac1/20181231FinalSummary/haining.jpg"></p>
<blockquote>
<p>å½“å¹´å­™ä¸­å±±å…ˆç”Ÿå°±æ˜¯åœ¨è¿™é‡Œä¸‹è½¦å»é’±å¡˜æ±Ÿè§‚æ½®</p>
</blockquote>
<p>è¥¿å¡˜,åœ¨å®¶ä¹¡æˆ‘ä¹ æƒ¯äº†23å¹´çš„ä½çŸ®å¹³æˆ¿,ä»æœªè§è¿‡å¦‚ä¸‹å¾—å»ºç­‘é£æ ¼,è¿™ç§å¾½ç³»çš„ç™½å¢™ç“¦æˆ¿æœ‰ä¸€ç§ä¸­å›½åœ°æ–¹çš„ç‰¹è‰²</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/d7b92c1b06942ffcae31bb001359836d2030e016/20181231FinalSummary/hangzhou2.jpg"> &gt; çœŸæ˜¯æ æ†æ‹éå´é’©çœ‹äº†ï¼Œæ— äººä¼šç™»ä¸´æ„,ä¼‘è¯´é²ˆé±¼å ªè„å°½è¥¿é£å­£é¹°å½’æœª...</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/d7b92c1b06942ffcae31bb001359836d2030e016/20181231FinalSummary/hangzhou1.jpg"></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/fc87f192bde618d91574bf116c58409d5e4f1023/20181231FinalSummary/hangzhou3.jpg"></p>
<p>è¿™é‡Œæ›¾ç»æ˜¯__ä¼å­èƒ¥ï¼ˆå…¬å…ƒå‰559å¹´â€”å…¬å…ƒå‰484å¹´,å¤§çº¦æ˜¯æ˜¥ç§‹æœ«å¹´ï¼‰<strong> å…´ä¿®çš„æ°´åˆ©å·¥ç¨‹,æˆ‘å¯¹æ˜¥ç§‹æœ«å¹´å´ç‹å¤«å·®è¶Šç‹å‹¾è·µçš„æ•…äº‹è®°å¿†çŠ¹æ–°,ä½†å¯¹å´å›½çš„é£åœŸäººæƒ…çš„è®¤çŸ¥ä»…é™äºä¸Šå­¦æ—¶å€™è¯»çš„</strong>ã€Šå²è®°ã€‹__å†…å®¹æè¿°,ä»æœªäº²è‡ªæ¥åˆ°è¿™é‡Œ.è™½ç„¶æˆ‘çš„è®¤çŸ¥ååˆ†è‚¤æµ…,ä½†çœ‹åˆ°äº†æ±Ÿå—é£æƒ…çš„åˆ«å…·ä¸€æ ¼è¿˜æ˜¯ä»¤æˆ‘è‚ƒç„¶èµ·æ•¬,ä»åŒ—äº¬åˆ°æ­å·çš„åˆ—è½¦ä¸Š,é€”å¾„å±±ä¸œæ³°å±±,è‹å·çš„å§‘è‹åŸ,ä¸Šæµ·çš„é•¿æ±ŸæµåŸŸ.é•¿æ±Ÿä¸‰è§’æ´²çš„ç¡®ä¸åŒäºæˆ‘çš„å®¶ä¹¡ä¸œåŒ—,è¿™é‡Œç‰©æµè½¦è¾†è¿œé«˜äºåœ¨ä¸œåŒ—çš„ä»»ä½•é«˜é€Ÿ,ä»è¿™ä¸€ç‚¹å°±å¯ä»¥å®¢è§‚çš„å‘ç°æ±Ÿæµ™ä¸€å¸¦ç»æµæ¯”ä¸œåŒ—è¦å‘è¾¾çš„å¤š.è¿™ä¸€è·¯æˆ‘å‡ ä¹ä¸€å¤œæ²¡ç¡,å„åœ°éƒ½åœ¨å¤§å…´åœŸæœ¨æåŸºå»º,ç«è½¦é€”å¾„æ¯ä¸€ä¸ªåŸå¸‚é™„è¿‘å‘¨è¾¹éƒ½å¾ˆæ˜æ˜¾çš„å‘ç°å¡”åŠæ¥¼æˆ¿,æ­£åœ¨æ–½å·¥ä½œä¸š.</p>
<p>æ±Ÿå—çš„é£æ™¯å¦‚ç”»çš„ç¡®å¦‚æ­¤.</p>
<p><strong>æ­å·ä¹‹æ—…æˆ‘è·¯è¿‡äº†é’±å¡˜æ±Ÿ</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/5b7ec1d2b93ef37e0298da61b8ca8d2fead18ac1/20181231FinalSummary/qiantangriver.jpg"></p>
<p>è¿™ä¸€å¹•è®©æˆ‘ä¸ç¦çš„æƒ³èµ·åˆä¸€æ—¶å€™æ¸…æ™¨èƒŒè¯µçš„ä¸€é¦–ç™½å±…æ˜“çš„ã€Šé’±å¡˜æ¹–æ˜¥è¡Œã€‹</p>
<p>å½“æˆ‘èº«ä¸´å…¶å¢ƒçš„æ„Ÿå—é’±å¡˜æ±Ÿçš„æ—¶å€™,æˆ‘åªæœ‰ä¸€ä¸ªæ„Ÿæ…¨,æ­¤æƒ…æ­¤æ™¯å¦‚æœæˆ‘æ˜¯ç™½å±…æ˜“æˆ‘ä¹Ÿä¸€æ ·èƒ½åšå‡ºä¸€é¦–è¯—,è¿™ä¸€å¹•ä¹Ÿè®¸åœ¨ä¸œåŒ—å‡ ä¹æ˜¯æ„Ÿå—ä¸åˆ°çš„.å¯¹äºä¸€ä¸ªä¸œåŒ—çš„å­©å­,è®©ä»–æœ‰è¯—äººçš„çµæ„Ÿçš„å‰ææ˜¯ä»–éœ€è¦æœ‰è¿™æ ·çš„ç¯å¢ƒå’Œäººæ–‡å†å².æˆ‘å–œæ¬¢æ¯”è¾ƒæˆ‘çš„å®¶ä¹¡å’Œæˆ‘å»è¿‡çš„æ‰€æœ‰åœ°æ–¹,åœ¨æˆ‘çš„å®¶ä¹¡å†°å¤©é›ªåœ°,å¤å­£æ²¡æœ‰åƒæ±Ÿå—çš„å°æ¡¥æµæ°´äººå®¶,æ²¡æœ‰å¤é“è¥¿é£ç˜¦é©¬,æ›´æ²¡æœ‰å¤•é˜³è¥¿ä¸‹æ–­è‚ äººåœ¨å¤©æ¶¯...æˆ‘çš„å®¶ä¹¡åªæœ‰é»‘åœŸåœ°å’Œæ£®æ—,ä»¥åŠä¸€æœ›æ— é™…çš„å¹³åŸ,å”¯ä¸€ä¸€æ¡æ¾èŠ±æ±Ÿè¿˜åªæ˜¯æˆ‘ä»¬ä»ç”µè§†ä¸Šæ‰èƒ½æ„Ÿå—åˆ°å”¯ä¸€äººæ–‡åœ°ç†.åœ°åŸŸçš„æ–‡åŒ–å·®è·æ˜¯æˆªç„¶ä¸åŒçš„,ä½†æ˜¯æˆ‘ä»¬çš„åˆä¸­ä¾ç„¶è¦å­¦ä¹ ç™½å±…æ˜“çš„ã€Šé’±å¡˜æ¹–æ˜¥è¡Œã€‹è¿™ç§ä»¥æˆ‘çœ‹æ¥å°±æ˜¯ä¸ºäº†åº”ä»˜è€ƒè¯•çš„ä»»åŠ¡æ–‡ç« å·²ç»è„±ç¦»åœ°åŸŸç‰¹è‰²,å˜å¾—æ¯«æ— æ„ä¹‰.æˆ‘å¹¶ä¸æ˜¯åæ¿€,å­¦è¯†æ¸Šåšæ˜¯å¥½çš„,ä½†æ˜¯,éœ€è¦äº†è§£è‡ªå·±çš„ç”Ÿæ´»åœ°åŸŸå’Œæ–‡åŒ–æˆ‘è®¤ä¸ºæ¯”èƒŒè¯µç™½å±…æ˜“çš„ã€Šé’±å¡˜æ¹–æ˜¥è¡Œã€‹æ›´æœ‰æ„ä¹‰.</p>
<h4 id="å¿«æ‰‹å®¶ä¹¡">å¿«æ‰‹å®¶ä¹¡</h4>
<p>ä»Šå¹´æ™šäº›æ—¶å€™, å¿«æ‰‹å¾æ±‚å…¨å…¬å¸å‘˜å·¥æ„è§,ä¸ºä¸€éƒ¨åˆ†å‘˜å·¥çš„å®¶ä¹¡æ ‘ç«‹å¹¿å‘Šç‰Œ,æˆ‘å¾ˆå¹¸è¿,æˆä¸ºäº†å…¶ä¸­ä¹‹ä¸€</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/13fb4cba3ab24f4d00201b7dae171b65633c06f6/20181231FinalSummary/kwaihometown.JPG"></p>
<p>æˆ‘ä¹Ÿä»æœªæƒ³è¿‡æœ‰ä¸€å¤©æˆ‘èƒ½ç™»ä¸Šæµ·ä¼¦çš„äº¬éƒ½å¹¿å‘Šç‰Œ,æˆä¸ºå¿«æ‰‹çš„å½¢è±¡ä»£è¨€äººä¹‹ä¸€,è¿™è¦æ˜¯åœ¨ç™¾åº¦ä¼°è®¡å³ä¾¿å‡åˆ°T8ä¹Ÿæœªæ›¾æœ‰å¦‚æ­¤è¿™èˆ¬çš„å¾…é‡å§! çœŸçš„å¾ˆæ„Ÿè°¢å¿«æ‰‹,<strong>è¿™æ˜¯ä¸€å®¶æœ‰äººæ–‡ä¸»ä¹‰ç²¾ç¥å’Œè‰ºæœ¯æ°”è´¨çš„å…¬å¸.</strong></p>
<p>å·¥ä½œçš„å†…å®¹å¤§æ¦‚å°±ä»‹ç»è¿™ä¹ˆå¤šå§! ç°åœ¨çš„å·¥ä½œå’Œå›¢é˜Ÿè¿˜æ˜¯ä¸é”™çš„.å°±åƒæˆ‘å‰è¾¹è¯´çš„é‚£æ ·,ä¸æ¸…åçš„å­¦å­ä¸ºä¼,ä¸åŒ—é‚®çš„å°ä¼™ä¼´è‚©å¹¶è‚©.è¿™ä¸€åˆ‡ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½åœ¨å·¥ä½œä¸­é‡åˆ°çš„.</p>
<h2 id="æ¼”å”±ä¼š">æ¼”å”±ä¼š</h2>
<p>ä»Šå¹´å¤å¤©,ä¼ä½°åœ¨åŒ—äº¬äº”æ£µæ¾ä½“è‚²é¦† å‡¯è¿ªæ‹‰å…‹ä¸­å¿ƒå¼€ä¸ªäººæ¼”å”±ä¼š,è¿™ä¹ˆå¤šå¹´æˆ‘ä»æœªå‚åŠ è¿‡ä»»ä½•ä¸€ä¸ªæ˜æ˜ŸçœŸæ­£æ„ä¹‰ä¸Šçš„æ¼”å”±ä¼š.2013å¹´çš„æ—¶å€™åˆ˜å¾·ååœ¨åŒ—äº¬å¼€ä¸ªäººæ¼”å”±ä¼š,ç”±äºå½“æ—¶æ²¡æœ‰èˆå¾—èŠ±é’±ä¹°ç¥¨,æ‰€ä»¥è‡³ä»Šéƒ½è§‰å¾—é—æ†¾,å½“æ—¶åˆ˜å¾·åçš„é—¨ç¥¨ ï¿¥980ä¸€å¼ . å¦‚ä»Šä¼ä½°çš„æ¼”å”±ä¼šé—¨ç¥¨ï¿¥680ä¸€å¼ ,æˆ‘ä¹°äº†ä¸¤å¼ ,è¿™ä¸€æ¬¡è¯´ä»€ä¹ˆä¹Ÿè¦å»çœ‹ä¸€çœ‹,ä»¥å‰å› ä¸ºå·¥ä½œæ²¡å¤šä¹…,èŠ±é’±çš„ç¡®ä¸æ•¢å¤§æ‰‹å¤§è„š.</p>
<p>é¦–å¸­çœ‹å°</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/42510f7a70af133d03d2a2060f3604e7163be3aa/20181231FinalSummary/chinablue2.jpg"></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/42510f7a70af133d03d2a2060f3604e7163be3aa/20181231FinalSummary/chinablue3.jpg"></p>
<p>æˆ‘è®°å¾—ç¬¬ä¸€æ¬¡å¬ä¼ä½°çš„æ­Œçš„æ—¶å€™æ˜¯2000å¹´å·¦å³,é‚£æ—¶å€™æˆ‘å¯„äººç¯±ä¸‹åœ¨æˆ‘èˆ…å®¶ä¸œèƒœæ‘,å»åŒèƒœå»ä¸Šåˆä¸­åˆä¸€,æœ‰ä¸€æ¬¡å»ä¸€ä¸ªå«é•‡ä¸œçš„åœ°æ–¹å…¨ç­åŒå­¦éƒ½å»å¬æ–‡è‰ºæ¼”å‡º,æˆ‘ååœ¨æ‹–æ‹‰æœºçš„åè½¦æ–—ä¸Š,å”±ç€ä¼ä½°çš„ã€Šç™½é¸½ã€‹é‚£æ—¶å€™è¿˜ä¸çŸ¥é“MP3æ˜¯ä»€ä¹ˆä¸œè¥¿,èƒ½å¬ä¸Šè¿™é¦–å½•ç”¨ç£å¸¦å·²ç»å¾ˆæ»¡è¶³äº†</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/61ad05a558d65fd4714b431755cbd8cfd810ca53/20181231FinalSummary/opentheshow.gif"></p>
<p>åœ¨ä¼ä½°çš„æ¼”å”±ä¼šä¸Šå¼€åœºçš„ç¬¬äºŒé¦–æƒ³èµ·çš„å°±æ˜¯è¿™é¦–ã€Šç™½é¸½ã€‹,å”±å‡ºæˆ‘çš„åˆä¸­å›å¿†,é‚£ä¸ªæ—¶å€™å¾ˆç©·,åæ¥æ‰çŸ¥é“è¿˜æœ‰ä¸€é¦–æˆåæ›²å«ã€ŠæŒªå¨çš„æ£®æ—ã€‹.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/42510f7a70af133d03d2a2060f3604e7163be3aa/20181231FinalSummary/chinablue1.gif"></p>
<p>å½“å…¨åœºä¸€èµ·æ¼”å”±æŒªå¨çš„æ£®æ—çš„æ—¶å€™ é‚£ç§åœºåˆçš„æ•ˆæœ,ç»å¯¹æ¯”KTVå¥½å¤šäº†.çœŸçš„æ˜¯å‰æ‰€æœªæœ‰,è€å®è¯´ ç°åœºçš„å£°éŸ³ç®—æ˜¯åŸå£°äº†,è¿™åœºæ¼”å”±ä¼šçœŸçš„å€¼å¾—.</p>
<p>ä¼ä½°è¯´:"ä»–çš„æ­Œæ›²99%éƒ½æ˜¯è‡ªå·±çš„åŸåˆ›" ä¸è¿‡ä»”ç»†å¬è¿‡ä»–çš„æ­Œæ›² çœŸçš„å¾ˆå¤šç»å…¸<br>
è¿™ä¸­é—´ä¼ä½°å”±äº†ä¸€é¦–æˆ‘ç¬¬ä¸€æ„Ÿè§‰æˆ‘æ²¡å¬è¿‡çš„æ­Œæ›²,ä½†æ˜¯å¾ˆå¥½å¬,åæ¥æ‰å¾—çŸ¥å«__ã€Šè¢«åŠ¨ã€‹__,æ¨èç»™ä½ ä»¬å¬å¬.</p>
<h2 id="è¯»ä¹¦">è¯»ä¹¦</h2>
<p>è¿™ä¸€å¹´ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´æˆ‘çš„çœ¼ç›å¾ˆç–¼,æ¯å¤©è‡³å°‘14å°æ—¶å¯¹ç€æ˜¾ç¤ºå™¨,æ‰€ä»¥æˆ‘åˆ—ä¸¾äº†ä¸€äº›ä»Šå¹´è¿çœ‹å¸¦å¬çš„ä¹¦ç±.</p>
<p>ã€Šæ™šæ¸…çš„æœ€ååå…«å¹´4ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/2e584f112f9b0f935c97330a521b0c3ee4536ab6/20181231FinalSummary/wanqing.jpg"></p>
<p>ã€Šæ›¾å›½è—©ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/zengguofan.jpg"></p>
<p>ã€Šæ™šæ¸…é‡è‡£æé¸¿ç« ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/lepetit.jpg"></p>
<p>ã€Šæ¯›æ³½ä¸œä¼ ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/master/20181231FinalSummary/maozedong.jpg"></p>
<p>ã€Šå‘¨æ€»ç†çš„æœ€å600å¤©ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/zhouzongli.jpg"></p>
<p>ã€Šæ™®äº¬ä¼ è®°ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B8%D1%87%D0%9F%D1%83%D1%82%D0%B8%D0%BD.jpg"></p>
<p>ã€Šä¹ è¿‘å¹³çš„ä¸ƒå¹´çŸ¥é’å²æœˆã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/xijinping.jpg"></p>
<p>ã€Šä¹”å¸ƒæ–¯ä¼ ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/jobs.jpg"></p>
<p>ã€Šè´§å¸æˆ˜äº‰1~5éƒ¨ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/currency_wars.jpg"></p>
<p>ã€Šæ‹¿ç ´ä»‘ä¼ ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/Napol%C3%A9onBonaparte.jpg"></p>
<p>ã€Šæå˜‰è¯šä¼ ã€‹<br>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/68128680d7b63955098277c9815c07eedff64f14/20181231FinalSummary/superlee.jpg"></p>
<h4 id="æ™šæ¸…çš„æœ€ååå…«å¹´-ç¬¬4éƒ¨">æ™šæ¸…çš„æœ€ååå…«å¹´ ç¬¬4éƒ¨</h4>
<p>å»å¹´æˆ‘è¯»å®Œäº†1~3éƒ¨,å¯æ˜¯é‚£æ—¶å€™è¿˜æ²¡æœ‰å®Œæ•´ç‰ˆçš„ç¬¬4éƒ¨,è¿™æœ¬ä¹¦ä¿æ•æ´ªéƒ½äº²è‡ªæ¨è,æœ€åä¸€éƒ¨ç»å¯¹æ®¿å ‚ç­å²è¯—çº§æ²¡æœ‰ä¹‹ä¸€,è¯»å®Œæœ€åä¸€éƒ¨æ‰äº†è§£,åŸæ¥åº·æœ‰ä¸ºæ˜¯ä¸ªå–œæ¬¢åŠäº‹æ€»æ‰“è„¸çš„äºº,æ ¹æœ¬åšä¸åˆ°ä¸¥äºåˆ©å·±.åŸæ¥å­™ä¸­å±±å…¶å®å¹¶æ²¡æœ‰æ•™ç§‘ä¹¦ä¸Šé‚£æ ·æœ‰å¤šå¥½,åè€Œæˆ‘è§‰å¾—è¾›äº¥é©å‘½å¾—å½’åŠŸäºè¢ä¸–å‡¯,å› ä¸ºæ™šæ¸…æ˜¯ä¸­å›½å†å²ä¸Šåƒè¥¿æ–¹æ–‡æ˜è¿›å†›æœ€æ¢å®å¾—æ—¶ä»£,è¢ä¸–å‡¯ä¸»å¼ å›ä¸»ç«‹å®ªä¿å…¨çš‡æ—è„¸é¢,è€Œé»æ´ªå…ƒè¿™äº›åæ¥è€…ä¸ºäº†æ©ç›–é€ åçš„äº‹å®ä¸»å¼ å…±å’Œ,è‘¬é€å¤§æ¸…ç‹æœæœ€å¿«çš„ä¸€ä¸ªäººæ˜¯è½½æ²£(åŒ—äº¬æ­äº²ç‹åºœå°±æ˜¯è¿™ä¸ªäººçš„,æœ€åæç»™äº†ä¸­å›½äººæ°‘æ”¿åºœ)ï¼Œå°±æ˜¯ä»–æ›¾ç»å»å¾·å›½,å¾·å›½æ²™çš‡è®©ä»–ä¸‹è·ªä»–ä¿æŒäº†ä¸­åæ°‘æ—çš„å°Šä¸¥æ²¡æœ‰ä¸‹è·ª,å¾—åˆ°äº†å¾·å›½çš‡å¸å¾—å°Šé‡,å¯¹è¿™ä¸ªäººè¿˜æ˜¯ä¸­å›½æœ€åä¸€ä¸ªçš‡å¸æº¥ä»ªå¾—çˆ¶äº².æ€»ä¹‹è¿™äº› ç»†èŠ‚éƒ½ä¼šåœ¨è¿™æœ¬ä¹¦ä¸Šè¯´åˆ°.</p>
<p>ä»ç¬¬ä¸€éƒ¨ä»‹ç»åŒ—æ´‹èˆ°é˜Ÿåˆ°ä»‹ç»å„ç§å·¡æ´‹èˆ° é©±é€èˆ° æŠ¤å«èˆ° é±¼é›·è‰‡... è¿™4éƒ¨ä¹¦ç®€ç›´å®Œæ•´çš„è®°å½•äº†ä¸­å›½æ¸…æœæœ«æœŸä»ä¸­æ—¥ç”²åˆæˆ˜äº‰åˆ°è¾›äº¥é©å‘½å…¨ç¨‹è®°å½•.å€¼å¾—ä¸€çœ‹,å¼ºçƒˆæ¨è</p>
<p>å¦‚æœéè¦æˆ‘å†™å‡ºæ¨èçš„ç†ç”±,é‚£æˆ‘åªèƒ½æ‹¿ä¸€å¼ ç…§ç‰‡è¯´æ˜ä¸€ä¸‹:</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/218720dd578111252efde67a95bcdfb1fedb2077/20181231FinalSummary/Krupp.jpg"></p>
<p>è¿™æ˜¯æˆ‘ä»Šå¹´10æœˆä»½å»å¤©æ´¥å¸‚æ´¥å—åŒºå°é•‡ç«™ å°ç«™ç»ƒå…µå›­(è¢ä¸–å‡¯æ›¾ç»ç»ƒå…µçš„åœ°æ–¹)æ‹æ‘„çš„å¾·å›½å…‹è™ä¼¯å…¬å¸1860å·¦å³ç”Ÿäº§çš„é‡ç‚®.</p>
<p>åŒ—æ´‹æ—¶æœŸçš„å†›èˆ°å·¡æ´‹èˆ°å¤§éƒ¨åˆ†æ¥è‡ªå¾·å›½å…‹è™ä¼¯å…¬å¸,ä»è¿™é—¨ç‚®çš„åˆ¶é€ å·¥è‰ºæ¥æ¨æµ‹å½“æ—¶çš„å·¥ä¸šåˆ¶é€ ç¨‹åº¦å’ŒåŒ—æ´‹æµ·å†›çš„å†›äº‹è£…å¤‡åŸºæœ¬ç®—æ˜¯ä¸­å›½è¿‘ä»£å²äºšæ´²ç¬¬ä¸€çš„å¼ºå›½äº†.æˆ‘ä»¬ä¸æ˜¯æ‰“ä¸è¿‡æ—¥æœ¬,æˆ‘ä»¬æ‰“ä¸è¿‡çš„æ˜¯æ¸…æœå†…éƒ¨çš„è…è´¥.</p>
<h4 id="æ›¾å›½è—©ä¼ ">æ›¾å›½è—©ä¼ </h4>
<p>å¦‚æœè¦é—®æˆ‘ä¸ºä»€ä¹ˆå¦‚æ­¤è¿™èˆ¬æ¨èæ›¾å›½è—©,æˆ‘åªèƒ½è¯´,è¿™æ˜¯æˆ‘è®¤ä¸ºæ¸…æœå†å²ä¸Šå±ˆæŒ‡å¯æ•°çš„åè‡£,ä½œä¸ºæ¸…æœç»å†è¿‡ä¸‰ä»£çš‡å¸çš„å˜æ›´,ä¸‰æœå¤§è‡£,æªå°½èŒå®ˆå…¢å…¢ä¸šä¸š,å˜‰åº†çš‡å¸è¯´ä½œä¸ºå¤§æ¸…å¸å›½çš„å¤§è‡£å¿…é¡»å¾—å¹²å•¥å•¥è¡Œ,æ›¾å›½è—©ä»0å¼€å§‹å­¦ä¹ å»ºç­‘å­¦,ä»0å¼€å§‹å­¦ä¹ è¥¿æ–¹æ–‡æ˜,ä»0å¼€å§‹å­¦ä¹ ä»»ä½•åˆ«äººèƒ½æ“…é•¿è‡ªå·±ä¸æ“…é•¿çš„ä¸œè¥¿.å„’å£«ä¸­çš„å…¸èŒƒ,æ›¾å­çš„åäºº.ç»ƒä¹ æ–°å†›è¯„å®šå¤ªå¹³å¤©å›½èµ·ä¹‰.éº¾ä¸‹åŸºæœ¬æ‹›çº³å½“æ—¶ç¥èˆŸå„è·¯é¢†åŸŸç¬¬ä¸€çš„äººæ‰,æ¯”å¦‚æˆ‘ä»¬åŒ–å­¦ä¸Šçš„å…ƒç´ å‘¨æœŸè¡¨,å°±æ˜¯å½“æ—¶åœ¨æ›¾å›½è—©å¹•åºœæ•ˆåŠ›çš„ç§‘å­¦å®¶<a href="https://baike.baidu.com/item/%E5%BE%90%E5%AF%BF/3672479?fr=aladdin" target="_blank" rel="external">å¾å¯¿</a>æ‰€åš,å¦‚æœä¸æ˜¯è¿™ä¸ªäººæˆ‘ä»¬ä»Šå¤©çœ‹åˆ°åŒ–å­¦å…ƒç´ å°†æ˜¯è‹±æ–‡ç¬¦å·,ä¸ä¼šå…¨éƒ¨éƒ½å¸¦é‡‘å­—æ—.ä½œä¸ºè€å¸ˆ,ä»–æ•™å‡ºä¸­å›½è¿‘ä»£æ–‡æ˜å­¦è´¯ä¸­è¥¿çš„ä¼Ÿå¤§é—¨ç”Ÿ<a href="https://zh.wikipedia.org/wiki/%E6%9D%8E%E9%B4%BB%E7%AB%A0" target="_blank" rel="external">æé¸¿ç« </a>,åŠŸå‹‹å“è‘—.å¯æ˜¯åæ¥çš„äººä»¬å› ä¸ºæ›¾å›½è—©æ²¡æœ‰å¤„ç†å¥½<a href="https://zh.wikipedia.org/wiki/%E5%A4%A9%E6%B4%A5%E6%95%99%E6%A1%88" target="_blank" rel="external">å¤©æ´¥æ•™æ¡ˆäº‹ä»¶</a>è€Œå€å—äº‰è®®,æˆ‘è®¤ä¸ºä¸æ˜¯å¤„ç†ä¸å¥½,çœŸæ­£çš„åŸå› æ˜¯å› ä¸º__å¼±å›½æ— å¤–äº¤__,æ˜¯æ…ˆç¦§æƒ³è®©æ›¾å›½è—©æ¥æ”¶æ‹¾è¿™ä¸ªçƒ‚æ‘Šå­åˆ»æ„æŠŠè¿™äº‹è®©æ›¾å›½è—©å½“æ›¿ç½ªç¾Š.æ¢ä½œä»Šå¤©å°±æ˜¯,æœ‰æ—¶å€™äººéåœ£è´¤å­°èƒ½æ— è¿‡,å¾—å€å—äº‰è®®çš„æ´»ç€,è¿™æ˜¾ç„¶ä¸æ˜¯æ›¾å›½è—©çš„æœ¬æ„,ä»¥æ›¾å›½è—©å¤§äººçš„åŸåˆ™å’Œç«‹åœºç»ä¸æ˜¯å› ä¸ºè¿™äº‹è¢«åˆ«äººæŠ›çŸ³å­è€Œä¸å»ä¸ºä¹‹,ç›¸åæ›¾å¤§äººæ•¢äºç›´é¢æƒ¨æ·¡çš„äººç”Ÿ,æ•¢äºæ­£è§†æ·‹æ¼“çš„çŒ®è¡€.å¦‚æœé‚£æ—¶å€™æ˜¯ç°åœ¨ä¹ å¤§å¤§çš„ä¸­å›½,æ›¾å¤§äººä¹Ÿä¼šåƒå¤–äº¤å®˜ç‹æ¯…ä¸€æ ·æ•¢äºè·Ÿä¸–ç•Œä»»ä½•ä¸€ä¸ªå›½å®¶å¹³èµ·å¹³å. è¿™æ˜¯æˆ‘é’¦ä½©è¿™ä½ä¼Ÿäººä¸ä¸ºäººçŸ¥çš„ä¸€é¢.</p>
<p>æ‰€ä»¥ä¸ºäº†è¡¨è¾¾æˆ‘å¯¹æ›¾å¤§äººçš„å°Šé‡æˆ‘é€æ›¾å¤§äººä¸€å‰¯å¯¹è”:</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/45604ae3bd82a1e2d71c15873023b9140761581f/20181231FinalSummary/zengguofan1.jpg"></p>
<p><strong>æ±‚å¿ è‡£å¿…äºå­å­ä¹‹é—¨</strong><br>
<strong>å‡¡ç§€æ‰å½“ä»¥å¤©ä¸‹ä¸ºä»»</strong></p>
<h4 id="æ™šæ¸…é‡è‡£æé¸¿ç« ">æ™šæ¸…é‡è‡£æé¸¿ç« </h4>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/lepetit1.jpg"></p>
<p>è¿™ä½æ…ˆç¥¥çš„è€äºº,æ”¹å˜äº†ä¸­å›½è¿‘ä»£å²,è¢«è¥¿æ–¹äººèª‰ä¸º"ä¸œæ–¹çš„è„¾æ–¯éº¦",ä¸­å›½ç¬¬ä¸€ä½ç™»ä¸Šç¾å›½æ—¶ä»£å‘¨åˆŠå°é¢äººç‰©,ä¸­å›½å†å²ä¸Šç¬¬ä¸€ä½æ¬§æ´²è€ƒå¯Ÿçš„äºº,ç¬¬ä¸€ä½... æ€»è®¡åˆ›é€  äº† 47ä¸ª ä¸­å›½ç¬¬ä¸€.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/lepetit2.jpg"> &gt; è®¿é—®é¦™æ¸¯çš„æé¸¿ç« ä¸é¦™æ¸¯æ€»ç£åœåŠ›ä¼šé¢ï¼Œç«™ä¸æé¸¿ç« å³ä¾§è€…ä¸ºåˆ˜å­¦è¯¢ï¼Œ1900å¹´7æœˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/ChineseMinisterLi%20HongzhangAndPrinceBismarck.jpg"> &gt; ä¸ºäº†è¡¨ç¤ºå¯¹æé¸¿ç« çš„å°Šé‡å’Œæ•¬æ„ï¼Œä¿¾æ–¯éº¦çš„ç€è£…æä¸ºåº„é‡ï¼Œç©¿ä¸Šäº†ä»–æå°‘ç©¿çš„ç››è£…â€”â€”å¾·çš‡æ‰€èµç‰å†•ã€çº¢é¹°å¤§åå­—å®æ˜Ÿï¼Œæ‰‹æ‹¿å¤§ç‰ï¼Œè…°æŒ‚å®å‰‘ã€‚ä¸¤äººè§é¢åï¼Œé¦–å…ˆäº’ç›¸é—®å€™å¯¹æ–¹èº«ä½“å¦‚ä½•ï¼Œäº¤æµäº†å„è‡ªçš„èº«å¿ƒå¥åº·é—®é¢˜ã€‚</p>
<p>è„¾æ–¯éº¦è¢«èª‰ä¸º å¾·å›½çš„é“è¡€å®°ç›¸,ç®€ç›´è·Ÿæé¸¿ç« ä¸€æ¨¡ä¸€æ ·ç»å†ä¸‰æœå¾·çš‡,æ¬§æ´²åŠ¨è¡,è‹¦æˆ˜å¤šå¹´ç»ˆäºæ¢æ¥äº†å¾·å›½çš„ç»Ÿä¸€.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/c0bcc0e89234e74891d378696d8a596e72e27f31/20181231FinalSummary/Bismarck%2COttoF%C3%BCrst_von_und%20LiHungChang.jpg"> &gt; æé¸¿ç« ä¸ä¿¾æ–¯éº¦åœ¨é¦–ç›¸åºœé˜³å°</p>
<p>æˆ‘ç”¨äº†è¿™ä¹ˆå¤šç¯‡å¹…æ¥ä»‹ç»è¿™ä½æ™šæ¸…åè‡£,æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆå´‡æ‹œè¿™ä¸ªäºº?</p>
<p>å¯¹,ä½ é—®åˆ°äº†é‡ç‚¹,æˆ‘å‘Šè¯‰ä½ ç­”æ¡ˆ.</p>
<p>åœ¨æˆ‘ä»¬çš„å·¥ä½œç”Ÿæ´»ä¸­,æˆ‘ä»¬æ‰€ä»äº‹çš„åŠ³åŠ¨åŸºæœ¬éƒ½æ˜¯è¥¿æ–¹æ–‡æ˜çš„äº§ç‰©å§,è®¡ç®—æœº,ç‰©ç†åŒ–å­¦,å„ç§é«˜ç§‘æŠ€,ç”µè·¯,å“ªç§æˆ‘ä»¬ä»å‡ åƒå¹´çš„ä¸­å›½çš„æ–‡åŒ–æ´—ç¤¼ä¸­èƒ½æ‰¾åˆ°.æˆ‘ä»¬é¥±è¯»äº†ä¸­å›½çš„å››ä¹¦äº”ç»,å¯æ˜¯æˆ‘ä»¬åé—®è¿‡è‡ªå·±å—ï¼Ÿè¯»äº†è¿™ä¹ˆå¤šå¹´ä¹¦,æ²¡æœ‰ä»æœ¬è´¨æˆ–è€…è¯´ä»å®é™…çš„å®è·µä¸­æ”¹å˜æˆ–è€…æè¿‡ç”Ÿäº§åŠ›,ç”µè„‘,æ™ºèƒ½æ‰‹æœºéƒ½æ˜¯è¥¿æ–¹å‘æ˜çš„,æˆ‘ä»¬çš„æ—¶ä»£å·²ç»è¿›å…¥äº†å…¨ç›˜è¥¿åŒ–çš„æ•™è‚²æ¨¡å¼äº†</p>
<p>æˆ‘ä»¬å­¦ä¹ çš„è‹±æ–‡ è¿™ä¸œè¥¿æˆ‘ä»¬çš„å¤å…¸æ–‡å­¦ä¸­æ ¹æœ¬æ‰¾ä¸åˆ°ä¸€ä¸ªå­—æ¯æ˜¯èƒ½è·Ÿè‹±è¯­æ‰¯ä¸Šå…³ç³»çš„,æˆ‘ä»¬ä»Šå¤©ç”¨çš„æ±‰è¯­æ‹¼éŸ³æ˜¯å»ºå›½åå’Œæ°‘å›½æ—¶æœŸçš„äº§ç‰©.</p>
<p>åœ¨æˆ‘è‡ªå·±çš„å·¥ä½œä¸­ç»å¸¸ä¼šç»å†æˆ–è€…é­é‡ä¸€äº›å›°éš¾éš¾ä»¥åœ¨æ–­æ—¶é—´å†…å…‹æœæˆ–è€…è§£å†³,è¿™ä¸ªæ—¶å€™æˆ‘å°±åœ¨åé—®è‡ªå·±,æˆ‘æ€ä¹ˆè¯»äº†è¿™ä¹ˆå¤šå¹´ä¹¦è¿ä¸€ä¸ªæœ€ç®€å•çš„è®¡ç®—æœºç†è®ºé—®é¢˜éƒ½è§£å†³ä¸äº†,å›å¤´æƒ³æƒ³è®¡ç®—æœºä»å‘æ˜çš„é‚£ä¸€åˆ»èµ·åˆ°ç°åœ¨æ‰å‡ åå¹´,æˆ‘ä»¬ä»å°å°±æ²¡æœ‰ç»å†è¿‡è®¡ç®—çš„ç©æ³•,åŸç†å’Œåˆ¶é€ ,ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´æˆ‘ä»¬ç®—ä¸ç®—æ˜¯è½åä¸è¥¿æ–¹æ–‡æ˜,è®¡ç®—æœºä¸æ˜¯ä¸­å›½äººå‘æ˜çš„,æˆ‘ä»¬å…ˆè¦äº†è§£è‹±è¯­,äº†è§£å’Œè®¡ç®—æ‰“äº¤é“çš„ç”µè„‘è¯­è¨€,äº†è§£å¦‚ä½•ç¼–å†™è¿™ç§è¯­è¨€è·Ÿè®¡ç®—æœºäº¤æµ,æ¯å½“è¿™ä¸ªæ—¶å€™æˆ‘å†…å¿ƒæ˜¯è„†å¼±çš„,æˆ‘çš„è„†å¼±æ¥è‡ªäºæˆ‘ä¸å¤Ÿæ·±å…¥äº†è§£è®¡ç®—æœºå†…éƒ¨,ä»æˆ‘å°çš„æ—¶å€™è¯»çš„ä¹¦éƒ½æ˜¯åƒå­—æ–‡,è·Ÿè¿™ä¸ªä¸œè¥¿æ‰¯ä¸ä¸Šå…³ç³»,æˆ‘åº”è¯¥æ‰¾ä¸€ä¸ªäººä½œä¸ºæˆ‘å‰è¿›çš„æ¦œæ ·,è¿™ä¸ªäººæ˜¯è°å‘¢,æ˜¯è°åœ¨ä¸­å›½å†å²ä¸Šç¬¬ä¸€ä½æ•¢äºå­¦ä¹ è¥¿æ–¹æ–‡æ˜,å­¦è´¯ä¸­è¥¿,å­¦ä¹ è¥¿æ–¹çš„å…ˆè¿›æ–‡åŒ–,æŠ€æœ¯...åˆ¶é€ è‡ªå·±çš„å›½å®¶çš„è®¡ç®—æœº.æˆ‘è§‰å¾—è¿™ä¸ªäººéæé¸¿ç« è«å±,ä»–è™½ç„¶æ²¡æœ‰é€ è®¡ç®—æœº,ä½†æ˜¯ä»–æ¯å¤©çš„å·¥ä½œéƒ½æ˜¯é¢å¯¹ç€è‡ªå·±æå¤§æŒ‘æˆ˜çš„ä»»åŠ¡,ä»–æ¯å¤©è¦å¤„ç†æ´‹äººçš„äº‹ç‰©,ä»å¾·å›½å…‹è™ä¼¯å…¬å¸è´­ä¹°å†›èˆ°åˆ›é€ åŒ—æ´‹èˆ°é˜Ÿ,åˆ›åŠæ±Ÿå—åˆ¶é€ æ€»å±€åˆ¶é€ æªæ¢°å…µå™¨.ç”¨ä»Šå¤©çš„è¯è¯´,ä½ é¦–å…ˆå¾—æœ‰è½¦åºŠ,å¾—æœ‰å†¶ç‚¼é‡‘å±çš„æŠ€è‰º,å¾—æœ‰æŠ€æœ¯,è¿™ä½æå¤§äººå¯è°“æ˜¯ä¸­å›½ç¬¬ä¸€ä¸ªæ•¢äºè§£æ”¾æ€æƒ³è§‚å¿µæ¥å—è¥¿æ–¹æ–‡åŒ–å’Œæ•™è‚².å­¦ä¹ è¥¿æ–¹å…ˆè¿›æ–‡æ˜æŠ€æœ¯æ¥æ”¹é€ æ¸…æœçš„èƒ½è‡£äº†.</p>
<p>åœ¨è¥¿å­¦ä¸œè¿›çš„æµªæ½®ä¸­,æ•¢äºåƒè¥¿æ–¹å­¦ä¹ å¾—äºº,éæé¸¿ç« è«å±,æˆ‘å¿ƒä¸­ä½©æœè¿™æ ·çš„äºº,æˆ‘ä»Šå¤©å·¥ä½œä¸­é‡åˆ°çš„å›°éš¾éƒ½æ˜¯æ¥è‡ªäºè¥¿æ–¹çš„æ–‡æ˜æŠ€æœ¯.æœ‰æ—¶å€™æˆ‘ä»¬å¯¹äºä¸€äº›å›°éš¾æ„Ÿåˆ°ææƒ§,å…¶å®ææƒ§æºäºæœªçŸ¥,ä½ ä¸çŸ¥é“è¿™ä¹ˆæ“ä½œä¼šæ„å‘³ç€ä»€ä¹ˆæ„Ÿåˆ°å¿ƒç†æ²¡åº•,ä¸»è¦çš„åŸå› æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œå…¨é©¾é©­è¿™ä¸€åˆ‡.åŠªåŠ›å¼„æ‡‚æ·±å…¥ç ”ç©¶å®è·µå¾—åˆ°ç»“è®ºæ‰æ˜¯å”¯ä¸€çš„è§£å†³æ–¹å¼.</p>
<h5 id="ç”¨å®åŠ›å»èµ¢å¾—åˆ«äººçš„å°Šé‡">ç”¨å®åŠ›å»èµ¢å¾—åˆ«äººçš„å°Šé‡</h5>
<p>æ™šæ¸…é‡è‡£æé¸¿ç« ä¸ºäº†ç»ƒå†›(æ·®å†›)å»é•‡å‹å¤ªå¹³å¤©å›½å†œæ°‘èµ·ä¹‰,è‡ªå·±å›å®‰å¾½åœ¨æ²¡æœ‰ç»è´¹å’ŒèŒæƒå¾—å‰æä¸‹,æ“ç»ƒäº†ä¸€åªæ–°å†›,æ¯æ¬¡é•‡å‹å¤ªå¹³å¤©å›½èµ·ä¹‰æ€»æ˜¯è´¥å¤šèƒœå°‘,æœ€åè¿«äºæ— å¥ˆè§£æ•£äº†é˜Ÿä¼,è‡ªå·±å»æŠ•å¥”äº†æ©å¸ˆ æ›¾å›½è—©,é‚£æ—¶å€™æ›¾å›½è—©ä¹Ÿæ˜¯ç»ƒä¹ äº†è‡ªå·±çš„ä¸€åªæ–°å†›-æ¹˜å†›,æ›¾å¤§äººä¹Ÿè·Ÿæé¸¿ç« ä¸€æ ·æ²¡æœ‰ç»è´¹,ä½†æ˜¯å„è·¯å¤§è‡£å›ä¹¡æ“ç»ƒæ–°å†›ä¸­,å‡ ä¹éƒ½åƒæé¸¿ç« ä¸€æ ·å¤±è´¥,åªæœ‰æ›¾å›½è—©çš„æ¹˜å†›ä¸å¤ªä¸€æ ·,å½“æé¸¿ç« è½é­„æŠ•å¥”æ©å¸ˆçš„æ—¶å€™,æ›¾å›½è—©å†…å¿ƒæ— æ¯”é«˜å…´,å› ä¸ºåœ¨æŸç§é‡è¦çš„å†³ç­–ä¸Šä»–çš„é—¨ç”Ÿæé¸¿ç« åŸèƒœäºè‡ªå·±,æé¸¿ç« æŠ•å¥”é—¨æˆ¿å†›è¥å»è§æ©å¸ˆ,æ›¾å›½è—©æ•…æ„å½“ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿ,ç®€å•å©å’é—¨æˆ¿è¯´æˆ‘å¤ªå¿™è®© å°‘èƒ(æé¸¿ç«  å­—å°‘èƒ)å»ä¸´è¥å¯’èˆæ­‡æ¯,å¾…æˆ‘æœ‰ç©ºä¾¿å»æ¢æœ›.åœ¨æ›¾å›½è—©çš„å¹•åºœ æ¥çº³æ¸…æœå¤§è‡£å¿…é¡» é¸£ç¤¼ç‚® å¤šå°‘å“,è¿æ¥ä»ªå¼å¿…é¡»éš†é‡,æé¸¿ç« å½“æ—¶è¿˜ç®—æ˜¯ä¸€ä¸ªä¸å¤§çš„å®˜å‘˜,æŒ‰ç…§æœå»·ç¤¼èŠ‚å¾— é¸£ç¤¼ç‚®éš†é‡æ¥å¾…çš„,åœ¨æ›¾å›½è—©è¿™é‡ŒåŸºæœ¬å°±è·Ÿä¸ªå…µå’æ¥äº†ä¸€æ ·æ²¡å•¥ååº”,è¿™æé¸¿ç« å¿ƒç†ååˆ†éš¾å—,ç¬¬äºŒå¤© ä¸€æ—©,å·¦å®—æ£ å¹³å®šè¥¿åŒ—å›ä¹±å›æ¥,æ¥è§æ›¾å›½è—©,æ›¾å›½è—©çš„è¿æ¥ä»ªå¼è¿œæ¯”æƒ³è±¡ä¸­è¦éš†é‡,é¸£ç¤¼ç‚®å¤šå°‘å“ã€‚ã€‚ã€‚è¿æ¥ä»ªå¼éå¸¸éš†é‡,è¿™ä¸€å¹•æé¸¿ç« çœ‹çœ¼åœ¨é‡Œ,è‹¦åœ¨å¿ƒé‡Œ,ä¸€ä¸ªå·¦å®—æ£ è¿æˆ‘ä¸€åŠçš„å®˜èŒéƒ½ä¸åˆ°,æ©å¸ˆå±…ç„¶è¿™ä¹ˆéš†é‡æ¥å¾…,æˆ‘æ¥äº†æ©å¸ˆå½“ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿ,æ©å¸ˆæ˜¯å¸¦æˆ‘ç™»ä¸Šæ–‡å­¦æ®¿å¤§å­¦å£«çš„äºº,æ˜¯æˆ‘ç§‘ä¸¾è€ƒè¯•ä¸­å¯¹æˆ‘ä¸¥åŠ ç®¡æ•™,æ•™æˆæˆ‘ç”Ÿå­˜æœ¬é¢†çš„äºº,ç°åœ¨è¿™èˆ¬åœºæ™¯,æ€è®©æˆ‘ä¸å¿ƒé…¸,å“ çœ‹æ¥__æˆ‘è¿˜å¾—æœ‰è‡ªå·±çš„å†›é˜Ÿ,æ‰“å‡ºå‡ æ¬¡èƒœä»—,å¾—æœ‰å®åŠ›è¿™æ ·æ‰èƒ½å¾—åˆ°æ©å¸ˆå¾—è®¤å¯,æ‰èƒ½å»èµ¢å¾—åˆ«äººçš„å°Šé‡__.æˆ‘ç°åœ¨ä»€ä¹ˆéƒ½æ²¡æœ‰,å·¦å®—æ£ å¸¦é¢†ä¸€ç¾¤å…µå’éƒ½è¿™ä¹ˆåš£å¼ ... æé¸¿ç« å½“æ—¶çš„å¿ƒé…¸æˆ‘çœ‹å®Œäº†è¿™æ®µæ•…äº‹æˆ‘å¾ˆç†è§£,æˆ‘ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œçš„ä½ ä¹Ÿä¸€æ ·æ„ŸåŒèº«å—.</p>
<p>å…¶å®æ›¾å›½è—©çš„è‰¯è‹¦ç”¨å¿ƒæé¸¿ç« å½“æ—¶è¿˜æ²¡å¯Ÿè§‰åˆ°,ä½œä¸ºè‡ªå·±çš„é—¨ç”Ÿæ²¡æœ‰è°æ¯”æ›¾å›½è—©æ›´äº†è§£æé¸¿ç« äº†,æ›¾å›½è—©ä¸ºäº†ç£¨å¹³æé¸¿ç« çš„æ£±è§’è®©ä»–å—å¦‚æ­¤è¿™ä¹ˆå¿ƒé…¸,å°±è®©ä»–å°å°è¿™æ˜¯å•¥æ»‹å‘³,è®©ä»–æ‡‚å¾—__äººå°±å¾—ç”¨å®åŠ›å»èµ¢å¾—åˆ«äººçš„å°Šé‡__.</p>
<p>æ›¾å›½è—©å’Œæé¸¿ç« çš„æ•…äº‹ä¸€å¼€å§‹å¾ˆæŠµè§¦è¥¿æ–¹æ–‡æ˜,åˆ°æœ€åç–²äºåº”å¯¹å†åˆ°ä¸»åŠ¨å‡ºå‡»,å†åˆ°å­¦è´¯ä¸­è¥¿,è¦ä¸æ˜¯æ´‹äººçš„èˆ¹åšç‚®åˆ©é‚£æ€ä¹ˆä¼šæœ‰æé¸¿ç« ,æ€ä¹ˆä¼šè¯ç”Ÿã€ä¸­å›½çš„é“è¡€å®°ç›¸è„¾æ–¯éº¦ã€.æé¸¿ç« åœ¨æ´‹åŠ¡è¿åŠ¨ä¸­å¼€åˆ›äº†å¤šå°‘ä¸ªç¬¬ä¸€,å›å¤´å†çœ‹çœ‹æˆ‘çš„æˆé•¿å²åˆå¼€åˆ›äº†å¤šå°‘ç¬¬ä¸€,ç¬¬ä¸€æ¬¡èƒŒäº•ç¦»ä¹¡,ç¬¬ä¸€æ¬¡åŠ å…¥Baidu,æ¯”è¾ƒæ—©çš„æ¥è§¦iOSå¼€å‘,ç¬¬ä¸€æ¬¡ç”¨åšå®¢è®°å½•çŸ¥è¯†æŠ€è‰º,ç¬¬ä¸€æ¬¡èµ°å‡ºå†œæ‘ç”¨è®¡ç®—æœºæŠ€æœ¯æ”¹å˜å‘½è¿,æˆä¸ºæ‘é‡Œäººçš„å¸Œæœ›,æˆ‘å®Œå…¨å°±æ˜¯å†èµ°æé¸¿ç« çš„è€è·¯,å¸Œæœ›èµ°åœ¨æˆä¸ºåœ£è´¤çš„è·¯ä¸Š,è¿™æ¡è·¯ä¸Šä¸€å®šæ²¡æœ‰ã€å‰æ–¹300ç±³æœ‰é—¯çº¢ç¯æ‹ç…§ã€,æœ‰å‰äººçš„ç»éªŒè®©æˆ‘å¾ˆå¹¸è¿,ä½†å†å¾€åä¼šé‡åˆ°å‰äººéƒ½æ²¡ç»å†è¿‡å¾—ä¸œè¥¿,æˆ‘å°†æˆä¸ºåˆ«äººçš„å‰äºº.</p>
<p>æ•…äº‹è®²å®Œäº†</p>
<p>æˆ‘ä»¬å†æ¥çœ‹çœ‹ä»Šå¤©çš„æˆ‘ä»¬,æˆ‘ä»¬å¿ƒç›®ä¸­æŒ‰ç…§ç‹é˜³æ˜çš„ã€ŠçŸ¥è¡Œåˆä¸€ã€‹å¤§å®¶ä¹Ÿéƒ½ä½©æœæœ‰å®åŠ›çš„äººå§.<br>
å¦‚æœä½ è§‰å¾—ä¸€ä¸ªå¯ŒäºŒä»£ çˆ¹å¦ˆåœ¨ä¸€çº¿äºŒçº¿åŸå¸‚ç»™ä»–ä¹°å¥—æˆ¿ å¸®ä»–æ‘†å¹³äº†ä»–éœ€è¦çš„ä¸€åˆ‡,è¿™ä¸ªäººè¿˜æ²¡ä¸ªæ­£ç»å·¥ä½œ,æ¯å¤©éƒ½è¿‡ç€å…»å°Šå¤„ä¼˜çš„ç”Ÿæ´»ä½ ä¼šä½©æœä»–å—ï¼Ÿè¿™ä¸å°±æ˜¯æˆ‘ä»¬èº«è¾¹çš„ä¸€äº›äººå˜›? æˆ‘ç›¸ä¿¡ä½ ä¸€å®šä¸ä½©æœä»–,ä½ ä½©æœä»–çš„æ˜¯ä»–æœ‰å¦‚æ­¤æœ‰æ­£äº‹çš„çˆ¶æ¯.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/ef7d1636166dc587859a78cda527113bd85c8ead/20181231FinalSummary/five-year_plan.jpeg"></p>
<p>æˆ‘ä»2013å¹´å¼€å§‹åˆ¶å®šè‡ªå·±çš„ç¬¬ä¸€ä¸ªäº”å¹´è®¡åˆ’,ç°åœ¨2018å¹´äº†,æˆ‘æ²¡æœ‰ç»™è‡ªå·±ä¸€ä¸ªæ»¡æ„çš„ç­”å·,çœ‹ç€æˆ‘çš„äº”å¹´è®¡åˆ’ å‹‰å¼ºå®Œæˆ70%çš„ç¨‹åº¦,æˆ‘å¾ˆæƒ­æ„§. æˆ‘æ‰¿è®¤æˆ‘è¯´äº†å¤§è¯,æˆ‘å‘é‚£äº›çœ‹åˆ°æˆ‘åˆ¶å®šäº”å¹´è®¡åˆ’çš„å„ä½,ä»¥åŠæˆ‘çš„é«˜ä¸­è€å¸ˆ,æ·±è¡¨æ­‰æ„. æˆ‘ç¡®å®åœ¨å¯ŒäºŒä»£çš„é¢å‰æŠ¬ä¸èµ·å¤´,æˆ‘çš„çˆ¶äº²æ²¡æœ‰æ­£äº‹,ä¸€åˆ‡éœ€è¦æˆ‘è‡ªå·±ç™½æ‰‹èµ·å®¶.</p>
<p>äºæ˜¯æˆ‘ç»™è‡ªå·±å†™äº†å¥åº§å³é“­: <strong>åŸ‹å¤´è‹¦å¹²åå¹´,ä¸å¯ŒäºŒä»£æŠ¬å¤´ç›¸è§.</strong></p>
<h4 id="æ¯›æ³½ä¸œä¼ ">æ¯›æ³½ä¸œä¼ </h4>
<p>è¿™æ˜¯æˆ‘ä»Šå¹´çš„åœ°å››æœ¬ä¹¦,å¬å®Œæ„Ÿè§‰æ¯›çˆ·çˆ·çš„æ•…äº‹,çœŸçš„ä¸å®¹æ˜“,è¿™ä¸ªäººå¾ˆæœ‰æ°”é­„å’Œè¯—äººæ‰å.åœ¨å†…å¤–äº¤å›°çš„æ–°ä¸­å›½å¦‚æœä»é›¶å¼€å§‹ç€æ‰‹å‡†å¤‡æœªæ¥å‡ åå¹´çš„ä»»åŠ¡æ˜¯ä¸å®¹æ˜“çš„,æ¯›çˆ·çˆ·åšåˆ°.ä»å°ç”Ÿæ´»åœ¨åœ°ä¸»çš„å®¶åº­ä¸­æ²¡æœ‰å› ä¸ºçˆ¶äº²çš„å°å†œæ€æƒ³è€Œå½±å“.</p>
<h4 id="å‘¨æ€»ç†çš„æœ€å600å¤©">å‘¨æ€»ç†çš„æœ€å600å¤©</h4>
<p>è¿™ä½å…±å’Œå›½æ€»ç†çš„å£°éŸ³ä½ éƒ½éœ€è¦å¬åˆ°,è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°å‘¨æ€»ç†çš„åŸå£°å½•éŸ³,åœ¨æœ€åçš„600å¤šå¤©çš„æ—¥å­é‡Œ,è¿™ä½æ€»ç†å¯è°“é èº¬å°½ç˜æ—¥ç†ä¸‡æœº,ä¸æ±Ÿé’å›¢ä¼™æ–—æ™ºæ–—å‹‡,åŠªåŠ›çº æ­£æ–‡é©çš„é”™è¯¯,æŠŠå…±å’Œå›½çš„é‡ä»»ä¸€æ­¥ä¸€æ­¥äº¤ç»™é‚“å°å¹³,æ²¡æœ‰å°å¹³çˆ·çˆ·çš„æ”¹é©å¼€æ”¾,é‚£ä½ ä»Šå¤©ä¹Ÿè®¸å°±ä¸ä¼šçœ‹åˆ°æˆ‘å†™çš„åšå®¢æ–‡ç« æ¥æ€»ç»“æˆ‘çš„2018,å‘¨æ€»ç†çš„å‹¤ä¿­å€¼å¾—æˆ‘å»å­¦ä¹ ,ç”±äºåŒ»ç–—æ¡ä»¶ä¸æ˜¯å¾ˆå®Œå¤‡,å½“æ—¶çš„æ–°ä¸­å›½è¿˜æ²¡æœ‰èƒ½åŠ›åˆ¶é€ ä¸€äº›é«˜çº§è¯å“,å‘¨æ€»ç†çš„è¯éƒ½æ˜¯å›½å¤–è¿›å£,å¯æ˜¯è¿™ä½æ€»ç†èŠ‚ä¿­åˆ°å½“è¯ç‰‡æ‰åœ°ä¸Šå¾ˆçæƒœçš„æ¡èµ·æ¥åƒ,ä»–è¯´,æˆ‘å¤šä¹ˆå¸Œæœ›æˆ‘ä»¬å…±å’Œå›½ä¹Ÿèƒ½åˆ¶é€ è¿™ç§è¯å»å¸®åŠ©é‚£äº›åƒæˆ‘ä¸€æ ·å—ç—…ç—›æŠ˜ç£¨çš„äººæ°‘.åœ¨æœ€åçš„å²æœˆé‡Œä¸ç—…é­”åšå¼ºæŠ—äº‰.</p>
<p>ä¸ºäº†çºªå¿µè¿™ä½ä¼Ÿäºº,æˆ‘è®¤çœŸçš„å¬å®Œè®²è§£å‘¨æ€»ç†çš„æœ€åå²æœˆ,æˆ‘å¾ˆè£å¹¸èƒ½åœ¨ä¸­å›½å›½å®¶åšç‰©é¦†é‡Œæ‰¾åˆ°æ€»ç†çš„å‡ ä»¶ç‰©å“,è®©æˆ‘ç»ä»°ä¸€ä¸‹è¿™ä½å…±å’Œå›½æ€»ç†çš„çˆ±æˆ´äººæ°‘çš„ç²¾ç¥å’Œæ°”è´¨.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a55bae832166b756dc2b68c32b93560c9ccde8ba/20181231FinalSummary/hatOfZhouPrimeMinister.jpg"></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a55bae832166b756dc2b68c32b93560c9ccde8ba/20181231FinalSummary/hatOfZhouPrimeMinister2.JPG"></p>
<p>è¿™æ˜¯å‘¨æ€»ç†å‚åŠ æ—¥å†…ç“¦ä¼šè®®çš„ç¤¼å¸½ ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™å¼ æˆ‘ä»¬åœ¨åˆé«˜ä¸­å†å²ä¹¦ä¸Šç»å¸¸çœ‹åˆ°çš„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a3454b2b00ff269f32b025ee9ffcdfd092bafab2/20181231FinalSummary/hatOfZhouPrimeMinister3.JPG"></p>
<p><em>å›¾ç‰‡å¼•ç”¨è‡ªç™¾åº¦ç™¾ç§‘</em></p>
<p>æˆ‘ç›¸ä¿¡ä½ çœ‹åˆ°è¿™ä½å…±å’Œå›½æ€»ç†ä¹Ÿä¼šæƒ…ä¸è‡ªç¦çš„æ½¸ç„¶æ³ªä¸‹,ä»–çš„å£°éŸ³ä½ éœ€è¦å¬åˆ°.</p>
<h4 id="æ™®äº¬ä¼ è®°">æ™®äº¬ä¼ è®°</h4>
<p>è¿™ä½å‰å…‹æ ¼å‹ƒç‰¹å·¥,ä¿„ç½—æ–¯çš„ç¡¬æ±‰,å¯¹äºè‹è”é›†ä½“åçš„ç»æµé‡å»º,å¼ºç¡¬é“è…•è§£å†³ä¿„ç½—æ–¯å¯¡å¤´çš„è´¢åŠ¡éœ¸æƒ,è½¦è‡£æˆ˜äº‰çš„ç»ˆç»“è€…,å…‹é‡Œç±³äºšåœ°åŒºçš„å›½é™…ç²¾ç¥,æ•¢äºåœ¨ä¸–ç•Œä¸Šä¸ç¾å›½å¼ºç¡¬å¯¹æŠ—. æ™®äº¬ä¼ è®°ç¡®å®è®°å½•çš„å¾ˆè¯¦ç»†,ä¸è¿‡ å°±æˆ‘ä¸ªäººè§‚ç‚¹ ä¿„ç½—æ–¯ç°åœ¨å›½æ°‘ç»æµæ²¡æœ‰æ”¹å–„å¤šå¥½,ä¾ç„¶æ˜¯ä¸¤æ¶é©¬è½¦å¼çš„å‘å±•. ä¸ºäº†äº†è§£ä¸–ç•Œçš„å†å²å’Œæ¬§æ´²çš„åœ°ç†æˆ‘ä»Šå¹´ å­¦ä¹ å¾ˆå¤šæ¬§æ´²çš„å†…å®¹, è¿™æœ¬ä¹¦å°±æ˜¯åœ¨å­¦ä¹ èŒƒå›´å†….</p>
<h4 id="ä¹ è¿‘å¹³çš„ä¸ƒå¹´çŸ¥é’å²æœˆ">ä¹ è¿‘å¹³çš„ä¸ƒå¹´çŸ¥é’å²æœˆ</h4>
<p>åœ¨æˆ‘å°æ—¶å€™çˆ¶æ¯ç»å¸¸è·Ÿæˆ‘è¯´å­¦ä¹ ä¸å¥½å°±æŒ‘å¤§ç²ª,ä½†æ˜¯æˆ‘è¦è¯´çš„æ˜¯è¿™ä½ç°ä»»ä¸­åäººæ°‘å…±å’Œå›½å…±å’Œå›½çš„ä¸»å¸­å°±æ˜¯æ›¾ç»æŒ‘è¿‡ç²ª,åœ¨é™•åŒ—æ¢å®¶æ²³ä¸€æ­¥ä¸€æ­¥ä»çŸ¥é’ä¸‹ä¹¡åˆ°æ‘æ”¯ä¹¦å†åˆ°åŠ å…¥ä¸­å›½å…±äº§å…š,æ¢å¤é«˜è€ƒç»§ç»­ä¸Šæ¸…åå­¦ä¹ ,æœ€ç»ˆæˆä¸ºä¸­åäººæ°‘å…±å’Œå›½çš„å›½å®¶ä¸»å¸­,è¿™ä¸€è·¯èµ°çœŸçš„å¾ˆä¸å¹³å‡¡,è¿™æœ¬ä¹¦è®©æˆ‘è®°å¿†çŠ¹æ–°çš„ä¸€ä¸ªæ•…äº‹å€¼å¾—æˆ‘ä»¬æ¯ä¸ªäººå»å­¦ä¹ .</p>
<p>å½“å¹´ä¹ å¤§å¤§ ä½œä¸ºçŸ¥é’åˆšä¸‹ä¹¡, ç”±äºä¸å¤Ÿäº†è§£å†œæ‘çš„ç™¾å§“çš„ç”Ÿæ´»,åŠ ä¸Šé™•åŒ—ååˆ†è´«å›°,çŸ¥é’ä»¬éœ€è¦è‡ªå·±å­¦ä¼šåšé¥­,è‡ªå·±å­¦ä¼šæ¡æŸ´çƒ§ç«,ç”±äºç¬¬ä¸€æ¬¡æ²¡æœ‰ç»éªŒ,åˆšå»æ¢å®¶æ²³çš„ä¸€æ®µæ—¥å­èµ¶ä¸Šé™•åŒ—ä¸‹é›¨, åšé¥­çš„æŸ´éƒ½è¢«é›¨æ·‹æ¹¿äº†,æ²¡åŠæ³•å¼•ç«,çŸ¥é’ä»¬ä½ ç…ç…æˆ‘æˆ‘ç…ç…ä½ ,äº’ç›¸ä¸çŸ¥æ‰€æª,è¿™ç§æ—¥å­å®åœ¨å¤ªè¿‡è‰°éš¾, ä¹ å¤§å¤§ä¸‹ä¹¡çš„æ—¶å€™æ»¡æ»¡çš„ä¸€åŒ…åˆä¸€åŒ…çš„éƒ½æ˜¯ä¹¦,åœ¨è¿™æ®µæ—¥å­é‡Œç™½å¤©å¹²å†œæ´»æ™šä¸Šåƒå®Œé¥­è¿˜è¦ç»§ç»­å­¦ä¹ ,ç”±äºæ²¡æœ‰ä»€ä¹ˆåƒçš„æ™šä¸Šå­¦åˆ°å¾ˆæ™šçš„æ—¶å€™ä¼šè§‰å¾—é¥¿,å°±ç®€å• é”…é‡Œæ”¾ç‚¹æ°´ æ”¾é‡Œä¸¤ç¢ç‰ç±³,æŸ´è¿™ç§èµ„æºæ˜¯æœ‰é™çš„ æ‰€ä»¥ç…®å®Œçš„ç‰ç±³ ä¹Ÿä¸çŸ¥ç†Ÿæ²¡ç†Ÿå°±åƒäº†,è¿™æ®µè‰°è‹¦çš„ç”Ÿæ´»æˆ‘ç›¸ä¿¡åœ¨çœ‹è¿™ç¯‡æ–‡ç« çš„å¹´è½»äººä¹Ÿè®¸éƒ½ç†è§£ä¸äº†,ä½†æ˜¯è¿‡çš„ç¡®å®æ— æ¯”è‰°éš¾,ç”±äºé™•åŒ—çš„åº•çº¿å¤šå±±å’Œé«˜å¡ ä¸èƒ½ç§¯æ°´åŠ ä¸Šç”°åœ°æ˜¯æœ‰é™çš„,ä¹ å¤§å¤§å¸¦é¢†å…¨æ‘çš„äººæ°‘ä¿®å ¤åè“„æ°´çŒæº‰,ç„¶åå¼€å¦å†œç”°.ä¹ å¤§å¤§æ·±çŸ¥é™•åŒ—ä¸ºä»€ä¹ˆè´«ç©·å› ä¸ºç™¾å§“çš„ç”°åœ°å®åœ¨å¤ªå°‘,åªèƒ½åƒå¤§åœ°è¦ç²®é£Ÿ,å»ºå®Œå ¤åå¼€å±±æ‹“ç”°åœ°,åŠæ²¼æ°”æ± ,å½“å¹´è¿˜æ²¡æœ‰å¥½çš„æœºæ¢°,å…¨éƒ¨éƒ½æ˜¯äººå·¥æŒ‘è¿™ç²ªä¾¿è£…åˆ°æ²¼æ°”å‘.æ²¼æ°”æ± éœ€è¦æŠ€æœ¯,ä¹ å¤§å¤§åˆæ¢è®¿å››å·å­¦ä¹ åŠæ²¼æ°”çš„ç»éªŒ,æ²¼æ°”æ± åˆšæŠ•å…¥ä½¿ç”¨ä¹‹å‰éœ€è¦æŠŠæ²¼æ°”å¼„ä¸ªæ´æ¥æ£€æµ‹æ²¼æ°”æ˜¯å¦èƒ½å¤Ÿè¾¾æ ‡ä½¿ç”¨,ä¹ å¤§å¤§äº²è‡ªå¼€æ´,å½“æ—¶ç”±äºæ± å†…å‹åŠ›å¾ˆå¤§,å–·äº†ä¸€èº«ç²ªæ±¤, çœ‹åˆ°è¿™çš„æ—¶å€™æˆ‘ä¸ä»…æ„Ÿå¹,ä¸­å›½èƒ½æœ‰ä»¥ä¸ºè¿™æ ·çš„ä¸»å¸­å¤ªå¹¸è¿äº†,è¿™ä¸ªäººå¯çœŸæ˜¯æ·±å…¥åŸºå±‚åŠ³åŠ¨,æ•¢äºå¹²æœ€è„æœ€ç´¯çš„æ´»,ä¸€èˆ¬å¹²è¿™ç§æ´»çš„äººä»–è‚¯å®šçŸ¥é“åº•å±‚äººæ°‘çš„ç–¾è‹¦,ä»–ä¹Ÿä¸€å®šçŸ¥é“å¦‚æœå¸¦é¢†ç¥–å›½çš„å¹¿å¤§äººæ°‘è„±è´«è‡´å¯Œ.</p>
<p>å¦‚æœæ”¾åˆ°ç°åœ¨ä½ è®©ä¸€ä¸ªå¹´è½»äººå»å†œæ‘èµ¶ä¸Šä¸‹é›¨å¤©åšé¥­çš„æŸ´éƒ½æ·‹æ¹¿,æ ¹æœ¬ç‚¹ä¸ç€ç«åšé¥­,è¿™ç§è‹¦æ—¥å­çœŸæ²¡å‡ å¹´è½»äººå°è¿‡,æ›´åˆ«è¯´åŠæ²¼æ°”æ± æŒ‘ç²ªäº†.</p>
<p>å³ä¾¿ä½ å¿ƒç›®ä¸­çš„æ”¿åºœæœ‰å¤šä¹ˆè´ªè…,æˆ‘è§‰å¾—ä¹ å¤§å¤§ä¸ä¼š,ä»–å°è¿‡å¤ªå¤šäººæ²¡åƒè¿‡çš„è‹¦,å—åˆ°è¿‡æ–‡é©çˆ¶äº²çš„å½±å“å…¥äº†Næ¬¡å…šæ‰æœ€ç»ˆæˆåŠŸ,è¿™æ®µç»å†ä¸å¯»å¸¸,å¦‚æœä¸äº†è§£è¿™ä½å›½å®¶é¢†å¯¼äººçš„å†å²,é‚£æˆ‘ä»¬ä¹Ÿä¸ä¼šæ‡‚å¾—ç°åœ¨çš„è¾›ç¦æ¥çš„å¤šä¹ˆä¸å®¹æ˜“.ç°åœ¨å…¶å®æ¯”ä¹ å¤§å¤§çš„è¿‡å»å¹¸ç¦å¤šäº†,ä½†æ˜¯ç¤¾ä¼šä¸»ä¹‰åˆçº§é˜¶æ®µå°±è¿™æ ·,å…ˆèƒ½è§£å†³æ¸©é¥±,æ‘†è„±è´«å›°,ç„¶åå†å»ç ”ç©¶å¥”å°åº·å‘å®¶è‡´å¯Œ,æˆ‘å¸Œæœ›ä¹ å¤§å¤§çš„äººç”Ÿç»å†èƒ½è®©æ¯ä¸ªäººéƒ½çŸ¥é“,æ‰€ä»¥è¿™æœ¬ä¹¦å¼ºçƒˆæ¨è.</p>
<h4 id="ä¹”å¸ƒæ–¯ä¼ ">ä¹”å¸ƒæ–¯ä¼ </h4>
<p>ä½œä¸ºä¸€å è‹¹æœå¼€å‘è€… å¦‚æœä¸å»äº†è§£åˆ›é€ è‹¹æœçš„äººå…¶å®æ˜¯ä¸€ç§æ‚²å“€,ä¹”å¸ƒæ–¯çš„ä¸ªäººæ€§æ ¼éå¸¸æç«¯è¿½æ±‚ç»å¯¹æœºåˆ¶,å¦‚æœæ²¡æœ‰è¿™ä¹ˆåˆ»è–„çš„è¿½æ±‚å°±ä¸ä¼šæœ‰ä»Šå¤©çš„iPhone, å½“ç„¶å…‰æœ‰è¿™ç§æ°”è´¨æ˜¯ä¸å¤Ÿçš„,éœ€è¦æœ‰æŠ€æœ¯é©±åŠ¨,æ²ƒå…¹å°¼äºšå…‹å°±æ˜¯å…¶ä¸­ä¹‹ä¸€.æ•°å­¦å¤©æ‰,ç¬¬ä¸€å° Apple I å°±æ˜¯è¿™ä¸ªå¤§ç¥æ‰‹å·¥åšçš„,ç”¨èŠ¯ç‰‡å åŠ ,ç”µè·¯è®¾è®¡.....</p>
<p>ä¹”å¸ƒæ–¯æ˜¯ä¸€ä¸ªæå…· "ç°å®æ‰­æ›²ç«‹åœº"çš„äºº,(æ¥åœ°æ°”ä¸€ç‚¹å°±æ˜¯èƒ½å¿½æ‚ ),ä½œä¸ºå­¤å„¿çš„ä¹”å¸ƒæ–¯æ·±å—å…»çˆ¶çš„å½±å“,ä»–çˆ¶äº²æ˜¯ä¸€ä¸ªæœ¨åŒ ,è¿™ä¸ªäººè¯´:"åšä»€ä¹ˆå…¶å®è·Ÿåšå®¶å…·æ˜¯ä¸€æ ·çš„,è¡£æŸœçš„èƒŒæ¿ä¸å®¹æ˜“è¢«äººæ‰€çœ‹è§,ä½†æ˜¯è¡£æŸœçš„å¤–è¡¨è´¨é‡ä¹Ÿè¦è·Ÿå†…åœ¨çš„èƒŒæ¿ä¸€æ ·çš„å“è´¨",æ‰€ä»¥ä½ ä»Šå¤©æ‹†å¼€è‹¹æœçš„ä»»ä½•è®¾å¤‡çœ‹çœ‹ç”µè·¯æ¿å°±çŸ¥é“,é»‘è‰²PCBå°åˆ·,å†…éƒ¨ç”µè·¯è®¾ç½®å’Œå…ƒå™¨ä»¶éƒ½ååˆ†æ•´é½,çœŸçš„è·Ÿè¡£æŸœçš„èƒŒæ¿ä¸€æ ·è´¨é‡. ä¾‹å¦‚: iPhone 4/4s</p>
<p>è¿™æ˜¯å”¯ä¸€ä¸¤éƒ¨ä¹”å¸ƒæ–¯åœ¨ä¸–æ—¶å‘å¸ƒçš„æœ€åä¸¤æ ·äº§å“,ä½†æ˜¯ç°åœ¨çš„åº“å…‹ä¹Ÿè®¸æ²¡æœ‰100%çš„éµç…§ä¹”å¸ƒæ–¯çš„äººæ ¼å’Œä¹ æƒ¯ä»¥åŠè¿½æ±‚,æ•´çš„ç°åœ¨çš„è‹¹æœæ‰‹æœºå›½äº§çš„è´¨é‡æ€»å‡ºé—®é¢˜.è¿™è¦æ˜¯åœ¨ä¹”å¸ƒæ–¯æ—¶ä»£æˆ‘ç›¸ä¿¡è¿™å³ä¾¿æœ‰ä¹Ÿå¯ä»¥å…¨éƒ¨æ¢æ–°è€Œä¸”å¾ˆå°‘èƒ½å‡ºé—®é¢˜.</p>
<p>ç”±äºæ€§æ ¼çš„æç«¯å’Œè¿½æ±‚çš„æè‡´å¯¼è‡´ è‹¹æœçš„åŒäº‹æŠŠè¢«ä¹”å¸ƒæ–¯ä¼¤å®³çš„åŒäº‹ç§°ä¸º"ä½é€šæ»¤æ³¢å™¨"(æ— è®ºå¦‚ä½•å¤§å£°æˆ–è€…æ¿€çƒˆå¤§å®¶éƒ½å¾ˆä½è°ƒå¹³å’Œçš„å¤„ç†)</p>
<p>ä¹”å¸ƒæ–¯çš„ä¸€ç”Ÿæ˜¯ä¸æ˜¯ä¼ å¥‡æˆ‘ä¸çŸ¥é“,æˆ‘è§‰å¾—è‡³å°‘æˆ‘é€šè¿‡è‹¹æœçš„è¿™å‰¯é”®ç›˜æ•²å‡ºäº†ä¸€æ ‹100w+æ¥¼æˆ¿.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/7a51ed176820e66e48ec015069843b0686a5e2f0/20181231FinalSummary/applekeyboard.png"></p>
<p>æ˜¯çš„ æˆ‘æ˜¯ä¸€ä¸ªApple iOS Developer,è¿™ä½ä¼Ÿäººä¸ä¸ºäººçŸ¥çš„ä¸€é¢çš„å€¼å¾—å­¦ä¹ .</p>
<h4 id="è´§å¸æˆ˜äº‰15éƒ¨">è´§å¸æˆ˜äº‰1~5éƒ¨</h4>
<p>è¿™å‡ éƒ¨è´§å¸æˆ˜äº‰éå¸¸å¥½,è™½ç„¶ä»¥å°è¯´çš„å½¢å¼å‡ºç°,ä½†æ˜¯ä½œè€…è‡ªè¿°è¯´å¦‚æœä»¥çœŸå®çš„ææ–™å‡ºç°é‚£ä¹ˆé“¶è¡Œå®¶åŸºæœ¬ä¸ä¼šè®©è¿™æœ¬ä¹¦å‡ºç‰ˆ,å¾€å¾€å°è¯´çš„å½¢å¼å¯ä»¥é€ƒé¿å®ƒ.</p>
<p>ä¸€éƒ¨ä¸–ç•Œç»æµçš„å¿…é¡»ç»å…¸, è‹±æ ¼å…°é“¶è¡Œ...ç½—æ–¯æŸ´å°”å¾·å®¶æ—...å¸ƒé›·é¡¿æ£®æ—ä½“ç³»...ä¸–ç•Œç»æµçš„é‡‘æœ¬ä½,é“¶æœ¬ä½è¿˜æœ‰æˆ‘å›½çš„ä»¥ç‰©èµ„ä¸ºæœ¬ä½çš„äººæ°‘å¸,è¿™äº›èƒŒåçš„ä»·å€¼éƒ½åœ¨è¿™æœ¬ä¹¦ä¸­ä¸€ä¸€åˆ—ä¸¾.</p>
<h4 id="æ‹¿ç ´ä»‘ä¼ ">æ‹¿ç ´ä»‘ä¼ </h4>
<p>è¿™ä½æ´»è·ƒåœ¨æ¬§æ´²åŠä¸ªä¸–çºªçš„æ³•å…°è¥¿ç¼”é€ è€…,å¤§çº¦æ´»è·ƒåœ¨ä¸­å›½çš„æ¸…æœä¸­æ™šæœŸ,å‡ºç”Ÿåœ¨æ³•å›½å—éƒ¨çš„ç§‘è¥¿å˜‰å²›çš„æ‹¿ç ´ä»‘,ä¸€è·¯é©°éª‹æ”¿åºœæ•´ç‰‡è¥¿æ¬§é¢†åœŸ,æ²¡ä¸€æ¬¡çš„æˆ˜äº‰éƒ½ä»¥èƒœåˆ©ä¸ºç»“å°¾,ä½†æ˜¯å› ä¸ºæœ€åçš„ä¸€æ¬¡æ»‘é“å¢æˆ˜å½¹è€Œæ¯äºä¸€ç”Ÿ,å…¶å®æˆ‘ä»¬åº”è¯¥ ä»¥"ä¸ä»¥æˆè´¥è®ºè‹±é›„"çš„æ€åº¦æ¥æ¬£èµè¿™ä½æˆ˜æ–—å‹‡å£«.</p>
<p>ä¸ºäº†æ›´å¤šçš„äº†è§£æ¬§æ´²,æˆ‘éœ€è¦äº†è§£é‚£é‡Œçš„äººæ–‡å’Œåœ°ç†,æ‰€ä»¥è¿™æœ¬ä¹¦å€¼å¾—ä¸€çœ‹</p>
<h4 id="æå˜‰è¯šä¼ ">æå˜‰è¯šä¼ </h4>
<p>æœ€åè¦è¯´è¯´è¿™ä½åŠ±å¿—ä¼Ÿäººæå˜‰è¯š,è¿™ä½æè¶…äººç®€ç›´ç§°éœ¸é¦™æ¸¯åˆæ¸©æ–‡å°”é›…,å…¶å®æè¶…äººçš„ç¥–å…ˆæ—¶æ¸…æœæ—¶æœŸçš„æ–‡å®˜æ‹”è´¡å‡ºèº«(å¯ä»¥ç†è§£ä¸ºæœ‰æ–‡åŒ–æœ‰å­¦è¯†çš„ç§€æ‰).è¿™ä½ä¼Ÿäººå¾æœå…¨æ¸¯,æ— è®ºåšäººåšäº‹éƒ½å‹¤å‹¤æ³æ³è¸è¸å®å®,ä»ä¸€å®¶åšå¡‘èƒ¶èŠ±å‚å•†åˆ°æœ€åæ”¶è´­æ¸¯ç¯,è‹±èµ„ä¼ä¸š,æ±‡ä¸°é“¶è¡Œçš„é•¿æœŸåˆä½œä¼™ä¼´,æ€¡å’Œç½®åœ°,å†åˆ°é¦™æ¸¯çš„æˆ¿åœ°äº§...ä»¥åŠæ”¶è´­å¸Œå°”é¡¿é…’åº—....å¤ªå¤šå¤ªé•¿ä¸€è¨€éš¾å°½</p>
<p>è¿™é‡Œè¦è¯´ä¸€ä¸‹è¿™ä¸ªæ€¡å’Œç½®åœ°,å®ƒçš„å‰èº«æ˜¯<a href="https://baike.baidu.com/item/%E6%80%A1%E5%92%8C%E6%B4%8B%E8%A1%8C/5039743?fr=aladdin" target="_blank" rel="external">æ€¡å’Œæ´‹è¡Œ</a>(è‹±èµ„ä¼ä¸š)ç”±ä¸¤åè‹æ ¼å…°è£”è‹±å›½äººå¨å»‰Â·æ¸£ç”¸ï¼ˆWilliam Jardineï¼Œ1784å¹´ï½1843å¹´ï¼‰åŠè©¹å§†å£«Â·é©¬åœ°è‡£ï¼ˆJames Mathesonï¼Œä¸€è¯‘â€œå­–åœ°è‡£â€ï¼Œ1796å¹´ï½1878å¹´ï¼‰åœ¨ä¸­å›½å¹¿å·åˆ›åŠ,å°±æ˜¯å½“å¹´æ—åˆ™å¾è™é—¨é”€çƒŸ,æ£æ¯ä¸œå°åº¦å…¬å¸çš„é¸¦ç‰‡,å®é™…ä¸ŠèƒŒåæ˜¯æ€¡å’Œæ´‹è¡Œåœ¨æŒæ§,å› ä¸ºæ—åˆ™å¾ä¾µçŠ¯äº†æ€¡å’Œæ´‹è¡Œçš„åˆ©ç›Šåœ¨ååˆ©ç›Š,è¿™ä½æ¸£ç”¸è€æ¿åœ¨è‹±å›½å¥³çš‡é¢å‰æ¸¸è¯´,æŒ‘èµ·äº†1840å¹´çš„é¸¦ç‰‡æˆ˜äº‰.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/f654b576ec4663c04c56eb2c121d5d98ba46ec32/20181231FinalSummary/yihe.jpg"></p>
<p>æ€¡å’Œæ´‹è¡Œæ—§å€ <em>å›¾ç‰‡å¼•è‡ªç™¾åº¦ç™¾ç§‘</em></p>
<p>æå˜‰è¯šçš„ä¸€ç”ŸçœŸçš„ä»æ— åˆ°æœ‰,é‚»è¿‘åå·,ç¨³æ‰ç¨³æ‰“,ä¸€æ­¥ä¸€æ­¥åå¹¶æ”¶è´­.</p>
<p>è®©æˆ‘å°è±¡æ·±åˆ»çš„æ˜¯æ€¡å’Œå¤§ç­ çº½ç¢§åš è·Ÿæå˜‰è¯šçš„åˆä½œ...</p>
<p>ç»å¯¹åŠ±å¿—çš„äººç”Ÿå¥‹æ–—å² å€¼å¾—ä¸€çœ‹</p>
<h2 id="æŠ€æœ¯">æŠ€æœ¯</h2>
<p>è¿™ä¸€å¹´åœ¨æŠ€æœ¯ä¸ŠæŠ•å…¥å’Œæ”¶ç›Šæ²¡æœ‰æ˜æ˜¾æå‡,ä¸è¿‡æˆ‘ç»™è‡ªå·±çš„å®šä¸‹çš„OKR(Object key resultä¸€ç§å·¥ä½œç›®æ ‡çš„å®ç°æ–¹å¼ç±»ä¼¼KPI)æ˜¯æ¯ä¸ªæœˆä¿è¯äº§å‡ºä¸¤ç¯‡æŠ€æœ¯æ–‡ç« ,è‡³å°‘æœ‰ä¸€ç¯‡è´¨é‡è¾ƒé«˜ç»è¿‡è¿™ä¸€å¹´çš„æŠ€æœ¯å†™ä½œ,è¿˜æ˜¯å¾ˆæœ‰æ”¶è·çš„,æˆ‘ä»æ²¡æƒ³è¿‡èƒ½ç”¨åšå®¢è®°å½•æˆ‘çš„ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´,å¤§å¤šéƒ½æ˜¯æŠ€æœ¯ç›¸å…³å¾ˆå°‘å†™ä¸ªäººç”Ÿæ´»,é™¤äº†å¹´ç»ˆæ€»ç»“ä»¥å¤–åŸºæœ¬éƒ½æ˜¯iOSç›¸å…³çš„æŠ€æœ¯,ä¸è¿‡æ•´ä½“ä¸Šä¸ªäººæ„Ÿè§‰è¿˜æ˜¯å¾ˆæ°´çš„,2019å¹´éœ€è¦æ¯”ç°åœ¨æ›´æœ‰è´¨é‡å’Œæ·±åº¦.</p>
<p>ä¸ºäº†å¥–åŠ±è‡ªå·±ä¸€å¹´çš„æŠ€æœ¯è¿›æ­¥å’Œå¯¹å†™ä½œçš„åšæŒ,2018å¹´æˆ‘ä¹°äº†æœ‰ä¸€ä¸ªBOSEé™å™ªè€³æœº(ï¿¥1888),ä½œä¸ºç¨‹åºå‘˜åªæœ‰å‡ æ ·ä¸œè¥¿è§†ä¸ºçå®</p>
<ul>
<li>1.æœºæ¢°é”®ç›˜</li>
<li>2.é™å™ªè€³æœº</li>
</ul>
<p>è¿™ä¸€å¹´åšæŒå­¦ä¹ pythonå’Œæœºå™¨å­¦ä¹ ,ä½†æ˜¯æ˜æ˜¾çš„è¿›æ­¥å¹¶ä¸å¤š,åªæ˜¯ç¨ç¨äº†è§£äº†ä¸€äº›æ•°æ®æŒ–æ˜å’ŒåŠ å·¥æ•°æ®.ä¸è¿‡ç›®å‰è´Ÿè´£å¿«æ‰‹çš„ç›´æ’­ä¸šåŠ¡è®©æˆ‘é”»ç‚¼äº†å¾ˆå¤š,æ¯ä¸€æ¬¡å¼€å‘é‡åˆ°çš„é—®é¢˜æˆ‘éƒ½ä¼šè®°ä¸‹æ¥,ä¸šä½™æ—¶é—´å†™demoç„¶åå‘è¡¨æ–‡ç« åˆ°åšå®¢è®°å½•ä¸–ç•Œè®°å½•ä½ .</p>
<p>ä¸è¿‡å¯¹æ¯”å»å¹´çš„KPIæŒ‡æ ‡</p>
<p>å»å¹´çš„KPIå¦‚ä¸‹:</p>
<ul>
<li>swift4 è¿›é˜¶çœ‹å®Œ</li>
<li>iOS Core Animation çœ‹å®Œ</li>
<li>Learn AV Foundation è¦å†™å‡ ç¯‡åšå®¢ä»ä¸Šæ¬¡æ®µçš„ä½ç½®ç»­ä¸Š</li>
<li>å­¦ä¼šPythonå’Œæ•°æ®æŒ–æ˜ ä¸ºæœºå™¨å­¦ä¹ åšé“ºå«</li>
<li>å¤šåª’ä½“ç›¸å…³æŠ€æœ¯æ·±è€•</li>
<li>è‹±è¯­æ°´å¹³å†æé«˜ä¸€ä¸ªlevel</li>
</ul>
<p>æ˜¾ç„¶æˆ‘æ²¡æœ‰å®Œæˆ30%,å¾ˆæƒ­æ„§,æ‰€ä»¥æˆ‘æŠŠç›®æ ‡å®ç°çš„æ–¹å¼ä»KPIå˜æˆäº†OKR.è¿™æ ·å¼¹æ€§å®ç°ç›®æ ‡ä»¥ä¾¿èƒ½æ›´å¥½çš„å®ç°2019å¹´çš„ç›®æ ‡.</p>
<p>è¿™ä¸€å¹´æˆ‘å¾ˆè´¥å®¶,ä¹°äº†ä¸€å †ç ´çƒ‚èŠ±äº†ä¸å°‘é’±</p>
<p><strong>æœºæ¢°é”®ç›˜</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/keyboard.jpg"></p>
<blockquote>
<p>è¿™æœºæ¢°é”®ç›˜,ç¡®å®å¾ˆå¥½,å‘¨æœ«åœ¨å®¶å†™ä»£ç éå¸¸æµç•…é¡ºæ‰‹.ï¿¥519</p>
</blockquote>
<p><strong>iPhone X 256G ç¾ç‰ˆ</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/iPhoneX.JPG"> &gt; åŒäº‹å»ç¾å›½å¸®å¿™ä»£è´­çš„,ä½œä¸ºä¸€ä¸ªiOS developer,æˆ‘ä¹Ÿæ˜¯å¿å—äº†4å¹´iPhone6,ç¡®å®å¡çš„ä¸è¡Œäº†,ï¿¥8000</p>
<p><strong>Apple Watch 3</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/AppleWatch3.jpg"></p>
<blockquote>
<p>è¿™ä¸ªæˆ‘è®¤ä¸ºåŸºæœ¬æ²¡å•¥ç”¨,å°±èƒ½æˆ´åœ¨æ‰‹ä¸Šçœ‹ä¸ªç‚¹å„¿,å…¶ä½™çš„åŠŸèƒ½éƒ½ç”¨ä¸äº†,ï¿¥3188</p>
</blockquote>
<p><strong>PC</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/PC.jpg"> &gt; ä¸ºäº†å­¦ä¹ æœºå™¨å­¦ä¹ ä¹°äº†ä¸ª1050Ti,å¾ˆä¹…æ²¡DIYäº†,æ•´å¥—è‡ªå·±çš„ä¹°çš„è£…çš„.16G DDR4 2400å†…å­˜,240G+120Gä¸¤å—ä¸‰æ˜Ÿå›ºæ€ç¡¬ç›˜,i5 8400 CPU, æŠ€å˜‰Z370ä¸»æ¿ æ€»é€ ä»· ï¿¥5547.<br>
&gt; æˆ‘å·²ç»æŠŠæ—§çš„é‚£ä¸ª200+è´±å–äº†.</p>
<p><strong>BOSE é™å™ªè€³æœº</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/bose.jpg"> &gt; åŒ11 æ‰“ç®—ä¹°ä¸ªç¨‹åºå‘˜æ¢¦æƒ³ä¸­çš„è€³æœº ï¿¥1888</p>
<p><strong>å°ç‰› N1s åŠ¨åŠ›ç‰ˆ</strong></p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/56e5c68e0b83c60ff00f960a24097fe14bb2e90a/20181231FinalSummary/n1s.jpg"> &gt; ä¸Šç­çš„ä»£æ­¥å·¥å…·.ï¿¥7399</p>
<p>ä»Šå¹´è´¥å®¶èŠ±äº† ï¿¥26541.</p>
<p>ç„¶è€Œè¿™é‡Œé¢æˆ‘è§‰å¾—æœ€å¥½ç”¨çš„ä¸œè¥¿,ä¸€ä¸ªæ˜¯å°ç‰›çš„è¿™ä¸ªç”µåŠ¨è½¦,ä¸€ä¸ªæ˜¯é™å™ªè€³æœº,è‡³äºæ‰‹æœºæˆ‘è§‰å¾—å¯¹äºä¸€ä¸ªåƒæˆ‘è¿™æ ·ç©¿31å—é’±æ—ç”¸é‹çš„äºº,æ‹¿ç€ä¸€ä¸ª8000å¤šçš„ iPhone X æ— ç–‘æ˜¯æ›´åŠ é²œæ˜çš„è¯æ˜æˆ‘æ˜¯ä¸€ä¸ªåè¶³çš„å±Œä¸.ç”µåŠ¨è½¦è¿™ä¸ªä¸œè¥¿å®åœ¨è§£å†³äº†æˆ‘å¾ˆå¤šå¿™,ä¸Šä¸‹ç­æ— è®ºå»å“ªé‡Œéƒ½å¾ˆæ–¹ä¾¿,é™å™ªè€³æœºåˆ™æ˜¯åœ¨å·¥ä½œä¸­èƒ½å¾ˆå®‰é™æŠ•å…¥çš„å·¥ä½œ.è‡³äºæœºæ¢°é”®ç›˜ æ˜¾ç„¶æ²¡å•¥ç”¨,ä½†æ˜¯è‹¹æœçš„é”®ç›˜æ›´è´µ,æƒ³æƒ³è¿˜æ˜¯ç®—äº†,ä¹Ÿç®—å€¼å¾—å§.æœ€æ²¡å•¥ç”¨çš„å°±æ˜¯PC å’Œé‚£å—æ‰‹è¡¨,è¿™ä¸¤æ ·ä¸œè¥¿æ˜¯æˆ‘ä¹°ä¸œè¥¿çš„ä¸€ä¸ªè´¥ç¬”.</p>
<p>ä¹°äº†è¿™ä¹ˆå¤šç ´çƒ‚,èŠ±äº†ä¸å°‘é’±,ç„¶åæˆ‘å‘ç°æœ‰äº›ä¸œè¥¿ä¸€å®šè¦ç‰©å°½å…¶ç”¨.å¦‚æœèŠ±äº†å¾ˆå¤šé’±å´æ²¡æœ‰å‘æŒ¥æœ‰ç”¨çš„ä»·å€¼æ˜¾ç„¶å°±æ˜¯ä¸€ç§ä¸ç†æ€§çš„æ¶ˆè´¹..</p>
<h2 id="åšæŒ">åšæŒ</h2>
<p>æ¯å¹´æ•™å¸ˆèŠ‚æˆ‘éƒ½ä¼šç»™ä¸€ä½åˆä¸­çš„è¯­æ–‡è€å¸ˆæ‰“ç”µè¯é—®å€™ä¸€ä¸‹,æˆ‘ä¸€ç›´è¿ç»­åšæŒäº†11å¹´.æˆ‘è§‰å¾—æˆ‘çš„åˆä¸­å­¦ä¹ çœŸçš„å¾ˆå·®,æ²¡æœ‰ç»™è¿™ä½è€å¸ˆç•™ä¸‹è¿‡å¤ªå¥½çš„å°è±¡,æˆ‘æƒ³å¼¥è¡¥ä¸€ä¸‹,æƒ³åˆ›é€ ä¸€é¡¹è®°å½•,è¿™é¡¹è®°å½•æ˜¯è¦åšåœ¨è¿™ä½è€å¸ˆçš„å­¦ç”Ÿä¸­è¿ç»­åšæŒä¸€å¥é—®å€™çš„å­¦ç”Ÿ,ä¹‹ä¸ä¹‹ä¸€æˆ‘ä¸çŸ¥é“,æœªæ¥å¦‚æœèƒ½çš„è¯æˆ‘ä¼šå°½é‡åšæŒä¸‹å»,å¸Œæœ›è¿™ä½è€å¸ˆè®°å¾—è¿™ä½å­¦ç”Ÿå¾ˆå¹³å‡¡,ä½†å´åšäº†ä¸€ä»¶ä¸å¹³å‡¡çš„äº‹æƒ…,å¸Œæœ›è¿™ä½è€å¸ˆè®°å¾—è¿™ä½å­¦ç”Ÿæ¥è‡ªç¬¬äºŒè‰¯ç§åœº.</p>
<p>åœ¨æˆ‘çš„äººç”Ÿç›®æ ‡ä¸­éœ€è¦æ ‘ç«‹ä¸€ä¸ªäºŒè‰¯äººéƒ½ä½©æœçš„æ¦œæ ·.è¿™ä½æ¦œæ ·å°±æ˜¯å‘ç”Ÿåœ¨è¿™åº§å‡ ä¹åœ°å›¾éƒ½æ²¡æœ‰å¯¼èˆªè·¯çº¿ä¸”è¢«ä¸­å›½å¿½ç•¥çš„æ‘åº„.æˆ‘æ¢¦æƒ³æœ‰ä¸€å¤©è¡£é”¦è¿˜ä¹¡çš„é‚£ä¸€å¤©èƒ½ä¸ºäºŒè‰¯å»ºé€ ä¸€åº§è®¡ç®—æœºåšç‰©é¦†,åœ¨è¿™åº§åšç‰©é¦†ä¸­ä½ å¯ä»¥å°½æƒ…çš„å­¦ä¹ è®¡ç®—æœºç±»çš„ä¹¦ç±.åƒæˆ‘ä¸€æ ·ç”¨æ‰€å­¦çš„çŸ¥è¯†æ”¹å˜è‡ªå·±çš„å‘½è¿.</p>
<p>å› ä¸ºåœ¨æˆ‘ä¸Šå­¦çš„çº¢å…‰å†œåœºåˆä¸­,äºŒè‰¯çš„å­¦ç”Ÿå—åˆ°äº†å¤ªå¤šä¸å¹³ç­‰ä¸å…¬æ­£çš„å¾…é‡,è¿™ä¸ç¦è®©æˆ‘æ½¸ç„¶æ³ªä¸‹,ä¸ºä»€ä¹ˆæˆ‘ä»¬å°±åœ¨çº¢å…‰å†œåœºè¿™åº§é‚»è¿‘çš„å†œåœºæ‘åº„æŠ¬ä¸èµ·å¤´æ¥,æ˜¯å› ä¸ºæˆ‘ä»¬è½å,è½åå°±è¦æŒ¨æ‰“,å°±è¦å—åˆ°ä¸å…¬æ­£çš„å¾…é‡,ä¸ºäº†æ”¹å˜è¿™ä¸€åˆ‡éœ€è¦æˆ‘ä»¬å¿å—"éŸ©ä¿¡çš„èƒ¯ä¸‹ä¹‹è¾±".</p>
<p>åœ¨è¿™æ‰€ä¸­å­¦,è€å¸ˆä»¬åªå¯¹äº²ä¿¡å­å¼Ÿè´Ÿè´£,å¯¹è¯¥å†œåœºçš„å­å¼Ÿæ¬¡ä¹‹,å†æ¬¡æ‰èƒ½è½®åˆ°åƒäºŒè‰¯è¿™ç§å€Ÿè¯»çš„å­¦ç”Ÿä¸­å­¦ä¹ å¥½çš„å­¦ç”Ÿ,è‡³äºåƒæˆ‘è¿™ç§æ—¢æ— èƒŒæ™¯ä¹Ÿæ²¡å…³ç³»,åˆå­¦ä¹ ä¸å¥½çš„å­¦ç”Ÿè¿™ç§æ­§è§†çœŸçš„åˆ»éª¨é“­å¿ƒ,å‚åŠ å·¥ä½œåä¹Ÿä¾ç„¶æ²¡æœ‰å¿˜è®°,ä¸ºä»€ä¹ˆåŒæ ·æ˜¯ä¸­å›½äººè¿˜æè¿™ä¹ˆå…·ä½“çš„åœ°åŸŸæ­§è§†.</p>
<p>æˆ‘å¸Œæœ›æˆ‘èƒ½ç”¨è‡ªå·±çš„å®è·µè¯æ˜ç»™è¿™ä½è€å¸ˆçœ‹,çœ‹çœ‹åˆ°åº•æ˜¯çº¢å…‰çš„å­¦ç”ŸåšæŒ11å¹´ç»™æ‚¨æ‰“ç”µè¯è¿˜æ˜¯äºŒè‰¯çš„å­¦ç”Ÿèƒ½åšæŒ11å¹´ç»™ä½ æ‰“ç”µè¯,<strong>äººæ´»çš„è¦ç”¨å®åŠ›å»èµ¢å¾—åˆ«äººä½©æœå’Œå°Šé‡</strong>,æˆ‘å¸Œæœ›è™½ç„¶äºŒè‰¯å’Œçº¢å…‰åœ°åŸŸçš„ç»æµå·®è·å¾ˆå¤§,ä½†æ˜¯æ¯ä¸ªåœ°åŸŸéƒ½æœ‰å…¶ç‹¬ç‰¹æ€§,æ²¡æœ‰å“ªé‡Œæ¯”å“ªé‡Œé«˜ä½è´µè´±ä¹‹åˆ†,è¦ç›¸äº’èåˆäº’ç›¸å°Šé‡.</p>
<p>å°‘ä¸€äº›æ•™è‚²èµ„æºçš„å€¾æ–œ,è®©æ¯ä¸ªå­¦ç”Ÿéƒ½èƒ½å¾—åˆ°å…¬æ­£å¹³ç­‰çš„å¾…é‡.</p>
<h2 id="ç”Ÿæ´»">ç”Ÿæ´»</h2>
<p>æˆ‘è®¤ä¸ºäººç”Ÿæœ‰ä¸¤å ‚é€‰ä¿®è¯¾</p>
<ul>
<li>1.è£…ä¿®</li>
<li>2.åšé¥­</li>
</ul>
<h4 id="è£…ä¿®">è£…ä¿®</h4>
<p>ä»17å¹´ä¹°æˆ¿åˆ°ç°åœ¨æˆ¿å­è¿˜æ²¡æœ‰ä¸‹æ¥,å¦‚æœæ˜¯æ¯›å¯æˆ¿çš„è¯,éœ€è¦è‡ªå·±å­¦ä¼šè£…ä¿®.</p>
<p>å¨æˆ¿: é›†æˆç¶ã€æ¶ˆæ¯’æŸœã€è’¸çƒ¤ç®± æ°´æ§½ã€å‡€æ°´å™¨ã€åƒåœ¾å¤„ç†å™¨...</p>
<p>è¿™å ‚è¯¾åªæœ‰ä¸¤ç§äººå¯ä»¥é€ƒé¿</p>
<ul>
<li>æœ‰é’±äºº</li>
<li>ä¹°äºŒæ‰‹æˆ¿çš„äºº</li>
</ul>
<p>æ˜¾ç„¶æˆ‘ä¸æ˜¯è¿™ä¸¤ç§äºº,æ—¢æ²¡é’±ä¹Ÿæ²¡ä¹°äºŒæ‰‹æˆ¿,éœ€è¦ç»å†æœ‰é™çš„è£…ä¿®ç»è´¹,æ‰è¥Ÿè§è‚˜çš„è£…ä¿®.</p>
<p>åœ¨æˆ¿å­æ²¡ä¸‹æ¥ä¹‹å‰æˆ‘ç»å¸¸æŠ½å‡ºæ—¶é—´äº†è§£ä¸€äº›ç›¸å…³çš„è£…ä¿®ç»éªŒ,æˆ‘æƒ³è£…å®Œä¿®ä¹Ÿè®¸å°±æˆäº†åŠä¸ªè£…ä¿®å·¥.</p>
<h4 id="åšé¥­">åšé¥­</h4>
<p>è¿™æ˜¯ä¸€ä»¶åªè¦æœ‰ä¸€ä¸ªäººéœ€è¦å¹²çš„æ´».</p>
<p>å¦‚æœä¸å»äº†è§£å¦‚ä½•ä¸‹å¨åšé¥­,é‚£ä¹Ÿè®¸ä¸€è¾ˆå­è¿‡çš„å¾ˆå¹³åº¸,å¦‚æœä¸å»äº†è§£æ¯›è‘±å’Œå°è‘±å¤§è‘±åˆ°åº•åšé¥­å¥½ä¸å¥½åƒ,ä»€ä¹ˆæ ·çš„è‘±é€‚åˆåšä»€ä¹ˆæ ·çš„èœé‚£ä¹ˆäººå°±ä¸ä¼šæœ‰å¤ªå¤šçš„æˆé•¿.</p>
<p>æ˜¾ç„¶ä¸Šé¢çš„ä¸¤å ‚è¯¾æˆ‘æ²¡æœ‰é€ƒè¯¾.</p>
<p>æ‰€è°“ç”Ÿæ´»,æœ‰çš„å¹´è½»äººè®¤ä¸ºæˆ‘ä»¬ä¸éœ€è¦åšæˆåŠŸäººå£«,äº«å—ç°åœ¨çš„é™å¥½ä¸å°±å¯ä»¥äº†ä¹ˆ,æ˜¯çš„ä½ èƒ½äº«å—ç°åœ¨çš„ç¾å¥½é‚£ä¹ˆä¸€å®šæœ‰äººæ›¿ä½ ç ¥ç ºå‰è¡Œ,é‚£ä¸ªäººè¦ä¹ˆæ˜¯ä½ çˆ¶æ¯è¦ä¹ˆæ˜¯ä½ çˆ±äºº.</p>
<p>æ²¡æœ‰è¢«ç”Ÿæ´»æŠ˜ç£¨è¿‡åªæœ‰ä¸¤ç§å¯èƒ½</p>
<ul>
<li>ç¬¬ä¸€ æœ‰äººæ›¿ä½ æ‰›ç€</li>
<li>ç¬¬äºŒ åˆ«ç€æ€¥ è¿˜æ²¡è½®åˆ°ä½ </li>
</ul>
<p>å®¶äººæ€»æœ‰ç”¨é’±çš„æ—¶å€™,åœ¨ä¸­å›½ ä¸€åœºå¤§ç—…èƒ½æ‘§æ¯ä¸€ä¸ªä¸­äº§é˜¶çº§çš„å®¶åº­.å³ä¾¿æ˜¯ç°åœ¨çš„åŒ»ä¿åŠ›åº¦å¾ˆå¤§,ä½†æ˜¯è¿˜æ˜¯ç»ä¸èµ·å¤§é£å¤§æµª</p>
<p>åœ¨å®¶é‡Œçš„è€äººæ€»è¯´é’±ä¹°ä¸æ¥å¹¸ç¦, æˆ‘æƒ³è¯´:ã€é’±ä¹°ä¸æ¥100%çš„å¹¸ç¦,æˆé•¿å99%çš„çƒ¦æ¼éƒ½æ˜¯å› ä¸ºæ²¡é’±ã€.</p>
<p>æˆ‘ç°åœ¨æ‡‚å¾—ä»€ä¹ˆå«é€‰æ‹©æ¯”åŠªåŠ›æ›´é‡è¦äº†,åŠªåŠ›æ˜¯ä¸ºäº†è®©è‡ªå·±æœ‰æ›´å¤šé€‰æ‹©çš„æƒåˆ©.</p>
<h2 id="æ•…äº‹">æ•…äº‹</h2>
<p>æœ‰ä¸€ä¸ªåŒå­¦,æˆ‘4å¹´é›¶2ä¸ªæœˆæ²¡æœ‰è”ç³»,æ—¶é—´è¿‡çš„çœŸå¿« ä¸€æ™ƒ å¿«5å¹´äº†,æˆ‘åˆé‡æ–°åŠ äº†ä¸€ä¸‹å¾®ä¿¡,ä¸ºäº†çºªå¿µè¿™ä½åŒå­¦,æˆ‘æ’°å†™äº†ä¸€ç¯‡é¢˜æä¸ºã€Šèˆ¹ä¸ç¯å¡”ã€‹çš„å‰§æœ¬.</p>
<p>è¿™ä¹ˆå¤šå¹´æˆ‘æ€»ç»“çš„çœŸç†æ˜¯:"çˆ¶æ¯ä¸€å®šè¦æœ‰æ­£äº‹,å¦‚æœæ²¡æœ‰æ­£äº‹é‚£å­å¥³å°±å¾—ä¸ºçˆ¶æ¯çš„æ²¡æ­£äº‹ä¹°å•,å› ä¸ºçˆ¶æ¯æ²¡æœ‰ç§¯æ”’ä¸‹å„¿å¥³æœªæ¥å‡ åå¹´éœ€è¦å‘å±•çš„ç»æµåŸºç¡€,æ˜¾ç„¶å„¿å¥³å°±å¾—ç™½æ‰‹èµ·å®¶ä»é›¶å¼€å§‹".</p>
<h2 id="ç™¾å¹´">ç™¾å¹´</h2>
<p>ä»Šå¹´çš„åä¸€å‡æœŸæˆ‘å»äº†é˜”åˆ«11å¹´çš„å¤©æ´¥,å»çœ‹çœ‹07å¹´å»è¿‡çš„èº«å½±,11å¹´å‰è¿˜æ²¡æœ‰GPSå®šä½çš„åœ°å›¾,æˆ‘å´ä¾ç„¶èƒ½æ‰¾åˆ°æ–¹å‘.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/3bc95da6f8fb8b7cb7c10d1c2e0c428d5b575044/20181231FinalSummary/sun.JPG"></p>
<p>è¿™æ˜¯æˆ‘åœ¨å¤©æ´¥æ‰¾åˆ°å®¶æ—ç™¾å¹´ä»¥æ¥å”¯ä¸€ç•™ä¸‹ä»…å­˜çš„å‡ å¼ ç…§ç‰‡,æˆ‘æ›¾ç¥–çˆ¶,æ›¾ç¥–æ¯,æˆ‘çš„çˆ¶äº²å’Œå§‘å§‘.ç°åœ¨çœ‹åˆ°è¿™æ˜¾å¾—æ— æ¯”çè´µ.</p>
<p>æˆ‘çš„ç¥–å…ˆæ˜¯é—¯å…³ä¸œå»çš„ä¸œåŒ—,å®¶è°±è®°è½½åœ°å€:å±±ä¸œçœé’å·åºœå¯¿å…‰å¿å­™å®¶ç¥åº™,ç”¸å­åŒ—ä½.</p>
<p>ä¹Ÿå°±æ˜¯ç°åœ¨çš„:å±±ä¸œçœæ½åŠå¸‚é’å·å¸‚å¯¿å…‰å¿å­™å®¶æ‘</p>
<p>ä½†æ˜¯æˆ‘æœç´¢åœ°å›¾å‘ç°äº†è‡³å°‘3å¤„</p>
<p>ç¬¬ä¸€å¤„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/f173d0b32c3aa7a39bc1a1c7f1ff24b6ed8d13f9/20181231FinalSummary/hometown1.png"></p>
<p>ç¬¬äºŒå¤„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/f173d0b32c3aa7a39bc1a1c7f1ff24b6ed8d13f9/20181231FinalSummary/hometown2.png"></p>
<p>ç¬¬ä¸‰å¤„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8a00db92a789d99e2c0e43841d48bad35e2b76a8/20181231FinalSummary/hometown.png"></p>
<p>è¿™é‡Œæœ€æœ‰å¯èƒ½çš„æ˜¯ç¬¬ä¸€å¤„ å› ä¸ºé è¿‘æ²³æµæœ‰æ²³æµåœ°é¢è¿‡æ¸¡åŒº(ç”¸å­),ç»è¿‡ç™¾å¹´çš„åœ°åŸŸå˜åŒ–,å¯èƒ½æ²³æµæµé‡å‡å°‘,åœ°è¡¨é«˜å¤„æ°´é¢,æ—¶é—´é•¿äº†å½¢æˆæ‘è½å’Œè€•åœ°.</p>
<p>è¿™é‡Œå¦‚ä»Šå·²ç»é«˜é“å»ºæˆ,æˆä¸ºäº†ç¥–å›½çš„è”¬èœä¹‹ä¹¡,æˆ‘ä¸ºæ­¤æ„Ÿåˆ°æ¬£æ…°,ä¹Ÿè®¸1900å¹´å·¦å³æˆ‘çš„ç¥–å…ˆæ›¾ç»ç”Ÿæ´»åœ¨è¿™é‡Œ.</p>
<p>æˆ‘çš„æ›¾ç¥–çˆ¶æ¥åˆ°ä¸œåŒ—çš„æ—¶å€™èµ¶ä¸Šäº†æ—¥æœ¬å é¢†ä¸œä¸‰çœ,é‚£æ—¶å€™ä¹Ÿè®¸è¿«äºç”Ÿè®¡å’Œæ°‘æ—çš„æ²¦è½,ä¸å¾—ä¸ä¸ºæ—¥æœ¬äººå·¥ä½œ,ä¹Ÿå°±æ˜¯åœ¨ç°åœ¨çš„é»‘é¾™æ±Ÿçœæµ·ä¼¦å¸‚æµ·åŒ—é•‡åä¸‰äº•å­æ‘,æ—¥æœ¬äººåœ¨è¿™é‡Œå…»å†›é©¬,å‰é¢æ˜¯ä¸œæ–¹çº¢æ°´åº“,æˆ‘çš„æ›¾ç¥–çˆ¶ç»ƒå°±ä¸€èº«æ‰“é“çš„æ‰‹è‰º,ä¸ºå†›é©¬é’‰é©¬æŒ,å› ä¸ºä¸œåŒ—å¾ˆå†·,è·¯é¢ç»“å†°,é˜²æ­¢é©¬æ‰“æ»‘,æ‰€ä»¥é’‰é©¬æŒæ˜¯å…¶ä¸­çš„ä»»åŠ¡ä¹‹ä¸€,ä¸Šè¾¹ä¸­é—´è¿™å¼ ç…§ç‰‡,æ˜¯å½“å¹´ä»…å­˜åˆ°ç°åœ¨çš„ä¸€å¼ æ—¥æœ¬ä¸ºå·¥åŒ ç…§çš„ç›¸ç‰‡.</p>
<p>æƒ³æƒ³é‚£ä¸ªæ—¶å€™çœŸæ˜¯å›½ç ´å±±æ²³åœ¨,å®¶ä¹¦æŠµä¸‡é‡‘.è¿™ä½è€äººä¹Ÿè®¸ç»å†è¿‡æ™šæ¸…è¦†ç­,ä¸­åæ°‘å›½çš„åˆå»ºåˆ°å†›é˜€æ··æˆ˜,åœ¨åˆ°æ–°ä¸­å›½çš„æˆç«‹,å†ç»3ä¸ªæœä»£çš„æ›´è¿­.</p>
<p>ä¹Ÿè®¸æ¢åšæ™®é€šäººéƒ½æ´»ä¸åˆ°ä¸€ä¸ªæœä»£çš„è¦†ç­</p>
<p>ä¸è¿‡æ‰“é“çš„æ‰‹è‰ºå¯æ˜¯ä¼ æ‰¿3ä»£äºº,æˆ‘çš„çˆ·çˆ·,å”çˆ¶,ç°åœ¨åˆ°æˆ‘çš„å“¥å“¥,å¦‚æœåœ¨ç°ä»£åº”è¯¥æˆä¸ºå·¥åŒ ,å¸Œæœ›æœ‰ä¸€å¤©æˆ‘çš„è®¡ç®—æœºåšç‰©é¦†ä¸­,èƒ½å­˜æ”¾ç€å®¶æ—æ‰“é“å·¥è‰ºçš„ç»å”±.</p>
<p>æ›¾ç¥–çˆ¶é‚£ä¸€ä»£äººæ´»çš„ä¸å®¹æ˜“.</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>è¿™ä¸€å¹´æˆ‘å†™äº†å¾ˆå¤šæŠ€æœ¯çš„æ–‡ç« ,æˆ‘ä¸æƒ³åœ¨å¹´ç»ˆæ€»ç»“ä¸­è¿˜è°ˆè®ºæŠ€æœ¯,åº”è¯¥è®°å½•ä¸€äº›ç”Ÿæ´»çš„ç¾å¥½å›å¿†.</p>
<p>å»å¹´çš„è¿™ä¸ªæ—¶å€™æˆ‘ç»™è‡ªå·±çš„å®šä¸‹çš„KPIä»Šå¹´æ˜¾ç„¶æ²¡æœ‰å®Œæˆ</p>
<p>2019å¹´å¸Œæœ›èƒ½ä¸æ–­å­¦ä¹ ,ä¸æ—¶ä¿±è¿›,å­¦ä¼šæ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†æ¥æé«˜å½±å“åŠ›.</p>
<p>æœ€å,å¹¸ç¦æ˜¯å¥‹æ–—å‡ºæ¥çš„,è¿˜å¾—æ’¸èµ·è¢–å­åŠ æ²¹å¹²,å¾—æ•¢äºç›´é¢æƒ¨æ·¡çš„äººç”Ÿ,æ•¢äºç”¨å®åŠ›å»èµ¢å¾—åˆ«äººçš„å°Šé‡,è¿™æ ·æ‰èƒ½æˆä¸ºè‡ªå·±ç¾¡æ…•çš„åˆ«äºº.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/9e263dd6fbfaf3cb12eee6ebcbfff3519dc5f9eb/20181231Fin
    
    </summary>
    
      <category term="è®°å½•ä¸–ç•Œè®°å½•ä½ " scheme="https://www.sunyazhou.com/categories/%E8%AE%B0%E5%BD%95%E4%B8%96%E7%95%8C%E8%AE%B0%E5%BD%95%E4%BD%A0/"/>
    
    
      <category term="ç”Ÿæ´»" scheme="https://www.sunyazhou.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="å¹´ç»ˆæ€»ç»“" scheme="https://www.sunyazhou.com/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>iOSæŠ–éŸ³çš„è½¬åœºåŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2018/12/21/20181221AwemeTransition/"/>
    <id>https://www.sunyazhou.com/2018/12/21/20181221AwemeTransition/</id>
    <published>2018-12-21T02:12:07.000Z</published>
    <updated>2018-12-24T14:05:50.935Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>è¿™å‡ å¤©æ¯”è¾ƒå¿™,ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯æŠ–éŸ³çš„è½¬åœºåŠ¨ç”»å®ç° åºŸè¯ä¸å¤šè¯´ä¸Šå›¾</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/e2c340e680ad8308f23aa1ba8d3e8197847dcfec/20181219AwemeTransition/transition1.gif"> <img src="https://ws1.sinaimg.cn/large/bf8500b1ly1fyc09rh2cog20630at7wm.gif"></p>
<p>è¿™é‡Œéœ€è¦ç”¨åˆ°å‰ä¸€ç¯‡æ–‡ç« çš„ä¸Šä¸‹æ»‘<a href="https://github.com/sunyazhou13/AwemeDemo" target="_blank" rel="external">demo</a></p>
<p>å­¦ä¹ è¿™ç¯‡æ–‡ç« ä¹‹å‰æ¨èçœ‹ä¸‹å–µç¥çš„<a href="https://onevcat.com/2013/10/vc-transition-in-ios7/" target="_blank" rel="external">iOS7ä¸­çš„ViewControllerè½¬åœºåˆ‡æ¢</a></p>
<p>å¦‚æœå¯¹è½¬åœºä¸æ˜¯å¾ˆäº†è§£çš„è¯å¯èƒ½å­¦ä¹ ä¼šæœ‰ä¸€äº›éš¾åº¦å’Œç–‘é—®.</p>
<h2 id="è½¬åœºè°ƒç”¨ä»£ç ">è½¬åœºè°ƒç”¨ä»£ç </h2>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">- (<span class="keyword">void</span>)collectionView:(<span class="built_in">UICollectionView</span> *)collectionView didSelectItemAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line">    AwemeListViewController *awemeVC = [[AwemeListViewController alloc] init];</div><div class="line">    awemeVC.transitioningDelegate = <span class="keyword">self</span>; <span class="comment">//0</span></div><div class="line">    </div><div class="line">    <span class="comment">// 1</span></div><div class="line">    <span class="built_in">UICollectionViewCell</span> *cell = [collectionView cellForItemAtIndexPath:indexPath];</div><div class="line">    <span class="comment">// 2</span></div><div class="line">    <span class="built_in">CGRect</span> cellFrame = cell.frame;</div><div class="line">    <span class="comment">// 3</span></div><div class="line">    <span class="built_in">CGRect</span> cellConvertedFrame = [collectionView convertRect:cellFrame toView:collectionView.superview];</div><div class="line">    </div><div class="line">    <span class="comment">//å¼¹çª—è½¬åœº</span></div><div class="line">    <span class="keyword">self</span>.presentScaleAnimation.cellConvertFrame = cellConvertedFrame; <span class="comment">//4</span></div><div class="line">    </div><div class="line">    <span class="comment">//æ¶ˆå¤±è½¬åœº</span></div><div class="line">    <span class="keyword">self</span>.dismissScaleAnimation.selectCell = cell; <span class="comment">// 5</span></div><div class="line">    <span class="keyword">self</span>.dismissScaleAnimation.originCellFrame  = cellFrame; <span class="comment">//6</span></div><div class="line">    <span class="keyword">self</span>.dismissScaleAnimation.finalCellFrame = cellConvertedFrame; <span class="comment">//7</span></div><div class="line">    </div><div class="line">    awemeVC.modalPresentationStyle = <span class="built_in">UIModalPresentationOverCurrentContext</span>; <span class="comment">//8</span></div><div class="line">    <span class="keyword">self</span>.modalPresentationStyle = <span class="built_in">UIModalPresentationCurrentContext</span>; <span class="comment">//9</span></div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.leftDragInteractiveTransition wireToViewController:awemeVC];</div><div class="line">    [<span class="keyword">self</span> presentViewController:awemeVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>0</code> å¤„ä»£ç ä½¿æˆ‘ä»¬éœ€è¦æŠŠå½“å‰çš„ç±»åšä¸ºè½¬åœºçš„ä»£ç†<br>
<code>1</code> è¿™é‡Œæˆ‘ä»¬è¦æ‹¿å‡ºcellè¿™ä¸ªview<br>
<code>2</code> æ‹¿å‡ºå½“å‰Cellçš„frameåæ ‡<br>
<code>3</code> cellçš„åæ ‡è½¬æˆå±å¹•åæ ‡<br>
<code>4</code> è®¾ç½®å¼¹å‡ºæ—¶å€™éœ€è¦cellåœ¨å±å¹•çš„ä½ç½®åæ ‡<br>
<code>5</code> è®¾ç½®æ¶ˆå¤±è½¬åœºéœ€è¦çš„é€‰ä¸­cellè§†å›¾<br>
<code>6</code> è®¾ç½®æ¶ˆå¤±è½¬åœºåŸå§‹cellåæ ‡ä½ç½®<br>
<code>7</code> è®¾ç½®æ¶ˆå¤±è½¬åœºæœ€ç»ˆå¾—cellå±å¹•åæ ‡ä½ç½® ç”¨äºæ¶ˆå¤±å®Œæˆå›åˆ°åŸæ¥ä½ç½®çš„åŠ¨ç”»<br>
<code>8</code> è®¾ç½®å¼¹å‡ºå¾—vcå¼¹å‡ºæ ·å¼ è¿™ä¸ªç”¨äºæ˜¾ç¤ºå¼¹å‡ºVCå¾—æ—¶å€™ é»˜è®¤åº•éƒ¨ä½¿bluaçš„é«˜æ–¯æ¨¡ç³Š<br>
<code>9</code> è®¾ç½®å½“å‰VCçš„æ¨¡æ€å¼¹å‡ºæ ·å¼ä¸ºå½“å‰çš„å¼¹å‡ºä¸Šä¸‹æ–‡</p>
<blockquote>
<p>5~7 æ­¥è®¾ç½®çš„æ¶ˆå¤±è½¬åœºåŠ¨ç”» ä¸‹é¢ä¼šè®²è§£</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯å‰é¢è®²ä¸Šä¸‹æ»‘çš„VCå¯¹è±¡ å¤§å®¶ä¸å¿…æ‹…å¿ƒ å½“å®ƒæ˜¯ä¸€ä¸ªæ™®é€šçš„UIViewControllerå³å¯</p>
<p>## å®ç°è½¬åœºæ‰€éœ€è¦çš„ä»£ç†</p>
<p>é¦–å…ˆåœ¨éœ€è¦å®ç°<code>UIViewControllerTransitioningDelegate</code>è¿™ä¸ªä»£ç†</p>
<p><figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"> <span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - UIViewControllerAnimatedTransitioning Delegate</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForPresentedController:(<span class="built_in">UIViewController</span> *)presented presentingController:(<span class="built_in">UIViewController</span> *)presenting sourceController:(<span class="built_in">UIViewController</span> *)source &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.presentScaleAnimation; <span class="comment">//present VC</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForDismissedController:(<span class="built_in">UIViewController</span> *)dismissed &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.dismissScaleAnimation; <span class="comment">//dismiss VC</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerInteractiveTransitioning</span>&gt;)interactionControllerForDismissal:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animator &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.leftDragInteractiveTransition.isInteracting? <span class="keyword">self</span>.leftDragInteractiveTransition: <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œé¢æˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬åˆ†åˆ«è¿”å›äº†</p>
<ul>
<li>å¼¹å‡ºåŠ¨ç”»å®ä¾‹<code>self.presentScaleAnimation</code></li>
<li>dismissåŠ¨ç”»å®ä¾‹<code>self.dismissScaleAnimation</code></li>
<li>ä»¥åŠ<code>self.leftDragInteractiveTransition</code>å®ä¾‹ç”¨äºè´Ÿè´£è½¬åœºåˆ‡æ¢çš„å…·ä½“å®ç°</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ å½“å‰çš„VCä¸­å£°æ˜3ä¸ªæˆå‘˜å˜é‡ å¹¶åˆå§‹åŒ–</p>
<p><figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) PresentScaleAnimation *presentScaleAnimation;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DismissScaleAnimation *dismissScaleAnimation;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DragLeftInteractiveTransition *leftDragInteractiveTransition;</div></pre></td></tr></table></figure></p>
<p>å¹¶åœ¨<code>viewDidLoad:</code>æ–¹æ³•ä¸­åˆå§‹åŒ–ä¸€ä¸‹</p>
<p><figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//è½¬åœºçš„ä¸¤ä¸ªåŠ¨ç”»</span></div><div class="line"><span class="keyword">self</span>.presentScaleAnimation = [[PresentScaleAnimation alloc] init];</div><div class="line"><span class="keyword">self</span>.dismissScaleAnimation = [[DismissScaleAnimation alloc] init];</div><div class="line"><span class="keyword">self</span>.leftDragInteractiveTransition = [DragLeftInteractiveTransition new];</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæˆ‘è¯´ä¸€ä¸‹è¿™ä¸‰ä¸ªæˆå‘˜éƒ½è´Ÿè´£å•¥äº‹</p>
<p>é¦–å…ˆ<code>DragLeftInteractiveTransition</code>ç±»è´Ÿè´£è½¬åœºçš„ æ‰‹åŠ¿ è¿‡ç¨‹,å°±æ˜¯panæ‰‹åŠ¿åœ¨è¿™ä¸ªç±»é‡Œé¢å®ç°,å¹¶ç»§æ‰¿è‡ª<code>UIPercentDrivenInteractiveTransition</code>ç±»,è¿™æ˜¯iOS7ä»¥åç³»ç»Ÿæä¾›çš„è½¬åœºåŸºç±»å¿…é¡»åœ¨<code>interactionControllerForDismissal:</code>ä»£ç†åè®®ä¸­è¿”å›è¿™ä¸ªç±»æˆ–è€…å­ç±»çš„å®ä¾‹å¯¹è±¡,æ‰€ä»¥æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæˆå‘˜å˜é‡<code>self.leftDragInteractiveTransition</code></p>
<p>å…¶æ¬¡æ˜¯å¼¹å‡ºpresentå’Œæ¶ˆå¤±dismissçš„åŠ¨ç”»ç±»,è¿™ä¿©ç±»å…¶å®æ˜¯è´Ÿè´£ç®€å•çš„æ‰‹åŠ¿å®Œæˆä¹‹åçš„åŠ¨ç”».</p>
<p>è¿™ä¸¤ä¸ªç±»éƒ½æ˜¯ç»§æ‰¿è‡ªNSObjectå¹¶å®ç°<code>UIViewControllerAnimatedTransitioning</code>åè®®çš„ç±»,è¿™ä¸ªåè®®é‡Œé¢æœ‰ éœ€è¦ä½ å¤å†™æŸäº›æ–¹æ³•è¿”å›å…·ä½“çš„åŠ¨ç”»æ‰§è¡Œæ—¶é—´,å’Œä¸­é—´è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦çš„ç›¸å…³çš„å®¹å™¨è§†å›¾ä»¥åŠæ§åˆ¶å™¨çš„è§†å›¾å®ä¾‹,å½“æˆ‘ä»¬è‡ªå·±æ‰§è¡Œå®Œæˆä¹‹åè°ƒç”¨ç›¸å…³çš„blockå›ç­”å‘ŠçŸ¥è½¬åœºæ˜¯å¦å®Œæˆå°±è¡Œäº†.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">@implementation</span> <span class="title">PresentScaleAnimation</span></span></div><div class="line"></div><div class="line">- (<span class="built_in">NSTimeInterval</span>)transitionDuration:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.3</span>f;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)animateTransition:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext&#123;</div><div class="line">    <span class="built_in">UIViewController</span> *toVC = [transitionContext viewControllerForKey:<span class="built_in">UITransitionContextToViewControllerKey</span>];    </div><div class="line">    <span class="keyword">if</span> (<span class="built_in">CGRectEqualToRect</span>(<span class="keyword">self</span>.cellConvertFrame, <span class="built_in">CGRectZero</span>)) &#123;</div><div class="line">        [transitionContext completeTransition:<span class="literal">YES</span>];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">CGRect</span> initialFrame = <span class="keyword">self</span>.cellConvertFrame;</div><div class="line"></div><div class="line">    <span class="built_in">UIView</span> *containerView = [transitionContext containerView];</div><div class="line">    [containerView addSubview:toVC.view];</div><div class="line"></div><div class="line">    <span class="built_in">CGRect</span> finalFrame = [transitionContext finalFrameForViewController:toVC];</div><div class="line">    <span class="built_in">NSTimeInterval</span> duration = [<span class="keyword">self</span> transitionDuration:transitionContext];</div><div class="line"></div><div class="line">    toVC.view.center = <span class="built_in">CGPointMake</span>(initialFrame.origin.x + initialFrame.size.width/<span class="number">2</span>, initialFrame.origin.y + initialFrame.size.height/<span class="number">2</span>);</div><div class="line">    toVC.view.transform = <span class="built_in">CGAffineTransformMakeScale</span>(initialFrame.size.width/finalFrame.size.width, initialFrame.size.height/finalFrame.size.height);</div><div class="line"></div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:duration</div><div class="line">                          delay:<span class="number">0</span></div><div class="line">         usingSpringWithDamping:<span class="number">0.8</span></div><div class="line">          initialSpringVelocity:<span class="number">1</span></div><div class="line">                        options:<span class="built_in">UIViewAnimationOptionLayoutSubviews</span></div><div class="line">                     animations:^&#123;</div><div class="line">                         toVC.view.center = <span class="built_in">CGPointMake</span>(finalFrame.origin.x + finalFrame.size.width/<span class="number">2</span>, finalFrame.origin.y + finalFrame.size.height/<span class="number">2</span>);</div><div class="line">                         toVC.view.transform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">1</span>, <span class="number">1</span>);</div><div class="line">                     &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                         [transitionContext completeTransition:<span class="literal">YES</span>];</div><div class="line">                     &#125;];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å¾ˆç®€å•.</p>
<p>æ¶ˆå¤±çš„åŠ¨ç”» åŒä¸Šè¾¹å·®ä¸å¤š</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DismissScaleAnimation</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">DismissScaleAnimation</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">instancetype</span>)init &#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        _centerFrame = <span class="built_in">CGRectMake</span>((ScreenWidth - <span class="number">5</span>)/<span class="number">2</span>, (ScreenHeight - <span class="number">5</span>)/<span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">NSTimeInterval</span>)transitionDuration:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.25</span>f;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)animateTransition:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext&#123;</div><div class="line">    <span class="built_in">UIViewController</span> *fromVC = [transitionContext viewControllerForKey:<span class="built_in">UITransitionContextFromViewControllerKey</span>];</div><div class="line"><span class="comment">//    UINavigationController *toNavigation = (UINavigationController *)[transitionContext viewControllerForKey:UITransitionContextToViewControllerKey];</span></div><div class="line"><span class="comment">//    UIViewController *toVC = [toNavigation viewControllers].firstObject;</span></div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="built_in">UIView</span> *snapshotView;</div><div class="line">    <span class="built_in">CGFloat</span> scaleRatio;</div><div class="line">    <span class="built_in">CGRect</span> finalFrame = <span class="keyword">self</span>.finalCellFrame;</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">self</span>.selectCell &amp;&amp; !<span class="built_in">CGRectEqualToRect</span>(finalFrame, <span class="built_in">CGRectZero</span>)) &#123;</div><div class="line">        snapshotView = [<span class="keyword">self</span>.selectCell snapshotViewAfterScreenUpdates:<span class="literal">NO</span>];</div><div class="line">        scaleRatio = fromVC.view.frame.size.width/<span class="keyword">self</span>.selectCell.frame.size.width;</div><div class="line">        snapshotView.layer.zPosition = <span class="number">20</span>;</div><div class="line">    &#125;<span class="keyword">else</span> &#123;</div><div class="line">        snapshotView = [fromVC.view snapshotViewAfterScreenUpdates:<span class="literal">NO</span>];</div><div class="line">        scaleRatio = fromVC.view.frame.size.width/ScreenWidth;</div><div class="line">        finalFrame = _centerFrame;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">UIView</span> *containerView = [transitionContext containerView];</div><div class="line">    [containerView addSubview:snapshotView];</div><div class="line">    </div><div class="line">    <span class="built_in">NSTimeInterval</span> duration = [<span class="keyword">self</span> transitionDuration:transitionContext];</div><div class="line">    </div><div class="line">    fromVC.view.alpha = <span class="number">0.0</span>f;</div><div class="line">    snapshotView.center = fromVC.view.center;</div><div class="line">    snapshotView.transform = <span class="built_in">CGAffineTransformMakeScale</span>(scaleRatio, scaleRatio);</div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:duration</div><div class="line">                          delay:<span class="number">0</span></div><div class="line">         usingSpringWithDamping:<span class="number">0.8</span></div><div class="line">          initialSpringVelocity:<span class="number">0.2</span></div><div class="line">                        options:<span class="built_in">UIViewAnimationOptionCurveEaseInOut</span></div><div class="line">                     animations:^&#123;</div><div class="line">                         snapshotView.transform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">1.0</span>f, <span class="number">1.0</span>f);</div><div class="line">                         snapshotView.frame = finalFrame;</div><div class="line">                     &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                         [transitionContext finishInteractiveTransition];</div><div class="line">                         [transitionContext completeTransition:<span class="literal">YES</span>];</div><div class="line">                         [snapshotView removeFromSuperview];</div><div class="line">                     &#125;];</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é‡ç‚¹éœ€è¦è¯´ä¸€ä¸‹ è½¬åœºè¿‡æ¸¡çš„ç±»<code>DragLeftInteractiveTransition</code>ç»§æ‰¿è‡ª<code>UIPercentDrivenInteractiveTransition</code>è´Ÿè´£è½¬åœºè¿‡ç¨‹,</p>
<p>å¤´æ–‡ä»¶çš„å£°æ˜</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DragLeftInteractiveTransition</span> : <span class="title">UIPercentDrivenInteractiveTransition</span></span></div><div class="line"></div><div class="line"><span class="comment">/** æ˜¯å¦æ­£åœ¨æ‹–åŠ¨è¿”å› æ ‡è¯†æ˜¯å¦æ­£åœ¨ä½¿ç”¨è½¬åœºçš„äº¤äº’ä¸­ */</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> isInteracting;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> è®¾ç½®éœ€è¦è¿”å›çš„VC</div><div class="line"> </div><div class="line"> @param viewController æ§åˆ¶å™¨å®ä¾‹</div><div class="line"> */</div><div class="line">-(<span class="keyword">void</span>)wireToViewController:(<span class="built_in">UIViewController</span> *)viewController;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å®ç°</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DragLeftInteractiveTransition</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIViewController</span> *presentingVC;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGPoint</span> viewControllerCenter;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">CALayer</span> *transitionMaskLayer;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">DragLeftInteractiveTransition</span></span></div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - override methods å¤å†™æ–¹æ³•</span></div><div class="line">-(<span class="built_in">CGFloat</span>)completionSpeed&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span> - <span class="keyword">self</span>.percentComplete;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)updateInteractiveTransition:(<span class="built_in">CGFloat</span>)percentComplete &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%.2f"</span>,percentComplete);</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)cancelInteractiveTransition &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"è½¬åœºå–æ¶ˆ"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)finishInteractiveTransition &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"è½¬åœºå®Œæˆ"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">- (<span class="built_in">CALayer</span> *)transitionMaskLayer &#123;</div><div class="line">    <span class="keyword">if</span> (_transitionMaskLayer == <span class="literal">nil</span>) &#123;</div><div class="line">        _transitionMaskLayer = [<span class="built_in">CALayer</span> layer];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _transitionMaskLayer;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - private methods ç§æœ‰æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)prepareGestureRecognizerInView:(<span class="built_in">UIView</span>*)view &#123;</div><div class="line">    <span class="built_in">UIPanGestureRecognizer</span> *gesture = [[<span class="built_in">UIPanGestureRecognizer</span> alloc] initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(handleGesture:)];</div><div class="line">    [view addGestureRecognizer:gesture];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - event response æ‰€æœ‰è§¦å‘çš„äº‹ä»¶å“åº” æŒ‰é’®ã€é€šçŸ¥ã€åˆ†æ®µæ§ä»¶ç­‰</span></div><div class="line">- (<span class="keyword">void</span>)handleGesture:(<span class="built_in">UIPanGestureRecognizer</span> *)gestureRecognizer &#123;</div><div class="line">    <span class="built_in">UIView</span> *vcView = gestureRecognizer.view;</div><div class="line">    <span class="built_in">CGPoint</span> translation = [gestureRecognizer translationInView:vcView.superview];</div><div class="line">    <span class="keyword">if</span>(!<span class="keyword">self</span>.isInteracting &amp;&amp;</div><div class="line">       (translation.x &lt; <span class="number">0</span> ||</div><div class="line">        translation.y &lt; <span class="number">0</span> ||</div><div class="line">        translation.x &lt; translation.y)) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">switch</span> (gestureRecognizer.state) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateBegan</span>:&#123;</div><div class="line">            <span class="comment">//ä¿®å¤å½“ä»å³ä¾§å‘å·¦æ»‘åŠ¨çš„æ—¶å€™çš„bug é¿å…å¼€å§‹çš„æ—¶å€™ä»åˆå‘å·¦æ»‘åŠ¨ å½“æœªå¼€å§‹çš„æ—¶å€™</span></div><div class="line">            <span class="built_in">CGPoint</span> vel = [gestureRecognizer velocityInView:gestureRecognizer.view];</div><div class="line">            <span class="keyword">if</span> (!<span class="keyword">self</span>.isInteracting &amp;&amp; vel.x &lt; <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">self</span>.isInteracting = <span class="literal">NO</span>;</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.frame = vcView.frame;</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.opaque = <span class="literal">NO</span>;</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.opacity = <span class="number">1</span>;</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.backgroundColor = [<span class="built_in">UIColor</span> whiteColor].CGColor; <span class="comment">//å¿…é¡»æœ‰é¢œè‰²ä¸èƒ½é€æ˜</span></div><div class="line">            [<span class="keyword">self</span>.transitionMaskLayer setNeedsDisplay];</div><div class="line">            [<span class="keyword">self</span>.transitionMaskLayer displayIfNeeded];</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.anchorPoint = <span class="built_in">CGPointMake</span>(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer.position = <span class="built_in">CGPointMake</span>(vcView.frame.size.width/<span class="number">2.0</span>f, vcView.frame.size.height/<span class="number">2.0</span>f);</div><div class="line">            vcView.layer.mask = <span class="keyword">self</span>.transitionMaskLayer;</div><div class="line">            vcView.layer.masksToBounds = <span class="literal">YES</span>;</div><div class="line">            </div><div class="line">            <span class="keyword">self</span>.isInteracting = <span class="literal">YES</span>;</div><div class="line">        &#125;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateChanged</span>: &#123;</div><div class="line">            <span class="built_in">CGFloat</span> progress = translation.x / [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">            progress = fminf(fmaxf(progress, <span class="number">0.0</span>), <span class="number">1.0</span>);</div><div class="line">            </div><div class="line">            <span class="built_in">CGFloat</span> ratio = <span class="number">1.0</span>f - progress*<span class="number">0.5</span>f;</div><div class="line">            [_presentingVC.view setCenter:<span class="built_in">CGPointMake</span>(_viewControllerCenter.x + translation.x * ratio, _viewControllerCenter.y + translation.y * ratio)];</div><div class="line">            _presentingVC.view.transform = <span class="built_in">CGAffineTransformMakeScale</span>(ratio, ratio);</div><div class="line">            [<span class="keyword">self</span> updateInteractiveTransition:progress];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateCancelled</span>:</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateEnded</span>:&#123;</div><div class="line">            <span class="built_in">CGFloat</span> progress = translation.x / [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">            progress = fminf(fmaxf(progress, <span class="number">0.0</span>), <span class="number">1.0</span>);</div><div class="line">            <span class="keyword">if</span> (progress &lt; <span class="number">0.2</span>)&#123;</div><div class="line">                [<span class="built_in">UIView</span> animateWithDuration:progress</div><div class="line">                                      delay:<span class="number">0</span></div><div class="line">                                    options:<span class="built_in">UIViewAnimationOptionCurveEaseOut</span></div><div class="line">                                 animations:^&#123;</div><div class="line">                                     <span class="built_in">CGFloat</span> w = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">                                     <span class="built_in">CGFloat</span> h = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.height;</div><div class="line">                                     [<span class="keyword">self</span>.presentingVC.view setCenter:<span class="built_in">CGPointMake</span>(w/<span class="number">2</span>, h/<span class="number">2</span>)];</div><div class="line">                                     <span class="keyword">self</span>.presentingVC.view.transform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">1.0</span>f, <span class="number">1.0</span>f);</div><div class="line">                                 &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                                     <span class="keyword">self</span>.isInteracting = <span class="literal">NO</span>;</div><div class="line">                                     [<span class="keyword">self</span> cancelInteractiveTransition];</div><div class="line">                                 &#125;];</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                _isInteracting = <span class="literal">NO</span>;</div><div class="line">                [<span class="keyword">self</span> finishInteractiveTransition];</div><div class="line">                [_presentingVC dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//ç§»é™¤ é®ç½©</span></div><div class="line">            [<span class="keyword">self</span>.transitionMaskLayer removeFromSuperlayer];</div><div class="line">            <span class="keyword">self</span>.transitionMaskLayer = <span class="literal">nil</span>;</div><div class="line">        &#125;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - public methods å…¬æœ‰æ–¹æ³•</span></div><div class="line">-(<span class="keyword">void</span>)wireToViewController:(<span class="built_in">UIViewController</span> *)viewController &#123;</div><div class="line">    <span class="keyword">self</span>.presentingVC = viewController;</div><div class="line">    <span class="keyword">self</span>.viewControllerCenter = viewController.view.center;</div><div class="line">    [<span class="keyword">self</span> prepareGestureRecognizerInView:viewController.view];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯¹å¤–æä¾›äº†ä¸€ä¸ª<code>wireToViewController:</code>æ–¹æ³•ç”¨äºå¤–éƒ¨éœ€è¦åˆ›å»ºè½¬åœºä½¿ç”¨.</p>
<p>å‰é¢çš„ä»£ç æˆ‘ä»¬å‘ç°æœ‰ä¸€å¤„</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span>.leftDragInteractiveTransition wireToViewController:awemeVC];</div><div class="line">[<span class="keyword">self</span> presentViewController:awemeVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±æ˜¯éœ€è¦æŠŠæˆ‘ä»¬è¦å¼¹å‡ºçš„ä¸Šä¸‹æ»‘VCå®ä¾‹ä¼ è¿›æ¥,è¿›æ¥ä¹‹åä¸ºVCçš„<code>self.view</code>åŠ ä¸ª<code>pan</code>æ‰‹åŠ¿,</p>
<p>å¤å†™æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›¸å…³å¼€å§‹ç»“æŸ å®Œæˆè¿‡ç¨‹çš„ç™¾åˆ†æ¯”ç›¸å…³æ–¹æ³•å¤å†™</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - override methods å¤å†™æ–¹æ³•</span></div><div class="line">-(<span class="built_in">CGFloat</span>)completionSpeed&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span> - <span class="keyword">self</span>.percentComplete;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)updateInteractiveTransition:(<span class="built_in">CGFloat</span>)percentComplete &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%.2f"</span>,percentComplete);</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)cancelInteractiveTransition &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"è½¬åœºå–æ¶ˆ"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)finishInteractiveTransition &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"è½¬åœºå®Œæˆ"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>çœ‹æ˜¯æ‰‹åŠ¿ å‡ºå‘å‰ å…ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å¦‚ä¸‹æ¡ä»¶</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *vcView = gestureRecognizer.view;</div><div class="line"><span class="built_in">CGPoint</span> translation = [gestureRecognizer translationInView:vcView.superview];</div><div class="line"><span class="keyword">if</span>(!<span class="keyword">self</span>.isInteracting &amp;&amp;</div><div class="line">   (translation.x &lt; <span class="number">0</span> ||</div><div class="line">    translation.y &lt; <span class="number">0</span> ||</div><div class="line">    translation.x &lt; translation.y)) &#123;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ‹¿å‡ºæ‰‹åŠ¿ä½œç”¨çš„è§†å›¾,ç„¶ååæ ‡è½¬æ¢,åˆ¤æ–­å½“å‰æ˜¯å¦å·²ç»å¼€å§‹äº†åŠ¨ç”»,å¦‚æœæ²¡å¼€å§‹ æˆ–è€…xåæ ‡ &lt; yåæ ‡æ˜¯åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯è¶…è¿‡è¾¹ç•ŒèŒƒå›´ç­‰ç­‰å¼‚å¸¸caseå¤„ç†.</p>
<p>å¼€å§‹çš„æ—¶å€™éœ€è¦æ³¨æ„ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ä¿®å¤å½“ä»å³ä¾§å‘å·¦æ»‘åŠ¨çš„æ—¶å€™çš„bug é¿å…å¼€å§‹çš„æ—¶å€™ä»åˆå‘å·¦æ»‘åŠ¨ å½“æœªå¼€å§‹çš„æ—¶å€™</span></div><div class="line"><span class="built_in">CGPoint</span> vel = [gestureRecognizer velocityInView:gestureRecognizer.view];</div><div class="line"><span class="keyword">if</span> (!<span class="keyword">self</span>.isInteracting &amp;&amp; vel.x &lt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.isInteracting = <span class="literal">NO</span>;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç„¶å å¼€å§‹çš„æ—¶å€™åŠ ä¸ªè’™ç‰ˆåšä¸ºview.mask è¿™æ ·æ˜¯ä¸ºäº†è§£å†³tableView è¶…å‡ºcontentSizeçš„èŒƒå›´è¦éšè—</p>
<p>å‰©ä¸‹çš„å°±æ˜¯ä¸­é—´è¿‡ç¨‹</p>
<p><strong>å…³é”®çš„æ ¸å¿ƒä»£ç </strong></p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> updateInteractiveTransition:progress];</div></pre></td></tr></table></figure>
<blockquote>
<p>æ›´æ–°è½¬åœºçš„è¿›åº¦ è¿™æ˜¯è¿™ä¸ªç±»çš„è‡ªå¸¦æ–¹æ³•,è°ƒç”¨å°±è¡Œäº†</p>
</blockquote>
<p>æœ€å æ‰‹åŠ¿ç»“æŸ</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> progress = translation.x / [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">progress = fminf(fmaxf(progress, <span class="number">0.0</span>), <span class="number">1.0</span>);</div><div class="line"><span class="keyword">if</span> (progress &lt; <span class="number">0.2</span>)&#123;</div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:progress</div><div class="line">                          delay:<span class="number">0</span></div><div class="line">                        options:<span class="built_in">UIViewAnimationOptionCurveEaseOut</span></div><div class="line">                     animations:^&#123;</div><div class="line">                         <span class="built_in">CGFloat</span> w = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.width;</div><div class="line">                         <span class="built_in">CGFloat</span> h = [<span class="built_in">UIScreen</span> mainScreen].bounds.size.height;</div><div class="line">                         [<span class="keyword">self</span>.presentingVC.view setCenter:<span class="built_in">CGPointMake</span>(w/<span class="number">2</span>, h/<span class="number">2</span>)];</div><div class="line">                         <span class="keyword">self</span>.presentingVC.view.transform = <span class="built_in">CGAffineTransformMakeScale</span>(<span class="number">1.0</span>f, <span class="number">1.0</span>f);</div><div class="line">                     &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                         <span class="keyword">self</span>.isInteracting = <span class="literal">NO</span>;</div><div class="line">                         [<span class="keyword">self</span> cancelInteractiveTransition];</div><div class="line">                     &#125;];</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">    _isInteracting = <span class="literal">NO</span>;</div><div class="line">    [<span class="keyword">self</span> finishInteractiveTransition];</div><div class="line">    [_presentingVC dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">&#125;</div><div class="line"><span class="comment">//ç§»é™¤ é®ç½©</span></div><div class="line">[<span class="keyword">self</span>.transitionMaskLayer removeFromSuperlayer];</div><div class="line"><span class="keyword">self</span>.transitionMaskLayer = <span class="literal">nil</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œè®¾ç½®0.2çš„å®¹å·® å¦‚æœä½ è§‰å¾—è¿™ä¸ªåº”è¯¥å¼€æ”¾æ¥å£è®¾ç½®å¯è‡ªè¡Œå°è£….</p>
</blockquote>
<p>å½“ç”¨æˆ·å–æ¶ˆçš„è¯è®°å¾—è°ƒç”¨<code>cancelInteractiveTransition</code>æ–¹æ³•å–æ¶ˆ</p>
<p>å®Œæˆçš„è¯è°ƒç”¨<code>finishInteractiveTransition</code>å®Œæˆè½¬åœº</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ å¦‚æœçœ‹è¿‡å–µç¥çš„æ–‡ç« å°†ä¼šæ›´åŠ æ¸…æ™°çš„äº†è§£è½¬åœºçš„ä¸‰ä¸ªè¿‡ç¨‹ å°±æ˜¯ å¼¹å‡ºå’Œæ¶ˆå¤±åŠ¨ç”» ä»¥åŠä¸€ä¸ªä¸­é—´è½¬åœºè¿‡ç¨‹éœ€è¦æˆ‘ä»¬ç†Ÿæ‚‰.</p>
<p>ä¼˜åŒ–ç‚¹: åœ¨åŸå¼€æºå·¥ç¨‹ä¸­çš„demoè½¬åœºå³æ»‘æ˜¯æœ‰bugçš„,æˆ‘åšäº†ä¸€ä¸‹å¦‚ä¸‹åˆ¤æ–­</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ä¿®å¤å½“ä»å³ä¾§å‘å·¦æ»‘åŠ¨çš„æ—¶å€™çš„bug é¿å…å¼€å§‹çš„æ—¶å€™ä»åˆå‘å·¦æ»‘åŠ¨ å½“æœªå¼€å§‹çš„æ—¶å€™</span></div><div class="line"><span class="built_in">CGPoint</span> vel = [gestureRecognizer velocityInView:gestureRecognizer.view];</div><div class="line"><span class="keyword">if</span> (!<span class="keyword">self</span>.isInteracting &amp;&amp; vel.x &lt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.isInteracting = <span class="literal">NO</span>;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>vel</code>è¿™ä¸ªå˜é‡ å…¶å®æ˜¯åˆ¤æ–­å½“æˆ‘ä»¬ä»å³ä¾§åˆ’å…¥è¿”å›.ä¿®å¤äº†åŸæ¥å¼€æºçš„ä¸€ä¸ªbug</p>
<p>è¿˜æœ‰ åŸæ¥å¼€æºä¸­<code>tableView</code>çš„<code>contentSize</code>ä»¥å¤– åŒºåŸŸéœ²åœ¨å¤–éƒ¨,æˆ‘ç”¨äº†ä¸€ä¸ªmaskçš„è’™ç‰ˆé®ä½äº†æ˜¾ç¤ºåœ¨å¤–çš„åŒºåŸŸ.</p>
<p>å”¯ä¸€æœ‰äº›è®¸é—æ†¾çš„åœ°æ–¹æ˜¯æŠ–éŸ³çš„å·¦æ»‘è¿”å›æ—¶å€™,æœ‰èƒŒæ™¯é®ç›–é€æ˜çš„æ¸å˜.è¿™é‡Œç”±äºæ—¶é—´å…³ç³»å’Œç¯‡å¹…é™åˆ¶æˆ‘æ²¡æœ‰èŠ±è¶³å¤Ÿçš„æ—¶é—´è°ƒç ”.åç»­å®Œå–„,å†™çš„ä¸å¥½è¯·å¤§å®¶å¤šå¤šæŒ‡æ•™</p>
<p><a href="https://github.com/sunyazhou13/AwemeDemoTransition" target="_blank" rel="external">æœ€ç»ˆå¾—Demoåœ¨è¿™é‡Œ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;è¿™å‡ å¤©æ¯”è¾ƒå¿™,ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯æŠ–éŸ³çš„è½¬åœºåŠ¨ç”»å®ç° åºŸè¯ä¸å¤šè¯´ä¸Šå›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.i
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>æ¢æµ‹UIPanGestureçš„æ»‘åŠ¨æ–¹å‘</title>
    <link href="https://www.sunyazhou.com/2018/12/06/20181206Detecting-pan-gesture-direction/"/>
    <id>https://www.sunyazhou.com/2018/12/06/20181206Detecting-pan-gesture-direction/</id>
    <published>2018-12-06T05:59:46.000Z</published>
    <updated>2018-12-18T16:05:06.393Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>è¿™å‡ å¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ å°±æ˜¯æ‹–åŠ¨æ‰‹åŠ¿ä½œç”¨åœ¨ä¸€ä¸ªviewä¸Šçš„æ—¶å€™ æ— æ³•åŒºåˆ†æ–¹å‘</p>
<p>äºæ˜¯æ‰¾åˆ°stackOverFlowä¸Šçš„ç­”æ¡ˆ è®°å½•ä¸€ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)panRecognized:(<span class="built_in">UIPanGestureRecognizer</span> *)rec</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGPoint</span> vel = [rec velocityInView:<span class="keyword">self</span>.view];</div><div class="line">    <span class="keyword">if</span> (vel.x &gt; <span class="number">0</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">// user dragged towards the right å‘å³æ‹–åŠ¨</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// user dragged towards the left å‘å·¦æ‹–åŠ¨</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://stackoverflow.com/questions/11777281/detecting-the-direction-of-pan-gesture-in-ios" target="_blank" rel="external">å‚è€ƒ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;è¿™å‡ å¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ å°±æ˜¯æ‹–åŠ¨æ‰‹åŠ¿ä½œç”¨åœ¨ä¸€ä¸ªviewä¸Šçš„æ—¶å€™ æ— æ³•åŒºåˆ†æ–¹å‘&lt;/p&gt;
&lt;p&gt;äºæ˜¯æ‰¾åˆ°stackOverFlowä¸Šçš„ç­”æ¡ˆ è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;figure class=&quot;highlight objc&quot;&gt;&lt;table&gt;&lt;tr&gt;
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSæŠ–éŸ³ç‚¹èµåŠ¨ç”»å®ç°</title>
    <link href="https://www.sunyazhou.com/2018/11/27/20181127LikeAnimation/"/>
    <id>https://www.sunyazhou.com/2018/11/27/20181127LikeAnimation/</id>
    <published>2018-11-27T03:16:14.000Z</published>
    <updated>2018-12-18T16:05:06.393Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>hi å¤§å®¶å¥½ åˆè·Ÿå¤§å®¶è§é¢äº†,ä»Šå¤©ç»™å¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³çš„ç‚¹èµåŠ¨ç”»çš„å®ç°, åºŸè¯ä¸å¤šè¯´ä¸Šå›¾</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/76ba4614cb348633a74605650cb87898e5a28d56/20181127LikeAnimation/likeAnimation.gif"></p>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦åŒ…å«æŠ€æœ¯ç‚¹:</p>
<ul>
<li>CAShapeLayerå’Œè´èµ›å°”æ›²çº¿ç»˜åˆ¶ä¸‰è§’å½¢</li>
<li>ç»„åˆåŠ¨ç”»çš„æ—¶é—´æŠ€å·§</li>
</ul>
<p>æˆ‘ä¹ æƒ¯å†™å®Œæ–‡ç« çš„demoéƒ½é™„åœ¨æ–‡ç« åº•éƒ¨,å¦‚æœä¸æƒ³çœ‹åŸç†çš„å°ä¼™ä¼´å¯ç›´æ¥è·³åˆ°åº•éƒ¨æ‰¾demoä¸‹è½½.</p>
<h1 id="å®ç°åŸç†">å®ç°åŸç†</h1>
<p>é¦–å…ˆ æˆ‘ä»¬æ¥è¯¦ç»†åˆ†è§£ä¸€ä¸‹è¿™ä¸ªåŠ¨ç”»</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/3e284f04ea28b305a0cfe2c25618fcc71685ab21/20181127LikeAnimation/likeAnimation2.gif"> &gt; è¯·ä»”ç»†è§‚å¯Ÿ</p>
<p>æˆ‘ä»¬æ¥çœ‹å•ç‹¬çš„ä¸€ä¸ªåŠ¨ç”»</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/3e284f04ea28b305a0cfe2c25618fcc71685ab21/20181127LikeAnimation/likeAnimation3.gif"></p>
<blockquote>
<p>è¯·ä»”ç»†è§‚çœ‹ æˆ‘è®¾ç½®10ç§’çš„duration ä»¥ä¾¿äºå¤§å®¶èƒ½çœ‹æ¸…æ¥š</p>
</blockquote>
<h2 id="å®ç°åŸç†-1">å®ç°åŸç†</h2>
<p>ä»ä¸Šè¿°ä¸¤å¼ å›¾ä¸­,æˆ‘ä»¬å¯ä»¥çœ‹åˆ° å®ƒæ˜¯ä¸€ä¸ª ä¸‰è§’å½¢çš„è´å¡å°”æ›²çº¿</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/47fde336e6b929ef6163f87e248147d9ddf2354b/20181127LikeAnimation/likeAnimation4.png"></p>
<p>è¿™æ ·çš„åŠ¨ç”»éœ€è¦ç»è¿‡:</p>
<ul>
<li>2Ï€ (360Â°)æ—‹è½¬ä¸€å‘¨</li>
<li>åœ†ä¸€å‘¨ä¸€å…±æœ‰å…­ä¸ª ä¸‰è§’å½¢çš„è´èµ›å°”æ›²çº¿å›¾å½¢å½¢çŠ¶.</li>
<li>ä¸€ä¸ªåŠ¨ç”»ç»„ å†…éƒ¨åŒ…å«ç¼©æ”¾åŠ¨ç”» ä»0~1çš„æ”¾å¤§ ,åŠ¨ç”»å¦‚æœæ‰§è¡Œ10ç§’,é‚£ä¹ˆ scaleç¼©æ”¾åŠ¨ç”»æ‰§è¡Œ 10*0.2 = 2ç§’, åŠ¨ç”»ç»„ä¸­è¿˜åŒ…å«å¦ä¸€ä¸ªåŠ¨ç”»æ˜¯ ä»ç»“æŸä½ç½®çš„åŠ¨ç”»åˆ°ç»“å°¾æ¶ˆå¤±çš„ä½ç½®å¤§å°å˜åŒ–ç›´åˆ°åŠ¨ç”»æ¶ˆå¤±.</li>
<li>æ²¿ç€åœ†å½¢æ¯ 60Â°è§’åº¦ åˆ›å»ºä¸€ä¸ªä¸Šå›¾çš„ä¸‰è§’å½¢å›¾å½¢.</li>
</ul>
<p>è¯´äº†è¿™ä¹ˆå¤š å®é™…å°±æ˜¯ç”¨<code>CABasicAnimation</code>çš„keypathæ˜¯<code>path</code>å’Œ<code>CABasicAnimation</code>çš„<code>keypath</code>æ˜¯<code>transform.scale</code>çš„åŠ¨ç”»ç»„åˆåœ¨ä¸€èµ·ä½œç”¨äºä¸€ä¸ªä¸‰è§’å½¢ä¸Š,å¹¶ä¸”ä¸€å…±åˆ›å»º6ä¸ªä¸‰è§’å½¢å›¾å½¢.</p>
<p>ç»“æŸçš„æ—¶å€™å¤§æ¦‚æ˜¯è¿™æ ·çš„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8ad48f681be3c7d5bdb60eb3e8c5b3fbe15ec29f/20181127LikeAnimation/likeAnimation5.gif"></p>
<p>ç»“æŸçš„æ—¶å€™å®é™…ä¸Šæ˜¯ä¸€ä¸ªä» ä¸Šä¸€æ¬¡åŠ¨ç”»æ‰§è¡Œå®Œæˆçš„pathå‘ ä¸€æ¡çº¿ä¸Šä¸‰ä¸ªç‚¹çš„pathè¿‡æ¸¡çš„è¿‡ç¨‹,ç›´åˆ°æœ€åéšè—æ¶ˆå¤±.</p>
<p>å¥½ä¸‹é¢æˆ‘ä»¬æ¥å®ç°ä¸€ä¸‹è¿™ä¸ªåŠ¨ç”»</p>
<blockquote>
<p>æ³¨æ„: èƒŒæ™¯çš„â¤ï¸çº¢å¿ƒæ˜¯ ä¸€å¼ å›¾ä¸åœ¨æœ¬ç¯‡è®²è¿°èŒƒå›´</p>
</blockquote>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<p>é¦–å…ˆæˆ‘ä»¬å­ç±»è¯ä¸€ä¸ª<code>ZanLikeView</code>ç»§æ‰¿è‡ª<code>UIView</code>å¹¶è®¾ç½®åº•éƒ¨çš„å›¾ç‰‡å’Œç‚¹å‡»å˜æ¢çš„â¤ï¸å›¾ç‰‡,å°±æ˜¯ä¸¤å¼ UIImageViewåŠ æ‰‹åŠ¿,å½“ç‚¹å‡»çš„æ—¶å€™åŒºåˆ†ä¸åŒviewçš„tagå°±çŸ¥é“å“ªä¸ªimageviewç‚¹å‡»,è¿™æ ·å°±å¯ä»¥åšä¸¤å¼ åŠ¨ç”»ä¸åŒçš„æ•ˆæœäº†,ä¸è¿‡è¿™äº›å¯ä»¥å‚è€ƒdemo.</p>
<p>æˆ‘ä¸»è¦ä»‹ç»æ ¸å¿ƒä»£ç </p>
<p>åˆ›å»º <code>CAShapeLayer</code>ç”¨äºåšå½¢çŠ¶å›¾å½¢ç›¸å…³çš„å›¾å½¢åŠ¨ç”».</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CAShapeLayer</span> *layer = [[<span class="built_in">CAShapeLayer</span> alloc]init];</div><div class="line">layer.position = _likeBefore.center;</div><div class="line">layer.fillColor = [<span class="built_in">UIColor</span> redColor].CGColor;</div></pre></td></tr></table></figure>
<blockquote>
<p>é¢œè‰²æœ€ç»ˆå¯å¯¹å¤–æš´éœ²æ¥å£</p>
</blockquote>
<p>forå¾ªç¯æ¯ 30Â°è§’åˆ›å»ºä¸€ä¸ªä¸Šè¿°çš„ä¸‰è§’å½¢.æˆ‘ä»¬éœ€è¦åˆ›å»º 6ä¸ª å°±å¾ªç¯6æ¬¡</p>
<p>åˆ›å»ºåˆå§‹ä½ç½®çš„è´å¡å°”path</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> length = <span class="number">30</span>;</div><div class="line"><span class="built_in">CGFloat</span> duration = <span class="number">0.5</span>f;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">6</span>; i++) &#123;</div><div class="line">	<span class="built_in">CAShapeLayer</span> *layer = [[<span class="built_in">CAShapeLayer</span> alloc]init];</div><div class="line">	layer.position = _likeBefore.center;</div><div class="line">	layer.fillColor = [[<span class="built_in">UIColor</span> redColor].CGColor;</div><div class="line">	</div><div class="line">	<span class="comment">//...  1</span></div><div class="line">	<span class="comment">//...  2</span></div><div class="line">	<span class="comment">//...  3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ä¸€å…±åˆ›å»º6ä¸ªshapeLayerçš„å®ä¾‹å¹¶å¡«å……æˆé¢œè‰²,æˆ‘ä»¬è¿™é‡Œå¡«å……çš„æ˜¯çº¢è‰² å…¶å®ƒçš„é¢œè‰²å¯è‡ªè¡Œå°è£…. _likeBefore æ˜¯æˆ‘ä»¬çœ‹åˆ°ç™½è‰²çš„â¤ï¸èƒŒæ™¯è§†å›¾(UIImageView)</p>
</blockquote>
<p>ä¸‹é¢ åœ¨<code>//...  1</code>çš„åœ°æ–¹åŠ å…¥å¦‚ä¸‹ä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIBezierPath</span> *startPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">[startPath moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">-2</span>, -length)];</div><div class="line">[startPath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">2</span>, -length)];</div><div class="line">[startPath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>)];</div></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç åŠ å®Œå°±æ˜¯è¿™æ ·çš„å›¾å½¢</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/47fde336e6b929ef6163f87e248147d9ddf2354b/20181127LikeAnimation/likeAnimation4.png"></p>
<p>ç„¶ååˆ›å»ºå®Œæˆæˆ‘ä»¬éœ€è¦æŠŠpathç»™layer.path. è®°å¾—è½¬æˆCGPath</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">layer.path = startPath.CGPath;</div><div class="line">layer.transform = <span class="built_in">CATransform3DMakeRotation</span>(M_PI / <span class="number">3.0</span>f * i, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);</div><div class="line">[<span class="keyword">self</span>.layer addSublayer:layer]</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨: CATransform3DMakeRotation()å‡½æ•° å½“x,y,zå€¼ä¸º0æ—¶,ä»£è¡¨åœ¨è¯¥è½´æ–¹å‘ä¸Šä¸è¿›è¡Œæ—‹è½¬,å½“å€¼ä¸º-1æ—¶,ä»£è¡¨åœ¨è¯¥è½´æ–¹å‘ä¸Šè¿›è¡Œé€†æ—¶é’ˆæ—‹è½¬,å½“å€¼ä¸º1æ—¶,ä»£è¡¨åœ¨è¯¥è½´æ–¹å‘ä¸Šè¿›è¡Œé¡ºæ—¶é’ˆæ—‹è½¬<br>
å› ä¸ºæˆ‘ä»¬æ˜¯éœ€è¦60Â°åˆ›å»ºä¸€ä¸ªlayeræ‰€ä»¥éœ€è¦é¡ºæ—¶é’ˆ M_PI / 3.0f = 60Â°. æ¯å¾ªç¯ä¸€æ¬¡åˆ™åˆ›å»ºç¬¬Nä¸ªè§’åº¦<code>ä¹˜</code>60Â°.</p>
</blockquote>
<p>æ¥ç€åœ¨<code>//...  2</code>æ·»åŠ å¦‚ä¸‹ä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//åŠ¨ç”»ç»„</span></div><div class="line"><span class="built_in">CAAnimationGroup</span> *group = [[<span class="built_in">CAAnimationGroup</span> alloc] init];</div><div class="line">group.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">group.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</div><div class="line">group.fillMode = kCAFillModeForwards;</div><div class="line">group.duration = duration;</div><div class="line"></div><div class="line"><span class="comment">//ç¼©æ”¾åŠ¨ç”»</span></div><div class="line"><span class="built_in">CABasicAnimation</span> *scaleAnim = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">scaleAnim.fromValue = @(<span class="number">0.0</span>);</div><div class="line">scaleAnim.toValue = @(<span class="number">1.0</span>);</div><div class="line">scaleAnim.duration = duration * <span class="number">0.2</span>f; <span class="comment">//æ³¨æ„è¿™é‡Œæ˜¯åœ¨ç»™å®šæ—¶é•¿çš„åœ°æ–¹å‰0.2fçš„æ—¶é—´é‡Œæ‰§è¡Œç¼©æ”¾</span></div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œè¯´ä¸‹duration * 0.2f. æ¯”å¦‚æˆ‘ç»™å®š 10ç§’çš„duration,é‚£ä¹ˆ duration * 0.2 = 2 ç§’æ‰§è¡Œç¼©æ”¾.</p>
</blockquote>
<p>æœ€ååœ¨<code>//...  3</code>çš„ä»£ç å‡ºåŠ ä¸Šå¦‚ä¸‹ä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ç»“æŸç‚¹</span></div><div class="line"><span class="built_in">UIBezierPath</span> *endPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">[endPath moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">-2</span>, -length)];</div><div class="line">[endPath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">2</span>, -length)];</div><div class="line">[endPath addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, -length)];</div><div class="line">            </div><div class="line"><span class="built_in">CABasicAnimation</span> *pathAnim = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"path"</span>];</div><div class="line">pathAnim.fromValue = (__bridge <span class="keyword">id</span>)layer.path;</div><div class="line">pathAnim.toValue = (__bridge <span class="keyword">id</span>)endPath.CGPath;</div><div class="line">pathAnim.beginTime = duration * <span class="number">0.2</span>f;</div><div class="line">pathAnim.duration = duration * <span class="number">0.8</span>f;</div><div class="line">    </div><div class="line">[group setAnimations:@[scaleAnim, pathAnim]];</div><div class="line">[layer addAnimation:group forKey:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<p>è¿™å‡ è¡Œä»£ç çš„æ„è¯†æ˜¯ ä»æˆ‘ä»¬ä¸Šä¸€ä¸ªlayerçš„pathä½ç½®å¼€å§‹å‘æˆ‘ä»¬ç»“æŸä½ç½®çš„pathè¿‡æ¸¡,å¹¶ä¸”æ³¨æ„å¼€å§‹æ—¶é—´<br>
<code>pathAnim.beginTime</code>æ˜¯ duration * 0.2ä¹Ÿå°±æ˜¯è¯´ åœ¨ä¸Šä¸€ä¸ªåŠ¨ç”»ç»“æŸçš„æ—¶é—´ç‚¹æ‰å¼€å§‹ç»“æŸè¿‡æ¸¡,è¿‡æ¸¡çš„æ—¶é•¿å‰©ä½™æ˜¯duration * 0.8.è¿™æ ·ä¸¤ä¸ªè¿è´¯åœ¨ä¸€èµ·çš„åŠ¨ç”»å°±æ‰§è¡Œå®Œäº†,æœ€åæŠŠåŠ¨ç”»åŠ åˆ°åŠ¨ç”»ç»„ å¤©åŠ ç»™layer.</p>
<p>ä¸‹å›¾æ˜¯ä»å¼€å§‹åˆ°ç»“æŸç‚¹è¿‡æ¸¡çš„åŠ¨ç”».</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/8ad48f681be3c7d5bdb60eb3e8c5b3fbe15ec29f/20181127LikeAnimation/likeAnimation5.gif"></p>
<p>å‰©ä½™çš„å·¥ä½œå°±æ˜¯åšä¸ªæ™®é€šçš„åŠ¨ç”»çš„ åŸºæœ¬æ²¡ä»€ä¹ˆäº†.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.35</span>f</div><div class="line">                      delay:<span class="number">0.0</span>f</div><div class="line">                    options:<span class="built_in">UIViewAnimationOptionCurveEaseIn</span></div><div class="line">                 animations:^&#123;</div><div class="line">                     <span class="keyword">self</span>.likeAfter.transform = <span class="built_in">CGAffineTransformScale</span>(<span class="built_in">CGAffineTransformMakeRotation</span>(-M_PI_4), <span class="number">0.1</span>f, <span class="number">0.1</span>f);</div><div class="line">                 &#125;</div><div class="line">                 completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                     [<span class="keyword">self</span>.likeAfter setHidden:<span class="literal">YES</span>];</div><div class="line">                     <span class="keyword">self</span>.likeBefore.userInteractionEnabled = <span class="literal">YES</span>;</div><div class="line">                     <span class="keyword">self</span>.likeAfter.userInteractionEnabled = <span class="literal">YES</span>;</div><div class="line">                 &#125;];</div></pre></td></tr></table></figure>
<h4 id="æŠ€å·§">æŠ€å·§</h4>
<p>ç»“æŸåŠ¨ç”»çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´æ§åˆ¶,æ°åˆ°å¥½å¤„.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>åŠ¨ç”»å®ç°çš„ç»†èŠ‚éœ€è¦ç ”ç©¶å’Œå­¦ä¹ å’Œå®è·µ,åœ¨è¿™é‡Œæ„Ÿè°¢å¼€æºä½œè€…çš„ä»£ç ç»™äº†æ€è·¯, æˆ‘ä¸ªäººé€šè¿‡å­¦ä¹ å’Œæ¨¡ä»¿æ•´ç†å‡ºåŸç†å†™å‡ºä»£ç æ ¡éªŒå¹¶å¢åŠ ç›¸å…³å¯¹å¤–æ¥å£.</p>
<p><a href="https://github.com/sunyazhou13/LikeDemo" target="_blank" rel="external">ç‚¹å‡»ä¸‹è½½Demo</a></p>
<p><a href="https://github.com/sunyazhou13/LikeDemo/archive/master.zip" target="_blank" rel="external">ç›´æ¥ä¸‹è½½zip</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;hi å¤§å®¶å¥½ åˆè·Ÿå¤§å®¶è§é¢äº†,ä»Šå¤©ç»™å¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³çš„ç‚¹èµåŠ¨ç”»çš„å®ç°, åºŸè¯ä¸å¤šè¯´ä¸Šå›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou1
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>iOSè§†é¢‘åŠ è½½åŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2018/11/14/20181114PlayLoadingAnimation/"/>
    <id>https://www.sunyazhou.com/2018/11/14/20181114PlayLoadingAnimation/</id>
    <published>2018-11-14T06:14:39.000Z</published>
    <updated>2018-12-18T16:05:06.392Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>è¿™å‡ å¤©ä¸€ç›´è·Ÿå¼€æºçš„æŠ–éŸ³demoæ–—æ™ºæ–—å‹‡,ä»Šå¤©è·Ÿå¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³ä¸­æˆ–è€…å¿«æ‰‹ä¸­åŠ è½½è§†é¢‘çš„åŠ¨ç”»</p>
<p>ä¸Šå›¾çœ‹æˆå“</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a119e34c5b443ef40036554e5fa05fa9f7c707ce/20181114PlayLoadingAnimation/playloading.gif"></p>
<h1 id="å®ç°åŸç†">å®ç°åŸç†</h1>
<p>é¦–å…ˆæˆ‘åˆ›å»ºä¸€ä¸ªè§†å›¾</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIView</span> *playLoadingView;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    </div><div class="line">    <span class="comment">//init player status bar</span></div><div class="line">    <span class="keyword">self</span>.playLoadingView = [[<span class="built_in">UIView</span> alloc]init];</div><div class="line">    <span class="keyword">self</span>.playLoadingView.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">    [<span class="keyword">self</span>.playLoadingView setHidden:<span class="literal">YES</span>];</div><div class="line">    [<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.playLoadingView];</div><div class="line">    </div><div class="line">    <span class="comment">//make constraintes</span></div><div class="line">    [<span class="keyword">self</span>.playLoadingView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">        make.center.equalTo(<span class="keyword">self</span>.view);</div><div class="line">        make.width.mas_equalTo(<span class="number">1.0</span>f); <span class="comment">//å®½ 1 dp</span></div><div class="line">        make.height.mas_equalTo(<span class="number">0.5</span>f); <span class="comment">//é«˜ 0.5 dp</span></div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span> startLoadingPlayAnimation:<span class="literal">YES</span>]; <span class="comment">//è°ƒç”¨åŠ¨ç”»ä»£ç </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° æˆ‘ä»¬å®é™…ä¸Šåˆ›å»ºçš„æ˜¯ä¸€ä¸ª 1ptå®½åº¦ 0.5 ptçš„å®½åº¦ çš„è§†å›¾</p>
</blockquote>
<p>ç´§æ¥ç€åŠ¨ç”»å®ç°çš„ä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)startLoadingPlayAnimation:(<span class="built_in">BOOL</span>)isStart &#123;</div><div class="line">    <span class="keyword">if</span> (isStart) &#123;</div><div class="line">        <span class="keyword">self</span>.playLoadingView.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">        <span class="keyword">self</span>.playLoadingView.hidden = <span class="literal">NO</span>;</div><div class="line">        [<span class="keyword">self</span>.playLoadingView.layer removeAllAnimations];</div><div class="line">        </div><div class="line">        <span class="built_in">CAAnimationGroup</span> *animationGroup = [[<span class="built_in">CAAnimationGroup</span> alloc] init];</div><div class="line">        animationGroup.duration = <span class="number">0.5</span>;</div><div class="line">        animationGroup.beginTime = <span class="built_in">CACurrentMediaTime</span>() + <span class="number">0.5</span>;</div><div class="line">        animationGroup.repeatCount = MAXFLOAT;</div><div class="line">        animationGroup.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</div><div class="line">        </div><div class="line">        <span class="built_in">CABasicAnimation</span> *scaleAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">        scaleAnimation.keyPath = <span class="string">@"transform.scale.x"</span>;</div><div class="line">        scaleAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">        scaleAnimation.toValue = @(<span class="number">1.0</span>f * ScreenWidth);</div><div class="line">        </div><div class="line">        <span class="built_in">CABasicAnimation</span> *alphaAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">        alphaAnimation.keyPath = <span class="string">@"opacity"</span>;</div><div class="line">        alphaAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">        alphaAnimation.toValue = @(<span class="number">0.5</span>f);</div><div class="line">        </div><div class="line">        [animationGroup setAnimations:@[scaleAnimation, alphaAnimation]];</div><div class="line">        [<span class="keyword">self</span>.playLoadingView.layer addAnimation:animationGroup forKey:<span class="literal">nil</span>];</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        [<span class="keyword">self</span>.playLoadingView.layer removeAllAnimations];</div><div class="line">        <span class="keyword">self</span>.playLoadingView.hidden = <span class="literal">YES</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å®Œäº‹ å°±è¿™å‡ è¡Œä»£ç  æå®š</p>
<p>å…¶å®æ ¸å¿ƒçš„åªæœ‰4è¡Œä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CABasicAnimation</span> *scaleAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">scaleAnimation.keyPath = <span class="string">@"transform.scale.x"</span>;</div><div class="line">scaleAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">scaleAnimation.toValue = @(<span class="number">1.0</span>f * ScreenWidth);</div></pre></td></tr></table></figure>
<blockquote>
<p>å…³é”®åœ¨<code>scaleAnimation.keyPath = @"transform.scale.x";</code> è¿™é‡Œæˆ‘ä»¬è¦æ²¿ç€xåšç¼©æ”¾</p>
</blockquote>
<p>ç¼©æ”¾çš„å¾—å€¼ä» <strong>1~å±å¹•å®½åº¦</strong>, å½“ç„¶å€¼å¤šå¤§è‡ªå·±å¯ä»¥æ§åˆ¶.</p>
<p>å¦‚æœ<code>@"transform.scale.y"</code> åˆ™æ˜¯æ²¿ç€Yè½´ç¼©æ”¾</p>
<p>å½“ç„¶ å¦‚æœå†™æˆ<code>@"transform.scale"</code> é‚£å°±X,Y ä¸€èµ·ç¼©æ”¾ å¤§å®¶å¯ä»¥è¯•è¯•.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æœ¬ç¯‡çš„åŠ¨ç”»æŠ€å·§æ˜¯ ç¼©æ”¾çš„ <code>transform.scale.y</code> ä»ä¸€ä¸ªç‚¹ åšlayerç¼©æ”¾ å°±ä¼šå‡ºç° åŠ è½½æ•ˆæœ.</p>
<p><a href="https://github.com/sunyazhou13/PlayLoadingDemo" target="_blank" rel="external">æœ€åé™„ä¸Šdemo</a></p>
<p>æ„Ÿè°¢å¤§å®¶æ”¯æŒ</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;è¿™å‡ å¤©ä¸€ç›´è·Ÿå¼€æºçš„æŠ–éŸ³demoæ–—æ™ºæ–—å‹‡,ä»Šå¤©è·Ÿå¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³ä¸­æˆ–è€…å¿«æ‰‹ä¸­åŠ è½½è§†é¢‘çš„åŠ¨ç”»&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾çœ‹æˆå“&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazho
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>iOSæ‰€æœ‰Animationç›¸å…³å¯ç”¨çš„Keypath</title>
    <link href="https://www.sunyazhou.com/2018/11/13/20181113AllKeypathOfCALayer/"/>
    <id>https://www.sunyazhou.com/2018/11/13/20181113AllKeypathOfCALayer/</id>
    <published>2018-11-13T03:46:45.000Z</published>
    <updated>2018-11-17T05:03:35.107Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>åœ¨Core Animationä¸­ æˆ‘ä»¬ç»å¸¸ä½¿ç”¨CABasicAnimationæˆ–è€…å®ƒçš„å­ç±»åšä¸€äº›åŠ¨ç”»</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½è¦ç”¨åˆ°Keypath,æœ€è¿‘åœ¨ç ”ç©¶åŠ¨ç”»,æƒ³æ•´ç†ä¸€ä¸‹æ‰€æœ‰å¯ç”¨çš„Keypathåœ¨iOSçš„æ ¸å¿ƒåŠ¨ç”»ä¸­.</p>
<h1 id="calayerçš„ç›¸å…³å±æ€§">CALayerçš„ç›¸å…³å±æ€§</h1>
<p>åºŸè¯ä¸å¤šè¯´ æˆ‘ä»¬ä¸Šä¸€æ®µä»£ç æ¼”ç¤ºä¸€ä¸‹ è¿™ç¯‡çš„ä¸»é¢˜</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CABasicAnimation</span> * scaleAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">scaleAnimation.keyPath = <span class="string">@"transform.scale.x"</span>;</div><div class="line">scaleAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">scaleAnimation.toValue = @(<span class="number">1.0</span>f * ScreenWidth);</div></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æˆ‘ä»¬ç»™ä¸€ä¸ªViewçš„Layeræ·»åŠ animation</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[xxxView.layer addAnimation: scaleAnimation forKey:<span class="string">@"testAnimationName"</span>];</div></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢æˆ‘ä»¬æ³¨æ„åˆ°<code>scaleAnimation.keyPath</code>å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² æ˜¯ä¸€ä¸ªè¢«å¤–éƒ¨ä¿®æ”¹çš„æˆå‘˜å˜é‡çš„ç±»ä¼¼çš„ä¸œè¥¿,ä½†æ˜¯æˆ‘ä»¬è‡ªå·±åˆä¸èƒ½éšä¾¿æƒ³å†™å†™å•¥</p>
<p>è¿™ä¸ªå®é™…ä¸Šæ˜¯ä¸€ä¸ªlayerçš„å±æ€§ æˆ–è€…æˆå‘˜å˜é‡.</p>
<h2 id="å…¨éƒ¨å¯ä¿®æ”¹çš„keypathæœ‰å“ªäº›å‘¢">å…¨éƒ¨å¯ä¿®æ”¹çš„keypathæœ‰å“ªäº›å‘¢ï¼Ÿ</h2>
<h3 id="calayer-animatable-properties-åŠ¨ç”»æœ‰å¦‚ä¸‹è¿™äº›">CALayer animatable properties åŠ¨ç”»æœ‰å¦‚ä¸‹è¿™äº›</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">nchorPoint</div><div class="line">backgroundColor</div><div class="line">backgroundFilters</div><div class="line">borderColor</div><div class="line">borderWidth</div><div class="line">bounds</div><div class="line">compositingFilter</div><div class="line">contents</div><div class="line">contentsRect</div><div class="line">cornerRadius</div><div class="line">doubleSided</div><div class="line">filters</div><div class="line">frame</div><div class="line">hidden</div><div class="line">mask</div><div class="line">masksToBounds</div><div class="line">opacity</div><div class="line">position</div><div class="line">shadowColor</div><div class="line">shadowOffset</div><div class="line">shadowOpacity</div><div class="line">shadowPath</div><div class="line">shadowRadius</div><div class="line">sublayers</div><div class="line">sublayerTransform</div><div class="line">transform</div><div class="line">zPosition</div></pre></td></tr></table></figure>
<p>å‰©ä¸‹çš„éƒ½æ˜¯ç»§æ‰¿è‡ªCALayer</p>
<h3 id="caemitterlayer-animatable-properties">CAEmitterLayer animatable properties:</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">emitterPosition</div><div class="line">emitterZPosition</div><div class="line">emitterSize</div></pre></td></tr></table></figure>
<h3 id="cagradientlayer-animatable-properties">CAGradientLayer animatable properties</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">colors</div><div class="line">locations</div><div class="line">endPoint</div><div class="line">startPoint</div></pre></td></tr></table></figure>
<h3 id="careplicatorlayer-animatable-properties">CAReplicatorLayer animatable properties</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">instanceDelay</div><div class="line">instanceTransform</div><div class="line">instanceRedOffset</div><div class="line">instanceGreenOffset</div><div class="line">instanceBlueOffset</div><div class="line">instanceAlphaOffset</div></pre></td></tr></table></figure>
<h3 id="cashapelayer-animatable-properties">CAShapeLayer animatable properties</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">fillColor</div><div class="line">lineDashPhase</div><div class="line">lineWidth</div><div class="line">miterLimit</div><div class="line">strokeColor</div><div class="line">strokeStart</div><div class="line">strokeEnd</div></pre></td></tr></table></figure>
<h3 id="catextlayer-animatable-properties">CATextLayer animatable properties</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">fontSize</div><div class="line">foregroundColor</div></pre></td></tr></table></figure>
<h3 id="catransform3d-key-value-coding-extensionskvcçš„-keypath">CATransform3D Key-Value Coding Extensions(KVCçš„ Keypath)</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">rotation.x</div><div class="line">rotation.y</div><div class="line">rotation.z</div><div class="line">rotation</div><div class="line">scale.x</div><div class="line">scale.y</div><div class="line">scale.z</div><div class="line">scale</div><div class="line">translation.x</div><div class="line">translation.y</div><div class="line">translation.z</div></pre></td></tr></table></figure>
<h4 id="cgpoint-keypaths">CGPoint keyPaths</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">x</div><div class="line">y</div></pre></td></tr></table></figure>
<h4 id="cgsize-keypaths">CGSize keyPaths</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">width</div><div class="line">height</div></pre></td></tr></table></figure>
<h3 id="cgrect-keypaths">CGRect keyPaths</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">origin</div><div class="line">origin.x</div><div class="line">origin.y</div><div class="line">size</div><div class="line">size.width</div><div class="line">size.height</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿˜æœ‰ä¸€äº›é™„åŠ å¯<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/AnimatableProperties/AnimatableProperties.html" target="_blank" rel="external">å‚è€ƒ</a>, ä»¥åŠè¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒ<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40004514-CH1-SW1" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>,ä»¥åŠä¸€äº›<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/Key-ValueCodingExtensions/Key-ValueCodingExtensions.html#//apple_ref/doc/uid/TP40004514-CH12-SW2" target="_blank" rel="external">ç»“æ„ä½“</a>.</p>
</blockquote>
<p>ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰æˆ‘ç›®å‰æ‰¾åˆ°çš„å…¨éƒ¨åŠ¨ç”»å¯ç”¨çš„<code>keypath</code>.</p>
<h2 id="å¯åŠ¨ç”»å±æ€§ä»‹ç»">å¯åŠ¨ç”»å±æ€§ä»‹ç»</h2>
<h3 id="å‡ ä½•å±æ€§geometry-properties">å‡ ä½•å±æ€§(Geometry Properties)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>transform.rotation.x</td>
<td>æŒ‰xè½´æ—‹è½¬çš„å¼§åº¦</td>
</tr>
<tr class="even">
<td>transform.rotation.y</td>
<td>æŒ‰yè½´æ—‹è½¬çš„å¼§åº¦</td>
</tr>
<tr class="odd">
<td>transform.rotation.z</td>
<td>æŒ‰zè½´æ—‹è½¬çš„å¼§åº¦</td>
</tr>
<tr class="even">
<td>transform.rotation</td>
<td>æŒ‰zè½´æ—‹è½¬çš„å¼§åº¦, å’Œtransform.rotation.zæ•ˆæœä¸€æ ·</td>
</tr>
<tr class="odd">
<td>transform.scale.x</td>
<td>åœ¨xè½´æŒ‰æ¯”ä¾‹æ”¾å¤§ç¼©å°</td>
</tr>
<tr class="even">
<td>transform.scale.y</td>
<td>åœ¨yè½´æŒ‰æ¯”ä¾‹æ”¾å¤§ç¼©å°</td>
</tr>
<tr class="odd">
<td>transform.scale.z</td>
<td>åœ¨zè½´æŒ‰æ¯”ä¾‹æ”¾å¤§ç¼©å°</td>
</tr>
<tr class="even">
<td>transform.scale</td>
<td>æ•´ä½“æŒ‰æ¯”ä¾‹æ”¾å¤§ç¼©å°</td>
</tr>
<tr class="odd">
<td>transform.translation.x</td>
<td>æ²¿xè½´å¹³ç§»</td>
</tr>
<tr class="even">
<td>transform.translation.y</td>
<td>æ²¿yè½´å¹³ç§»</td>
</tr>
<tr class="odd">
<td>transform.translation.z</td>
<td>æ²¿zè½´å¹³ç§»</td>
</tr>
<tr class="even">
<td>transform.translation</td>
<td>x,y åæ ‡å‡å‘ç”Ÿæ”¹å˜</td>
</tr>
<tr class="odd">
<td>transform</td>
<td>CATransform3D 4xbounds4çŸ©é˜µ</td>
</tr>
<tr class="even">
<td>bounds</td>
<td>layerå¤§å°</td>
</tr>
<tr class="odd">
<td>position</td>
<td>layerä½ç½®</td>
</tr>
<tr class="even">
<td>anchorPoint</td>
<td>é”šç‚¹ä½ç½®</td>
</tr>
<tr class="odd">
<td>cornerRadius</td>
<td>åœ†è§’å¤§å°</td>
</tr>
<tr class="even">
<td>zPosition</td>
<td>zè½´ä½ç½®</td>
</tr>
</tbody>
</table>
<blockquote>
<p>æ³¨æ„: è¿™é‡Œæ²¡æœ‰frame,layerçš„ frame æ˜¯ä¸æ”¯æŒåŠ¨ç”»çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜positionå’Œboundsæ¥ä»£æ›¿frame</p>
</blockquote>
<h3 id="layerå†…å®¹-layer-content">Layerå†…å®¹ (Layer Content)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>contents</td>
<td>Layerå†…å®¹ï¼Œå‘ˆç°åœ¨èƒŒæ™¯é¢œè‰²ä¹‹ä¸Š</td>
</tr>
</tbody>
</table>
<h3 id="é˜´å½±å±æ€§-shadow-properties">é˜´å½±å±æ€§ (Shadow Properties)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>shadowColor</td>
<td>é˜´å½±é¢œè‰²</td>
</tr>
<tr class="even">
<td>shadowOffset</td>
<td>é˜´å½±åç§»è·ç¦»</td>
</tr>
<tr class="odd">
<td>shadowOpacity</td>
<td>é˜´å½±é€æ˜åº¦</td>
</tr>
<tr class="even">
<td>shadowRadius</td>
<td>é˜´å½±åœ†è§’</td>
</tr>
<tr class="odd">
<td>shadowPath</td>
<td>é˜´å½±è½¨è¿¹</td>
</tr>
</tbody>
</table>
<h3 id="é€æ˜åº¦-opacity-property">é€æ˜åº¦ (Opacity Property)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>opacity</td>
<td>é€æ˜åº¦</td>
</tr>
</tbody>
</table>
<h3 id="é®ç½©-mask-properties">é®ç½© (Mask Properties)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>mask</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="shapelayerå±æ€§-shapelayer">ShapeLayerå±æ€§ (ShapeLayer)</h3>
<table>
<thead>
<tr class="header">
<th>å¯ç”¨ Key Path</th>
<th>ç¤ºæ„</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>fillColor</td>
<td>å¡«å……é¢œè‰²</td>
</tr>
<tr class="even">
<td>strokeColor</td>
<td>æè¾¹é¢œè‰²</td>
</tr>
<tr class="odd">
<td>strokeStart</td>
<td>æè¾¹é¢œè‰²å¼€å§‹ ä»æ— åˆ°æœ‰</td>
</tr>
<tr class="even">
<td>strokeEnd</td>
<td>æè¾¹é¢œè‰²ç»“æŸ ä»æœ‰åˆ°æ— </td>
</tr>
<tr class="odd">
<td>lineWidth</td>
<td>è·¯å¾„çš„çº¿å®½</td>
</tr>
<tr class="even">
<td>miterLimit</td>
<td>ç›¸äº¤é•¿åº¦çš„æœ€å¤§å€¼</td>
</tr>
<tr class="odd">
<td>lineDashPhase</td>
<td>è™šçº¿æ ·å¼</td>
</tr>
</tbody>
</table>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ä»¥ä¸Šæ˜¯æˆ‘ æœé›†æ•´ç† åˆ°çš„æ‰€æœ‰keypathä»…ä¾›å‚è€ƒ</p>
<p>å¤šå¹´å‰ æˆ‘èµ°åœ¨ è¾‰ç…Œå›½é™…åˆ°è¥¿äºŒæ——çš„å¤§è¡—ä¸Š è„‘è¢‹é‡Œè¿˜åœ¨æ€è€ƒ ä¸ºä»€ä¹ˆanimationçš„è¿™ç§keypathæ€»æ˜¯ææˆå­—ç¬¦ä¸² æ•´æ•´å°±å®¹æ˜“å†™é”™.ä»Šå¤©è‡ªå·±çš„è¿™ç¯‡æ–‡ç« ç»™äº†ç­”æ¡ˆ,ç­”æ¡ˆæ˜¯ KVCçš„æˆå‘˜å˜é‡å¹¶æ²¡æœ‰ç›´æ¥è·å–å˜é‡å,è€Œæ˜¯è¦å†™æˆ å­—ç¬¦ä¸²çš„å˜é‡å.å†…å®¹é€šè¿‡å­—ç¬¦ä¸²å»åšä¸€äº›äº‹æƒ….</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;åœ¨Core Animationä¸­ æˆ‘ä»¬ç»å¸¸ä½¿ç”¨CABasicAnimationæˆ–è€…å®ƒçš„å­ç±»åšä¸€äº›åŠ¨ç”»&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½è¦ç”¨åˆ°Keypath,æœ€è¿‘åœ¨ç ”ç©¶åŠ¨ç”»,æƒ³æ•´ç†ä¸€ä¸‹æ‰€æœ‰å¯ç”¨çš„Keypathåœ¨iOSçš„æ ¸å¿ƒåŠ¨ç”»ä¸­.&lt;/p&gt;
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSæŠ–éŸ³å³ä¸‹è§’ä¸“è¾‘åŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2018/11/08/20181108AwemeAlbumAnimation/"/>
    <id>https://www.sunyazhou.com/2018/11/08/20181108AwemeAlbumAnimation/</id>
    <published>2018-11-08T03:52:06.000Z</published>
    <updated>2018-12-18T16:05:06.391Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>å‰ä¸¤å¤©åˆ†äº«äº† æŠ–éŸ³ ä¸Šä¸‹æ»‘åˆ‡æ¢ ,ä»Šå¤©ç»™å’Œå¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³å³å°è§’åº•éƒ¨çš„ä¸“è¾‘åŠ¨ç”»</p>
<p>ä¸Šå›¾çœ‹ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a26ecc741c10edcf564f1f3295b7afb6ebe018fc/20181108AwemeAlbumAnimation/final.gif"></p>
<p>å†çœ‹ä¸‹æŠ–éŸ³çš„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/1781036a179c21add298c201f41f70cc38ea6e4b/20181108AwemeAlbumAnimation/AlbumAnimation.gif"></p>
<h1 id="å…·ä½“å®ç°æ€è·¯">å…·ä½“å®ç°æ€è·¯</h1>
<p>é¦–å…ˆéœ€è¦3æ¶¨ç´ æ è¿™ä¸ªåœ¨demoä¸­å°±å¯ä»¥æ‰¾åˆ°å“ˆ</p>
<p>åœ¨æ–‡ç« åº•éƒ¨demoä¸­æœ‰</p>
<ol type="1">
<li>ContrainerView</li>
<li>Background Layer</li>
<li>Album (UIImageView)</li>
</ol>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/9e8e3934b70146afaa22fc5373a54e9c561af355/20181108AwemeAlbumAnimation/album1.png"></p>
<p>æˆ‘ä»¬é¦–å…ˆå†™ä¸ª <code>MusicAlbumView</code> ç»§æ‰¿è‡ªUIView</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MusicAlbumView</span> : <span class="title">UIView</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIImageView</span>  *album;</div><div class="line"><span class="comment">// å¼€å§‹åŠ¨ç”» rate åŠ¨ç”»æ—¶é—´ç³»æ•°</span></div><div class="line">- (<span class="keyword">void</span>)startAnimation:(<span class="built_in">CGFloat</span>)rate;</div><div class="line"><span class="comment">// é‡ç½®è§†å›¾ åˆ é™¤æ‰€æœ‰å·²æ·»åŠ çš„åŠ¨ç”»ç»„</span></div><div class="line">- (<span class="keyword">void</span>)resetView;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<h3 id="å¹¶æä¾›ä¸¤ä¸ªæ¥å£">å¹¶æä¾›ä¸¤ä¸ªæ¥å£</h3>
<ul>
<li>ä¸€ä¸ªå¼€å§‹åŠ¨ç”»</li>
<li>ä¸€ä¸ªé‡ç½®åŠ¨ç”»</li>
</ul>
<p><code>album</code> æˆå‘˜å˜é‡ æ˜¯ä¸ºäº†ç»™å¤–éƒ¨åŠ è½½ç½‘ç»œå›¾ç‰‡ä½¿ç”¨ æ‰€ä»¥æš´éœ²åœ¨.hä¸­, ä¾‹å¦‚ä¸‹é¢çš„è°ƒç”¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">__<span class="keyword">weak</span> __<span class="keyword">typeof</span>(<span class="keyword">self</span>) wself = <span class="keyword">self</span>;</div><div class="line"><span class="comment">//åŠ è½½ç½‘ç»œå›¾</span></div><div class="line">[<span class="keyword">self</span>.musicAlbum.album sd_setImageWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"https://www.sunyazhou.com/images/logo2.jpg"</span>] completed:^(<span class="built_in">UIImage</span> * _Nullable image, <span class="built_in">NSError</span> * _Nullable error, SDImageCacheType cacheType, <span class="built_in">NSURL</span> * _Nullable imageURL) &#123;</div><div class="line">    <span class="keyword">if</span>(!error) &#123;</div><div class="line">        wself.musicAlbum.album.image = image;</div><div class="line">    &#125;</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<h3 id="ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹å†…éƒ¨å¦‚ä½•å°è£…">ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹å†…éƒ¨å¦‚ä½•å°è£…</h3>
<p>é¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºèƒŒæ™¯</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame &#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithFrame:frame];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.noteLayers = [<span class="built_in">NSMutableArray</span> array];</div><div class="line">        <span class="comment">//ä¸“è¾‘èƒŒæ™¯å®¹å™¨è§†å›¾</span></div><div class="line">        <span class="keyword">self</span>.albumContainer =[[<span class="built_in">UIView</span> alloc]initWithFrame:<span class="keyword">self</span>.bounds];</div><div class="line">        [<span class="keyword">self</span> addSubview:<span class="keyword">self</span>.albumContainer];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œåˆå§‹åŒ–çš„æ•°ç»„æ˜¯ä¸ºä¸‹é¢è£…åŠ¨ç”»layerä½¿ç”¨ æ–¹ä¾¿ Resetçš„æ—¶å€™ ç§»é™¤æ‰€æœ‰layerå’ŒåŠ¨ç”»</p>
</blockquote>
<p>ä¸€ä¸ªäº§å“èƒŒæ™¯å®¹å™¨UIView + ä¸€ä¸ªäº§å“èƒŒæ™¯Layer + ä¸€ä¸ªä¸ªäººå¤´åƒèƒŒæ™¯UIImageView</p>
<p>æˆ‘ä»¬ä¾æ¬¡æŠŠä¸‹é¢ä»£ç å†™åœ¨<code>[self addSubview:self.albumContainer]</code>åº•éƒ¨</p>
<p>æ·»åŠ å”±ç‰‡èƒŒæ™¯</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//æ·»åŠ å”±ç‰‡iconçš„layer</span></div><div class="line"><span class="built_in">CALayer</span> *backgroudLayer = [<span class="built_in">CALayer</span> layer];</div><div class="line">backgroudLayer.frame = <span class="keyword">self</span>.bounds;</div><div class="line">backgroudLayer.contents = (<span class="keyword">id</span>)[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"music_cover"</span>].CGImage;</div><div class="line">[<span class="keyword">self</span>.albumContainer.layer addSublayer:backgroudLayer];</div></pre></td></tr></table></figure>
<p>å¤´åƒè§†å›¾</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//æ”¾åœ¨å”±ç‰‡å†…éƒ¨çš„å›¾ç‰‡</span></div><div class="line"><span class="built_in">CGFloat</span> w = <span class="built_in">CGRectGetWidth</span>(frame) / <span class="number">2.0</span>f;</div><div class="line"><span class="built_in">CGFloat</span> h = <span class="built_in">CGRectGetHeight</span>(frame) / <span class="number">2.0</span>f;</div><div class="line"><span class="built_in">CGRect</span> albumFrame = <span class="built_in">CGRectMake</span>(w / <span class="number">2.0</span>f, h / <span class="number">2.0</span>f, w, h);</div><div class="line"><span class="keyword">self</span>.album = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:albumFrame];</div><div class="line"><span class="keyword">self</span>.album.contentMode = <span class="built_in">UIViewContentModeScaleAspectFill</span>;</div><div class="line">[<span class="keyword">self</span>.albumContainer addSubview:<span class="keyword">self</span>.album];</div><div class="line"><span class="keyword">self</span>.album.layer.cornerRadius = h / <span class="number">2.0</span>f;</div><div class="line"><span class="keyword">self</span>.album.layer.masksToBounds = <span class="literal">YES</span>;</div></pre></td></tr></table></figure>
<p>ç„¶åå±…ä¸­å¯¹é½.</p>
<h4 id="ç»™self.albumcontainer.layeråŠ æ—‹è½¬">ç»™<code>self.albumContainer.layer</code>åŠ æ—‹è½¬</h4>
<p>æˆ‘ä»¬åœ¨å¤–éƒ¨è°ƒç”¨startAnimation:æ–¹æ³•çš„æ—¶å€™ ç»™<code>self.albumContainer.layer</code>æ·»åŠ æ—‹è½¬åŠ¨ç”»æ—‹è½¬</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">- (<span class="keyword">void</span>)startAnimation:(<span class="built_in">CGFloat</span>)rate &#123;</div><div class="line">    <span class="built_in">CABasicAnimation</span>* rotationAnimation;</div><div class="line">    rotationAnimation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"transform.rotation.z"</span>];</div><div class="line">    rotationAnimation.toValue = [<span class="built_in">NSNumber</span> numberWithFloat: M_PI * <span class="number">2.0</span>];</div><div class="line">    rotationAnimation.duration = <span class="number">3.0</span>f;</div><div class="line">    rotationAnimation.cumulative = <span class="literal">YES</span>;</div><div class="line">    rotationAnimation.repeatCount = MAXFLOAT;</div><div class="line">    [<span class="keyword">self</span>.albumContainer.layer addAnimation:rotationAnimation forKey:<span class="string">@"rotationAnimation"</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åŠ å®Œæ•ˆæœæ˜¯è¿™æ ·çš„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/710440e9f7f36b2a30e54026fb73574c23bba37b/20181108AwemeAlbumAnimation/album2.gif"></p>
<h4 id="å¦‚ä½•å®ç°å¼§åº¦åŠ¨ç”»">å¦‚ä½•å®ç°å¼§åº¦åŠ¨ç”»</h4>
<p>å¥½ å®Œæˆä¸€åŠäº† ä¸‹é¢æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹ å¼§åº¦æ—‹è½¬.</p>
<p>ç°ä»”ç»†è§‚å¯Ÿä¸€ä¸‹åŠ¨ç”»çš„éŸ³ç¬¦</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/e63191fa2982fc79925e0045c3e65ced9aec1db0/20181108AwemeAlbumAnimation/album3.gif"></p>
<p>è¿™æ˜¯ä¸€å¼ éŸ³ç¬¦åŠ¨ç”» å®ƒçš„è¿åŠ¨è½¨è¿¹å¤§æ¦‚æ˜¯è¿™æ ·çš„</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/master/20181108AwemeAlbumAnimation/bezier.png"></p>
<p>æˆ‘ä»¬å…¶å®ç”¨åˆ°çš„æ˜¯è´å¡å°”æ›²çº¿åŠ¨ç”» (æˆ‘ç”»çš„ä¸æ˜¯å¾ˆå¥½ å¤§å®¶ç†è§£è¿™ä¸ªæ„æ€å°±å¥½)</p>
<p>ç„¶åè®©éŸ³ç¬¦çš„layeræ²¿ç€ è¿™ä¸ªè´å¡å°”æ›²çº¿åšæ—‹è½¬... å…¶å®æ˜¯ä¸‹é¢çš„ä¸€äº›åˆ—åŠ¨ä½œç»„åˆ</p>
<p>è¿™ä¸ªéœ€è¦ä¸€ä¸ªåŠ¨ç”»ç»„ åŒ…å«å¦‚ä¸‹åŠ¨ä½œ</p>
<ul>
<li>ä¸€ä¸ªè´å¡å°”æ›²çº¿è¿åŠ¨çš„è½¨è¿¹åŠ¨ç”»å•Š</li>
<li>æ—‹è½¬å¼§åº¦ å¤§æ¦‚åŠåœˆ å°ä¸€äº› M_PI * 0.10 ~ M_PI * -0.10 ä¹‹é—´æ—‹è½¬çš„åŠ¨ç”»</li>
<li>é€æ˜åº¦ ä»0 åˆ° 1 åœ¨åˆ° 0 ä¹‹é—´è¿åŠ¨çš„é€æ˜åº¦åŠ¨ç”»</li>
<li>ç¼©æ”¾åŠ¨ç”» ä»å¼€å§‹ 1x åˆ° 2x ä¹‹é—´å˜åŒ–</li>
</ul>
<p>å¥½æˆ‘ä»¬æ¥è§£å†³ä¸€ä¸‹ å…³é”®çš„è´èµ›å°”æ›²çº¿</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŠ¨ç”»ç»„</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CAAnimationGroup</span> *animationGroup = [[<span class="built_in">CAAnimationGroup</span> alloc]init];</div><div class="line">animationGroup.duration = rate/<span class="number">4.0</span>f;</div><div class="line">animationGroup.beginTime = <span class="built_in">CACurrentMediaTime</span>() + delayTime;</div><div class="line">animationGroup.repeatCount = MAXFLOAT;</div><div class="line">animationGroup.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">animationGroup.fillMode = kCAFillModeForwards;</div><div class="line">animationGroup.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionLinear];</div></pre></td></tr></table></figure>
<blockquote>
<p>rate å¤–éƒ¨ä¼ å…¥ delayTimeæ˜¯ åŠ¨ç”»ç»„å¼€å§‹åŠ¨ç”»çš„å»¶è¿Ÿçš„æ—¶é—´ æˆ‘ä»¬è®¾ç½® delayTime ä¸º0å°±æ˜¯ä¸å»¶æ—¶ ä¸‹é¢è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¹ˆå†™</p>
</blockquote>
<p>åˆ›å»ºä¸€ä¸ª è´èµ›å°”æ›²çº¿ä¸œåŠ¨ç”»</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//bezierè·¯å¾„å¸§åŠ¨ç”»</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> * pathAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"position"</span>];</div></pre></td></tr></table></figure>
<p>ç„¶åæŠŠä¸‹é¢è¿™å¨ä»£ç åŠ åˆ° ä¸Šé¢ä»£ç çš„åº•éƒ¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">CGFloat</span> sideXLength = <span class="number">40.0</span>f;  <span class="comment">//Xè½´å·¦å³ä¾§åç§»é‡</span></div><div class="line"><span class="built_in">CGFloat</span> sideYLength = <span class="number">100.0</span>f; <span class="comment">//Yè½´ä¸Šä¸‹åç§»é‡</span></div><div class="line"></div><div class="line"><span class="built_in">CGPoint</span> beginPoint = <span class="built_in">CGPointMake</span>(<span class="built_in">CGRectGetMidX</span>(<span class="keyword">self</span>.bounds) - <span class="number">5</span>,  <span class="comment">//è´èµ›å°”æ›²çº¿å¼€å§‹ç‚¹CGRectGetMaxY(self.bounds));</span></div><div class="line"><span class="built_in">CGPoint</span> endPoint = <span class="built_in">CGPointMake</span>(beginPoint.x - sideXLength, beginPoint.y - sideYLength); <span class="comment">//è´å¡å°”æ›²çº¿ç»“æŸç‚¹</span></div><div class="line"><span class="built_in">NSInteger</span> controlLength = <span class="number">60</span>; <span class="comment">//è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹é•¿åº¦</span></div><div class="line"><span class="built_in">CGPoint</span> controlPoint = <span class="built_in">CGPointMake</span>(beginPoint.x - sideXLength/<span class="number">2.0</span>f - controlLength, beginPoint.y - sideYLength/<span class="number">2.0</span>f + controlLength); <span class="comment">//è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹</span></div><div class="line"></div><div class="line"><span class="built_in">UIBezierPath</span> *customPath = [<span class="built_in">UIBezierPath</span> bezierPath]; <span class="comment">//åˆ›å»ºè´å¡å°”è½¨è¿¹</span></div><div class="line">[customPath moveToPoint:beginPoint];</div><div class="line">[customPath addQuadCurveToPoint:endPoint controlPoint:controlPoint]; <span class="comment">//æ ¸å¿ƒä»£ç  äºŒæ¬¡æ›²çº¿æ–¹ç¨‹å¼ å¯ä»¥googleæŸ¥ä¸€ä¸‹</span></div><div class="line"></div><div class="line">pathAnimation.path = customPath.CGPath; <span class="comment">//è®©åŠ¨ç”»æ²¿ç€è½¨è¿¹è¿åŠ¨</span></div></pre></td></tr></table></figure>
<p>æˆ‘æ¥è§£é‡Šä¸€ä¸‹ å…³é”®å˜é‡</p>
<blockquote>
<p>beginPoint å¼€å§‹ç‚¹: å½“å‰è§†å›¾Xåæ ‡ä¸­å¿ƒ å‘ å·¦åç§» 5dp (Xè½´æ˜¯å·¦å³) Yçš„åæ ‡æ˜¯å½“å‰è§†å›¾é«˜åº¦ å°±æ˜¯æœ€ä¸‹é¢ endPoint ç»“æŸç‚¹: å¼€å§‹ç‚¹çš„X å‡å» 40å·¦ä¾§åç§»(å°±æ˜¯è·ç¦»å·¦ä¾§æ›´è¿œ) Yä¹Ÿæ˜¯ å‡å»åç§»ä¹‹å åˆ°äº† è§†å›¾çš„å¤–éƒ¨ å·¦ä¸Šæ–¹. controlPoint æ§åˆ¶ç‚¹: å¼€å§‹ç‚¹ æ¯”å¦‚ Xæ˜¯ 30 - 60/2.0 - 60 = -60,æ˜¾ç„¶å·²ç»è·‘åˆ°æœ€å·¦è¾¹äº† è¶…å‡ºäº†è§†å›¾èŒƒå›´, Y åé¢æ˜¯+ controlLength è¯´æ˜æ˜¯åŠ å¤§ Yåæ ‡.</p>
</blockquote>
<p>å¤§å®¶å¯ä»¥ä¸ç”¨ç†è§£è¿™äº›ç»†èŠ‚ çœ‹ä¸‹é¢å›¾å°±å¥½äº†</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/873e913c22600f5e48d394775ef370fff7811c96/20181108AwemeAlbumAnimation/bezier_new.png"></p>
<blockquote>
<p>customPath: è´å¡å°”æ›²çº¿å¯¹è±¡</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">[customPath moveToPoint:beginPoint];</div><div class="line"><span class="comment">//æ ¸å¿ƒä»£ç  äºŒæ¬¡æ›²çº¿æ–¹ç¨‹å¼ å¯ä»¥googleæŸ¥ä¸€ä¸‹</span></div><div class="line">[customPath addQuadCurveToPoint:endPoint controlPoint:controlPoint];</div><div class="line"><span class="comment">//è®©åŠ¨ç”»æ²¿ç€è½¨è¿¹è¿åŠ¨</span></div><div class="line">pathAnimation.path = customPath.CGPath;</div></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯ å¢åŠ å¼€å§‹ç‚¹ ç»“æŸç‚¹ æ§åˆ¶ç‚¹ä¹‹åçš„è´å¡å°”è½¨è¿¹,ç„¶å è®¾ç½®è½¨è¿¹åŠ¨ç”»çš„pathå°±å®Œäº‹äº†.</p>
<p>è¿™ä¸€æ­¥æå®Œ ç„¶å æŠŠ<code>pathAnimation</code> æ”¾åˆ°åŠ¨ç”»ç»„ä¸­,ç„¶ååˆ›å»ºä¸€ä¸ª éŸ³ç¬¦çš„layeræ·»åŠ åŠ¨ç”»ç»„</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[animationGroup setAnimations:@[pathAnimation]];</div><div class="line">    </div><div class="line"><span class="built_in">CAShapeLayer</span> *layer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">layer.contents = (__bridge <span class="keyword">id</span> _Nullable)([<span class="built_in">UIImage</span> imageNamed:imageName].CGImage);</div><div class="line">layer.frame = <span class="built_in">CGRectMake</span>(beginPoint.x, beginPoint.y, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">[<span class="keyword">self</span>.layer addSublayer:layer];</div><div class="line">[<span class="keyword">self</span>.noteLayers addObject:layer];</div><div class="line">[layer addAnimation:animationGroup forKey:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<blockquote>
<p><code>[self.noteLayers addObject:layer];</code>è¿™è¡Œä»£ç æ˜¯æˆ‘ä»¬å‰é¢å£°æ˜çš„å…¨å±€å˜é‡ å­˜layer,resetçš„æ—¶å€™åˆ é™¤ç›¸å…³layerå’ŒåŠ¨ç”»ä½¿ç”¨</p>
</blockquote>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹ ç®€å•ä¸€ä¸ªéŸ³ç¬¦ æ²¿ç€è´å¡å°”æ›²çº¿è¿åŠ¨</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a4e5309311904071b7d20ece73e5bd3d88b736bd/20181108AwemeAlbumAnimation/album4.gif"></p>
<p>å¥½ä¸‹é¢çš„å·¥ä½œå°±æ˜¯ åŠ æ—‹è½¬ é€æ˜ ç¼©æ”¾åŠ¨ç”»</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//æ—‹è½¬å¸§åŠ¨ç”»</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> * rotationAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.rotation"</span>];</div><div class="line"><span class="comment">//è¿™é‡Œå®é™…ä¸Šæ˜¯æ§åˆ¶åŠ¨ç”»å¼€å§‹å¼§åº¦å’Œç»“æŸå¼§åº¦ M_PI(180Â°) å°±æ˜¯åŠåœ† * 0.10 æˆ–è€… * -0.10jæ˜¯ä¸ºäº†å…³é”®ç‚¹ä¸Šä¸‹åç§»çš„18Â°çš„é—´éš™</span></div><div class="line">[rotationAnimation setValues:@[</div><div class="line">                               [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>],</div><div class="line">                               [<span class="built_in">NSNumber</span> numberWithFloat:M_PI * <span class="number">0.10</span>],</div><div class="line">                               [<span class="built_in">NSNumber</span> numberWithFloat:M_PI * <span class="number">-0.10</span>]]];</div><div class="line"><span class="comment">//é€æ˜åº¦å¸§åŠ¨ç”»</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> * opacityAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"opacity"</span>];</div><div class="line">[opacityAnimation setValues:@[</div><div class="line">                              [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>],</div><div class="line">                              [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.2</span>f],</div><div class="line">                              [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.7</span>f],</div><div class="line">                              [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.2</span>f],</div><div class="line">                              [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>]]];</div><div class="line"><span class="comment">//ç¼©æ”¾å¸§åŠ¨ç”»</span></div><div class="line"><span class="built_in">CABasicAnimation</span> *scaleAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">scaleAnimation.keyPath = <span class="string">@"transform.scale"</span>;</div><div class="line">scaleAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">scaleAnimation.toValue = @(<span class="number">2.0</span>f);</div></pre></td></tr></table></figure>
<p>æœ€åæ·»æŠŠæ‰€æœ‰çš„åŠ¨ç”»æ·»åŠ åˆ°åŠ¨ç”»ç»„</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[animationGroup setAnimations:@[pathAnimation, scaleAnimation,  rotationAnimation,opacityAnimation]];</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ä¸€ä¸‹: ä¸ºäº†è®©éŸ³ç¬¦çš„å›¾ç‰‡æ›´ç”ŸåŠ¨æˆ‘ä»¬éœ€è¦æŠŠ<code>layer.opacity = 0.0f;</code> è¿™ä¸ªéŸ³ç¬¦é€æ˜ ä»è€Œç”¨é€æ˜åº¦å¸§åŠ¨ç”»æ§åˆ¶é€æ˜.</p>
</blockquote>
<p>ç„¶åå°è£…å¥½æ–¹æ³• æŠŠä¸Šè¾¹æˆ‘ä»¬åšçš„è´å¡å°”æ›²çº¿ é€æ˜ æ¸å˜ ç¼©æ”¾ åŠ¨ç”»ç»„éƒ½æ”¾åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢</p>
<p>å®Œæ•´ä»£ç å¦‚ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)addNotoAnimation:(<span class="built_in">NSString</span> *)imageName</div><div class="line">               delayTime:(<span class="built_in">NSTimeInterval</span>)delayTime</div><div class="line">                    rate:(<span class="built_in">CGFloat</span>)rate&#123;</div><div class="line">    <span class="built_in">CAAnimationGroup</span> *animationGroup = [[<span class="built_in">CAAnimationGroup</span> alloc]init];</div><div class="line">    animationGroup.duration = rate/<span class="number">4.0</span>f;</div><div class="line">    animationGroup.beginTime = <span class="built_in">CACurrentMediaTime</span>() + delayTime;</div><div class="line">    animationGroup.repeatCount = MAXFLOAT;</div><div class="line">    animationGroup.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">    animationGroup.fillMode = kCAFillModeForwards;</div><div class="line">    animationGroup.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionLinear];</div><div class="line">    </div><div class="line">    <span class="comment">//bezierè·¯å¾„å¸§åŠ¨ç”»</span></div><div class="line">    <span class="built_in">CAKeyframeAnimation</span> * pathAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"position"</span>];</div><div class="line">    </div><div class="line">    <span class="comment">//Xè½´å·¦å³ä¾§åç§»é‡</span></div><div class="line">    <span class="built_in">CGFloat</span> sideXLength = <span class="number">40.0</span>f;</div><div class="line">    <span class="comment">//Yè½´ä¸Šä¸‹åç§»é‡</span></div><div class="line">    <span class="built_in">CGFloat</span> sideYLength = <span class="number">100.0</span>f;</div><div class="line">    </div><div class="line">    <span class="comment">//è´èµ›å°”æ›²çº¿å¼€å§‹ç‚¹</span></div><div class="line">    <span class="built_in">CGPoint</span> beginPoint = <span class="built_in">CGPointMake</span>(<span class="built_in">CGRectGetMidX</span>(<span class="keyword">self</span>.bounds) - <span class="number">5</span>, <span class="built_in">CGRectGetMaxY</span>(<span class="keyword">self</span>.bounds));</div><div class="line">    <span class="comment">//è´å¡å°”æ›²çº¿ç»“æŸç‚¹</span></div><div class="line">    <span class="built_in">CGPoint</span> endPoint = <span class="built_in">CGPointMake</span>(beginPoint.x - sideXLength, beginPoint.y - sideYLength);</div><div class="line">    <span class="comment">//è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹é•¿åº¦</span></div><div class="line">    <span class="built_in">NSInteger</span> controlLength = <span class="number">60</span>;</div><div class="line">    <span class="comment">//è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹</span></div><div class="line">    <span class="built_in">CGPoint</span> controlPoint = <span class="built_in">CGPointMake</span>(beginPoint.x - sideXLength/<span class="number">2.0</span>f - controlLength, beginPoint.y - sideYLength/<span class="number">2.0</span>f + controlLength);</div><div class="line">    <span class="comment">//åˆ›å»ºè´å¡å°”è½¨è¿¹</span></div><div class="line">    <span class="built_in">UIBezierPath</span> *customPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    [customPath moveToPoint:beginPoint];</div><div class="line">    <span class="comment">//æ ¸å¿ƒä»£ç  äºŒæ¬¡æ›²çº¿æ–¹ç¨‹å¼ å¯ä»¥googleæŸ¥ä¸€ä¸‹</span></div><div class="line">    [customPath addQuadCurveToPoint:endPoint controlPoint:controlPoint];</div><div class="line">    <span class="comment">//è®©åŠ¨ç”»æ²¿ç€è½¨è¿¹è¿åŠ¨</span></div><div class="line">    pathAnimation.path = customPath.CGPath;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">//æ—‹è½¬å¸§åŠ¨ç”»</span></div><div class="line">    <span class="built_in">CAKeyframeAnimation</span> * rotationAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.rotation"</span>];</div><div class="line">    <span class="comment">//è¿™é‡Œå®é™…ä¸Šæ˜¯æ§åˆ¶åŠ¨ç”»å¼€å§‹å¼§åº¦å’Œç»“æŸå¼§åº¦ M_PI(180Â°) å°±æ˜¯åŠåœ† * 0.10 æˆ–è€… * -0.10jæ˜¯ä¸ºäº†å…³é”®ç‚¹ä¸Šä¸‹åç§»çš„18Â°çš„é—´éš™</span></div><div class="line">    [rotationAnimation setValues:@[</div><div class="line">                                   [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>],</div><div class="line">                                   [<span class="built_in">NSNumber</span> numberWithFloat:M_PI * <span class="number">0.10</span>],</div><div class="line">                                   [<span class="built_in">NSNumber</span> numberWithFloat:M_PI * <span class="number">-0.10</span>]]];</div><div class="line">    <span class="comment">//é€æ˜åº¦å¸§åŠ¨ç”»</span></div><div class="line">    <span class="built_in">CAKeyframeAnimation</span> * opacityAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"opacity"</span>];</div><div class="line">    [opacityAnimation setValues:@[</div><div class="line">                                  [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>],</div><div class="line">                                  [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.2</span>f],</div><div class="line">                                  [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.7</span>f],</div><div class="line">                                  [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0.2</span>f],</div><div class="line">                                  [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">0</span>]]];</div><div class="line">    <span class="comment">//ç¼©æ”¾å¸§åŠ¨ç”»</span></div><div class="line">    <span class="built_in">CABasicAnimation</span> *scaleAnimation = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">    scaleAnimation.keyPath = <span class="string">@"transform.scale"</span>;</div><div class="line">    scaleAnimation.fromValue = @(<span class="number">1.0</span>f);</div><div class="line">    scaleAnimation.toValue = @(<span class="number">2.0</span>f);</div><div class="line">    </div><div class="line">    [animationGroup setAnimations:@[pathAnimation, scaleAnimation,  rotationAnimation,opacityAnimation]];</div><div class="line">    </div><div class="line">    <span class="built_in">CAShapeLayer</span> *layer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    layer.opacity = <span class="number">0.0</span>f;</div><div class="line">    layer.contents = (__bridge <span class="keyword">id</span> _Nullable)([<span class="built_in">UIImage</span> imageNamed:imageName].CGImage);</div><div class="line">    layer.frame = <span class="built_in">CGRectMake</span>(beginPoint.x, beginPoint.y, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    [<span class="keyword">self</span>.layer addSublayer:layer];</div><div class="line">    [<span class="keyword">self</span>.noteLayers addObject:layer];</div><div class="line">    [layer addAnimation:animationGroup forKey:<span class="literal">nil</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨æˆ‘ä»¬å¯¹å¤–æä¾›çš„startAnimation:æ–¹æ³•ä¸­è°ƒç”¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)startAnimation:(<span class="built_in">CGFloat</span>)rate &#123;</div><div class="line">    rate = fabs(rate);  <span class="comment">//check é˜²æ­¢ rateè¾“å…¥ä¸ºè´Ÿå€¼</span></div><div class="line">    [<span class="keyword">self</span> resetView];   <span class="comment">//é¦–å…ˆé‡ç½®åŠ¨ç”»</span></div><div class="line">   	<span class="comment">//è¿™é‡Œè°ƒç”¨</span></div><div class="line">	[<span class="keyword">self</span> addNotoAnimation:<span class="string">@"icon_home_musicnote1"</span> delayTime:<span class="number">0.0</span>f rate:rate];</div><div class="line">	<span class="comment">//ã€‚ã€‚ã€‚å°é¢çš„æ—‹è½¬åŠ¨ç”»    </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å†™åˆ°è¿™é‡Œå¤§æ¦‚å°±å®Œæˆäº†ä¸€ä¸ªéŸ³ç¬¦çš„åŠ¨ç”» å¦‚æœåƒåšå¤šä¸ªéŸ³ç¬¦åŠ¨ç”» å°±å¤šè°ƒç”¨å‡ æ¬¡ ç„¶åæ§åˆ¶å¥½å¼€å§‹æ—¶é—´çš„å»¶æ—¶</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> addNotoAnimation:<span class="string">@"icon_home_musicnote1"</span> delayTime:<span class="number">0.0</span>f rate:rate];</div><div class="line">[<span class="keyword">self</span> addNotoAnimation:<span class="string">@"icon_home_musicnote2"</span> delayTime:<span class="number">1.0</span>f rate:rate];</div><div class="line">[<span class="keyword">self</span> addNotoAnimation:<span class="string">@"icon_home_musicnote1"</span> delayTime:<span class="number">2.0</span>f rate:rate];</div></pre></td></tr></table></figure>
<p><strong>å†™åˆ°è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®é™…ä¸Šæ˜¯ é€šè¿‡delayTime å»¶æ—¶(å•ä½ç§’) å¼€æ§åˆ¶ æ¯ä¸ªéŸ³ç¬¦ è·ç¦»ä¸Šä¸ªéŸ³ç¬¦çš„é—´éš”æ—¶é—´,é€šè¿‡é—´éš”æ—¶é—´æ¥æ§åˆ¶éŸ³ç¬¦ä¹‹é—´ äº¤æ›¿ å‡ºç°</strong>.</p>
<p>æ‰€ä»¥ä¸Šé¢çš„åŠ¨ç”»ç»„é‡Œé¢æœ‰è¿™æ ·ä¸€è¡Œä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">animationGroup.beginTime = <span class="built_in">CACurrentMediaTime</span>() + delayTime;</div></pre></td></tr></table></figure>
<p>å°±æ˜¯åŸºäºå½“å‰çš„æ—¶é—´å»¶è¿Ÿ1ç§’æˆ–è€…2ç§’æ¥æ§åˆ¶</p>
<p>å®Œæˆä¹‹å å°±æ˜¯è¿™æ ·äº†</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/a26ecc741c10edcf564f1f3295b7afb6ebe018fc/20181108AwemeAlbumAnimation/final.gif"></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>é¦–å…ˆæ„Ÿè°¢å¼€æºçš„å°ä¼™ä¼´ çš„ä»£ç ,æˆ‘è®¤çœŸç ”è¯»äº†å‡ éä¹Ÿå†™äº†ä¸€äº›ä»£ç ,æœ‰äº›ä¸œè¥¿çœŸæ˜¯ å¤©ä¸‹å¤§äº‹å¿…åšäºç»† å¤©ä¸‹éš¾äº‹å¿…åšäºæ˜“çš„æ„Ÿå—.</p>
<p>è¿™é‡Œçš„ä»£ç å®ç°ä¸»è¦åˆ†å¼€ ä¸“è¾‘å›¾æ—‹è½¬å’ŒéŸ³ç¬¦åŠ¨ç”»ç»„çš„å®ç°å³å¯</p>
<p>å¸Œæœ›å’Œå¤§å®¶åˆ†äº« æŠ€æœ¯æŠ€å·§.å†™çš„æ¯”è¾ƒå‡Œä¹± æˆ‘ä¼šé€æ¸æé«˜è¿™æ–¹é¢çš„èƒ½åŠ›.å¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ•™</p>
<p><a href="https://github.com/sunyazhou13/MusicAlbumViewDemo" target="_blank" rel="external">æœ€ç»ˆçš„demo</a></p>
<p>å‚è€ƒ</p>
<p><a href="https://github.com/sunyazhou13/douyin-ios-objectc" target="_blank" rel="external">iOSé«˜ä»¿æŠ–éŸ³app</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;å‰ä¸¤å¤©åˆ†äº«äº† æŠ–éŸ³ ä¸Šä¸‹æ»‘åˆ‡æ¢ ,ä»Šå¤©ç»™å’Œå¤§å®¶åˆ†äº«çš„æ˜¯æŠ–éŸ³å³å°è§’åº•éƒ¨çš„ä¸“è¾‘åŠ¨ç”»&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾çœ‹ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/su
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>iOSæŠ–éŸ³çš„ä¸Šä¸‹æ»‘å®ç°</title>
    <link href="https://www.sunyazhou.com/2018/11/06/20181106AwemeTopBottomScrollDemo/"/>
    <id>https://www.sunyazhou.com/2018/11/06/20181106AwemeTopBottomScrollDemo/</id>
    <published>2018-11-06T09:55:09.000Z</published>
    <updated>2018-12-18T16:05:06.391Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>ä¸€ç›´ä¸€æ¥éƒ½åœ¨ ç ”ç©¶æŠ–éŸ³Appåšçš„çŸ­è§†é¢‘ ä¸Šä¸‹æ»‘åŠ¨ çš„æŠ€æœ¯å®ç°, ä»Šå¤©å†™äº†ä¸ªdemo,æ–¹ä¾¿å­¦ä¹ æŠ€æœ¯æŠ€å·§å’Œè®°å½•çŸ¥è¯†,</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/d2b991b6d10e643c8e4c619cc913bbbaea19a534/20181106AwemeTopBottomScrollDemo/AwemeDemo1.gif"></p>
<h1 id="æŠ€æœ¯å®ç°åŸç†">æŠ€æœ¯å®ç°åŸç†</h1>
<ul>
<li>UITableView</li>
</ul>
<p>å…¶å®å°±æ˜¯ä¸€ä¸ªUITableViewæ”¹å˜ä¸Šä¸‹æ˜¾ç¤ºèŒƒå›´. talk is cheap show me the code</p>
<p>æˆ‘è¯´è¯ä¸ç»•å¼¯å­,ä»£ç å¦‚ä¸‹ å®ç°èµ·æ¥éå¸¸ç®€å•</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">_tableView = [[<span class="built_in">UITableView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, -SCREEN_HEIGHT, SCREEN_WIDTH, SCREEN_HEIGHT * <span class="number">5</span>)];</div><div class="line">_tableView.contentInset = <span class="built_in">UIEdgeInsetsMake</span>(SCREEN_HEIGHT, <span class="number">0</span>, SCREEN_HEIGHT * <span class="number">3</span>, <span class="number">0</span>);</div></pre></td></tr></table></figure>
<ol type="1">
<li>åˆå§‹åŒ–çš„æ—¶å€™,TableViewæ”¾åœ¨å±å¹•å¤–è¾¹.</li>
<li>contentInset æ˜¾ç¤ºå†…å®¹çš„å†…è¾¹è·, ä»¥æ­¤æ˜¯ <code>ä¸Š</code>, <code>å·¦</code>, <code>ä¸‹</code>, <code>å³</code>, ä¸Šè¾¹è· è·ç¦»æ•´å¥½å±å¹•é«˜åº¦,åº•éƒ¨ æ˜¯ é¡¶éƒ¨è¾¹è·(å±å¹•é«˜åº¦çš„ 3å€) æ–¹ä¾¿æ»‘åŠ¨, å·¦å³åˆ†åˆ«é¡¶åˆ°ä¸¤è¾¹ æå®š.</li>
</ol>
<p>æˆ‘ç”»ä¸ªå›¾æ¼”ç¤ºä¸€ä¸‹.</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/748bbcbbc7ef5e60d1b6844ab26b73d7debc06ca/20181106AwemeTopBottomScrollDemo/AwemeDemo2.png"></p>
<p>çœ‹åˆ°è¿™å¼ å›¾ å¤§å®¶ä¹Ÿè®¸ å·²ç»æ˜ç™½äº†ï¼Œæœ€æ ¸å¿ƒçš„åœ°æ–¹æ˜¯æ§åˆ¶ TableViewçš„ä¸Šä¸‹è¾¹è·,ä¸Šè¾¹è·ç•™å¤Ÿä¸€ä¸ªå±å¹•é«˜åº¦,ä¸‹è¾¹è·ç•™å¤Ÿä¸‹æ»‘3å±å·¦å³çš„ç¼“å†².</p>
<h1 id="è¯´ä¸€ä¸‹ç”¨åˆ°çš„æŠ€å·§">è¯´ä¸€ä¸‹ç”¨åˆ°çš„æŠ€å·§</h1>
<p>åˆ›å»ºtableViewå¾ˆç®€å• å¦‚æœç†è§£ä¸äº† å¯ä»¥ä¸‹è½½æ–‡ç« æœ«å°¾demo</p>
<p>æœ‰ä¸ªå°æŠ€å·§æ˜¯ å¦‚ä½•åšåˆ° ä¸Šä¸‹æ»‘åŠ¨ èƒ½å¤Ÿå®Œæ•´çš„ æ»‘åŠ¨åˆ°å¯¹åº”ä½ç½® æ•´å¥½ å æ»¡å±å¹•ç±»ä¼¼ å¼€å¯äº†UIScrollViewçš„ <code>pagingEnabled</code>.</p>
<h2 id="å®ç°æ»‘åŠ¨çš„ä»£ç†æ–¹æ³•">å®ç°æ»‘åŠ¨çš„ä»£ç†æ–¹æ³•</h2>
<p>é¦–å…ˆéœ€è¦å£°æ˜ä¸€ä¸ªå½“å‰æ»‘åŠ¨é¡µç çš„æˆå‘˜å˜é‡</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span>  currentIndex;</div></pre></td></tr></table></figure>
<p>ç„¶åæ»‘åŠ¨ä»£ç†åœæ­¢çš„æ—¶å€™ åˆ¤æ–­ä¸€ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - ScrollView delegate</span></div><div class="line">- (<span class="keyword">void</span>)scrollViewDidEndDragging:(<span class="built_in">UIScrollView</span> *)scrollView willDecelerate:(<span class="built_in">BOOL</span>)decelerate&#123;</div><div class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">        <span class="built_in">CGPoint</span> translatedPoint = [scrollView.panGestureRecognizer translationInView:scrollView];</div><div class="line">        <span class="comment">//UITableViewç¦æ­¢å“åº”å…¶ä»–æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">        scrollView.panGestureRecognizer.enabled = <span class="literal">NO</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(translatedPoint.y &lt; <span class="number">-50</span> &amp;&amp; <span class="keyword">self</span>.currentIndex &lt; (kDataSourceCount - <span class="number">1</span>)) &#123;</div><div class="line">            <span class="keyword">self</span>.currentIndex ++;   <span class="comment">//å‘ä¸‹æ»‘åŠ¨ç´¢å¼•é€’å¢</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(translatedPoint.y &gt; <span class="number">50</span> &amp;&amp; <span class="keyword">self</span>.currentIndex &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">self</span>.currentIndex --;   <span class="comment">//å‘ä¸Šæ»‘åŠ¨ç´¢å¼•é€’å‡</span></div><div class="line">        &#125;</div><div class="line">        [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.15</span></div><div class="line">                              delay:<span class="number">0.0</span></div><div class="line">                            options:<span class="built_in">UIViewAnimationOptionCurveEaseOut</span> animations:^&#123;</div><div class="line">                                <span class="comment">//UITableViewæ»‘åŠ¨åˆ°æŒ‡å®šcell</span></div><div class="line">                                [<span class="keyword">self</span>.tableView scrollToRowAtIndexPath:[<span class="built_in">NSIndexPath</span> indexPathForRow:<span class="keyword">self</span>.currentIndex inSection:<span class="number">0</span>] atScrollPosition:<span class="built_in">UITableViewScrollPositionTop</span> animated:<span class="literal">NO</span>];</div><div class="line">                            &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">                                <span class="comment">//UITableViewå¯ä»¥å“åº”å…¶ä»–æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">                                scrollView.panGestureRecognizer.enabled = <span class="literal">YES</span>;</div><div class="line">                            &#125;];</div><div class="line">        </div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œçš„ <code>50</code> å®é™…ä¸Šæ˜¯ä½ èƒ½å…è®¸æ»‘åŠ¨çš„æœ€å¤§è§¦å‘åŒºé—´.å¯ä»¥è‡ªå·±ä¸‹è½½demoç©ä¸€ä¸‹å°±çŸ¥é“äº†.</p>
</blockquote>
<p>åŸºäºæ»‘åŠ¨åŒºé—´ åš åŠ å‡ å½“å‰é¡µç æ§åˆ¶.ç„¶å åšä¸ªç®€å•çš„UIViewåŠ¨ç”».</p>
<blockquote>
<p>æ³¨æ„: å¼€å§‹åŠ¨ç”»çš„æ—¶å€™æœ€å¥½ä¸è¦ç›¸åº”panæ‰‹åŠ¿,ç»“æŸåŠ¨ç”»çš„æ—¶å€™å†æ¢å¤å›å»,è¿™æ ·å¯ä»¥é¿å…ä¸€äº›ä¸å¿…è¦çš„æ”¶æ‹¾æ»‘åŠ¨å¼•èµ·çš„é—®é¢˜.</p>
</blockquote>
<h3 id="ä¸ºä»€ä¹ˆè¦æ»‘åŠ¨é¡µç self.currentindex">ä¸ºä»€ä¹ˆè¦æ»‘åŠ¨é¡µç <code>self.currentIndex</code></h3>
<p>å› ä¸ºæˆ‘ä»¬è¦ç”¨KVO æ¥å®ç° é¡µé¢å˜åŠ¨é©±åŠ¨æ»‘åŠ¨çš„åŠ¨ç”»</p>
<p>åœ¨ viewDidLoad:æ–¹æ³•ä¸­ æˆ‘ä»¬æœ‰ä¸ªsetupView:æ–¹æ³•ä¸­ æœ‰ä¸‹æ®µä»£ç </p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> addObserver:<span class="keyword">self</span> forKeyPath:<span class="string">@"currentIndex"</span> options:<span class="built_in">NSKeyValueObservingOptionInitial</span>|<span class="built_in">NSKeyValueObservingOptionNew</span> context:<span class="literal">nil</span>];</div></pre></td></tr></table></figure>
<p><strong>æ˜¯çš„æˆ‘ä»¬è¦è‡ªå·±ç›‘å¬è‡ªå·±çš„æˆå‘˜å˜é‡å»æäº›äº‹æƒ…</strong>.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//è§‚å¯ŸcurrentIndexå˜åŒ–</span></div><div class="line">-(<span class="keyword">void</span>)observeValueForKeyPath:(<span class="built_in">NSString</span> *)keyPath ofObject:(<span class="keyword">id</span>)object change:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSKeyValueChangeKey</span>,<span class="keyword">id</span>&gt; *)change context:(<span class="keyword">void</span> *)context &#123;</div><div class="line">    <span class="keyword">if</span> ([keyPath isEqualToString:<span class="string">@"currentIndex"</span>]) &#123;</div><div class="line">        <span class="comment">//è·å–å½“å‰æ˜¾ç¤ºçš„cell</span></div><div class="line">        AwemeListCell *cell = [<span class="keyword">self</span>.tableView cellForRowAtIndexPath:[<span class="built_in">NSIndexPath</span> indexPathForRow:_currentIndex inSection:<span class="number">0</span>]];</div><div class="line">        __<span class="keyword">weak</span> <span class="keyword">typeof</span> (cell) wcell = cell;</div><div class="line">        __<span class="keyword">weak</span> <span class="keyword">typeof</span> (<span class="keyword">self</span>) wself = <span class="keyword">self</span>;</div><div class="line">        <span class="comment">//ç”¨cellæ§åˆ¶ç›¸å…³è§†é¢‘æ’­æ”¾</span></div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> [<span class="keyword">super</span> observeValueForKeyPath:keyPath ofObject:object change:change context:context];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>demoä¸­æœ‰è¿™æ®µä»£ç  å…¶å®æ˜¯ä¸ºäº†ä»¥å cellä¸Šæ–¹palyerViewçš„æ—¶å€™ æ§åˆ¶ç›¸åº”æš‚åœæˆ–è€…åœæ­¢ æˆ–è€…å…¶ä»–æ“ä½œçš„è¡Œä¸º. è¿™é‡ŒåæœŸæˆ‘ä»¬å®Œå–„</p>
</blockquote>
<h3 id="ç‚¹å‡»çŠ¶æ€æ æ»‘åŠ¨åˆ°é¡¶éƒ¨">ç‚¹å‡»çŠ¶æ€æ æ»‘åŠ¨åˆ°é¡¶éƒ¨</h3>
<p>æˆ‘ä»¬å¦‚ä½•ç›‘å¬çŠ¶æ€æ çš„äº‹ä»¶?</p>
<p>æˆ‘ä»¬å½“ç„¶å¯ä»¥è®¾ç½®TableViewè‡ªåŠ¨æ»‘åŠ¨åˆ°é¡¶éƒ¨.ä½†æ˜¯ æˆ‘ä»¬æ€ä¹ˆæ‹¦æˆªä¸‹æ¥è¿™ä¸ªäº‹ä»¶å»æŠŠæˆ‘ä»¬ ç›¸å…³é¡µç  <strong>ç½®<code>0</code></strong></p>
<p>ä¸ºä»€ä¹ˆç½®0å‘¢?çœ‹ä¸‹ ä¸‹é¢è¿™å¼ å›¾</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/ab61f58501e90d17c3dcc2af351eba13694a71ce/20181106AwemeTopBottomScrollDemo/AwemeDemo3_error.gif"></p>
<p>è™½ç„¶æˆ‘ä»¬èƒ½å®ç° è‡ªåŠ¨æ»‘åŠ¨TableViewåˆ°é¡¶éƒ¨ ä½†æ˜¯ æˆ‘ä»¬æ‹¦æˆªä¸åˆ°é¡¶éƒ¨çŠ¶æ€æ ç‚¹å‡»çš„äº‹ä»¶,åœ¨è¿™ä¸ªäº‹ä»¶è°ƒç”¨çš„åœ°æ–¹ æŠŠå½“å‰é¡µç ç½®<code>0</code>.</p>
<h4 id="ç›‘å¬ç‚¹å‡»çŠ¶æ€æ äº‹ä»¶">ç›‘å¬ç‚¹å‡»çŠ¶æ€æ äº‹ä»¶</h4>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯åœ¨AppDelegate ä¸­ å¤å†™ touchesBagan:æ–¹æ³•</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span>&lt;<span class="built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</div><div class="line">    [<span class="keyword">super</span> touchesBegan:touches withEvent:event];</div><div class="line">    </div><div class="line">    <span class="comment">//å½“è§¦æ‘¸çŠ¶æ€æ çš„æ—¶å€™å‘é€è§¦æ‘¸é€šçŸ¥ è¿™æ ·æ§åˆ¶å™¨å°±æ”¶åˆ°äº†ç‚¹å‡»äº‹ä»¶</span></div><div class="line">    <span class="built_in">CGPoint</span> touchLocation = [[[event allTouches] anyObject] locationInView:<span class="keyword">self</span>.window];</div><div class="line">    <span class="built_in">CGRect</span> statusBarFrame = [<span class="built_in">UIApplication</span> sharedApplication].statusBarFrame;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">CGRectContainsPoint</span>(statusBarFrame, touchLocation)) &#123;</div><div class="line">        [[<span class="built_in">NSNotificationCenter</span> defaultCenter] postNotificationName:StatusBarTouchBeginNotification object:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬åˆ¤æ–­ç‚¹å‡»åŒºåŸŸæ˜¯å¦åœ¨çŠ¶æ€æ èŒƒå›´å†…,æ˜¯çš„è¯æˆ‘ä»¬å‘é€é€šçŸ¥.</p>
<p>åœ¨æˆ‘ä»¬ç”¨åˆ°TableViewçš„VCé‡Œé¢æ³¨å†Œè¿™ä¸ªé€šçŸ¥,ç„¶å ç½®<code>0</code>.</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="meta">#pragma mark -</span></div><div class="line"><span class="meta">#pragma mark - event response æ‰€æœ‰è§¦å‘çš„äº‹ä»¶å“åº” æŒ‰é’®ã€é€šçŸ¥ã€åˆ†æ®µæ§ä»¶ç­‰</span></div><div class="line">- (<span class="keyword">void</span>)statusBarTouchBegin &#123;</div><div class="line">    _currentIndex = <span class="number">0</span>; <span class="comment">//KVO</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬ç½®<code>0</code>å¤„ç†.</p>
<blockquote>
<p>è¿™é‡Œå¤„ç†çš„æ–¹å¼ç®€å•ç²—æš´,ä½ æœ‰æ›´å¥½çš„å®ç°æ–¹å¼å¯ä»¥åº•éƒ¨è¯„è®º,éå¸¸æ„Ÿè°¢.</p>
</blockquote>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ä»¥ä¸Šæ˜¯ç®€å•å®ç°äº†æŠ–éŸ³çš„ä¸Šä¸‹æ»‘,demoåœ¨ä¸‹æ–¹, ä¸‹ä¸€æœŸç»™å¤§å®¶æ¼”ç¤ºæ›´å¤šç»†èŠ‚,å¦‚æœå¯èƒ½çš„è¯,æœ€ç»ˆæå‡ºä¸ªè§†é¢‘æ”¾cellä¸Š å®ç°æ•´ä¸ªä¸Šä¸‹æ»‘æ§åˆ¶è¿‡ç¨‹è§†é¢‘æš‚åœ æ’­æ”¾ åœæ­¢ç­‰ç­‰,å› ä¸ºå¦‚æœå®Œæ•´çš„å®ç°æŠ–éŸ³,éœ€è¦å¾ˆé•¿çš„ä»£ç é‡,ä¸ºäº†è®©å¤§å®¶ä¸€èµ·å­¦ä¹ ,æˆ‘æŠŠæ¯ä¸ªç»†èŠ‚æ‹†æˆä¸€å°èŠ‚.å•ç‹¬å†™æˆæ–‡ç« è®¨è®ºå’Œå­¦ä¹ .</p>
<p><a href="https://github.com/sunyazhou13/AwemeDemo" target="_blank" rel="external">æŠ–éŸ³ä¸Šä¸‹æ»‘Demo</a></p>
<p>å‚è€ƒå¼€æº</p>
<p><a href="https://github.com/sshiqiao/douyin-ios-objectc" target="_blank" rel="external">æŠ–éŸ³ä¸ªäººä¸»é¡µ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;ä¸€ç›´ä¸€æ¥éƒ½åœ¨ ç ”ç©¶æŠ–éŸ³Appåšçš„çŸ­è§†é¢‘ ä¸Šä¸‹æ»‘åŠ¨ çš„æŠ€æœ¯å®ç°, ä»Šå¤©å†™äº†ä¸ªdemo,æ–¹ä¾¿å­¦ä¹ æŠ€æœ¯æŠ€å·§å’Œè®°å½•çŸ¥è¯†,&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="æŠ–éŸ³åŠ¨ç”»ç³»åˆ—" scheme="https://www.sunyazhou.com/tags/%E6%8A%96%E9%9F%B3%E5%8A%A8%E7%94%BB%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>iOSæ•°å­—å€æ•°åŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2018/10/29/20181029LabelDanceAnimation/"/>
    <id>https://www.sunyazhou.com/2018/10/29/20181029LabelDanceAnimation/</id>
    <published>2018-10-29T10:13:15.000Z</published>
    <updated>2018-11-11T06:43:38.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>å†™äº†ä¸€ä¸ªç®€å•çš„åˆ©ç”¨ é€æ˜åº¦å’Œ ç¼©æ”¾ å®ç°çš„ æ•°å­—å€æ•°åŠ¨ç”»</p>
<figure>
<img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/0cca94607f36a130adc04b7882c5750ca7eb1139/20181029LabelDanceAnimation/danceLabel.gif" alt="demo"><figcaption>demo</figcaption>
</figure>
<h1 id="å®ç°æ€è·¯">å®ç°æ€è·¯</h1>
<p>ä¸Šä»£ç  çœ‹æ¯”è¾ƒæ¸…æ™°</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">// æ•°å­—è·³åŠ¨åŠ¨ç”»</span></div><div class="line">- (<span class="keyword">void</span>)labelDanceAnimation:(<span class="built_in">NSTimeInterval</span>)duration &#123;</div><div class="line">    <span class="comment">//é€æ˜åº¦</span></div><div class="line">    <span class="built_in">CABasicAnimation</span> *opacityAnimation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"opacity"</span>];</div><div class="line">    opacityAnimation.duration = <span class="number">0.4</span> * duration;</div><div class="line">    opacityAnimation.fromValue = @<span class="number">0.</span>f;</div><div class="line">    opacityAnimation.toValue = @<span class="number">1.</span>f;</div><div class="line">    </div><div class="line">    <span class="comment">//ç¼©æ”¾</span></div><div class="line">    <span class="built_in">CAKeyframeAnimation</span> *scaleAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">    scaleAnimation.duration = duration;</div><div class="line">    scaleAnimation.values = @[@<span class="number">3.</span>f, @<span class="number">1.</span>f, @<span class="number">1.2</span>f, @<span class="number">1.</span>f];</div><div class="line">    scaleAnimation.keyTimes = @[@<span class="number">0.</span>f, @<span class="number">0.16</span>f, @<span class="number">0.28</span>f, @<span class="number">0.4</span>f];</div><div class="line">    scaleAnimation.removedOnCompletion = <span class="literal">YES</span>;</div><div class="line">    scaleAnimation.fillMode = kCAFillModeForwards;</div><div class="line">    </div><div class="line">    <span class="built_in">CAAnimationGroup</span> *animationGroup = [<span class="built_in">CAAnimationGroup</span> animation];</div><div class="line">    animationGroup.animations = @[opacityAnimation, scaleAnimation];</div><div class="line">    animationGroup.duration = duration;</div><div class="line">    animationGroup.removedOnCompletion = <span class="literal">YES</span>;</div><div class="line">    animationGroup.fillMode = kCAFillModeForwards;</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.comboLabel.layer addAnimation:animationGroup forKey:<span class="string">@"kComboAnimationKey"</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åˆ©ç”¨ä¸€ä¸ªé€æ˜åº¦ä» 0 ~ 1ä¹‹é—´çš„alpha,ç„¶åç¼©æ”¾ ä¹‹ååŠ åˆ°åŠ¨ç”»ç»„å®ç°ä¸€ä¸‹å°±å¥½äº†</p>
<blockquote>
<p>åˆ‡è®°åŠ¨ç”»å®Œæˆæœ€å¥½ç§»é™¤ å¦åˆ™å¯èƒ½å¼•èµ·åŠ¨ç”»å†…å­˜é—®é¢˜</p>
</blockquote>
<p>è¿™é‡Œè®¾ç½®æ–œä½“å­—ä½“</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.comboLabel.font = [<span class="built_in">UIFont</span> fontWithName:<span class="string">@"AvenirNext-BoldItalic"</span> size:<span class="number">50</span>];</div></pre></td></tr></table></figure>
<p>çœ‹ç€æ¯”è¾ƒæ˜æ˜¾</p>
<p>æœ€åæŒ‰é’®ç‚¹å‡»çš„æ—¶å€™è°ƒç”¨</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">IBAction</span>)clickAction:(<span class="built_in">UIButton</span> *)sender &#123;</div><div class="line">    <span class="keyword">self</span>.danceCount++;</div><div class="line">    [<span class="keyword">self</span> labelDanceAnimation:<span class="number">0.4</span>];</div><div class="line">    <span class="keyword">self</span>.comboLabel.text = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"+  %tu"</span>,<span class="keyword">self</span>.danceCount];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚æœå®ç° dozenåŠ¨ç”»çš„è¯å¾ˆç®€å•, <strong>danceCount % 10 == 0</strong> æ±‚æ¨¡å°±è¡Œäº†.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>è¿™ä¸ªåŠ¨ç”»æ¯”è¾ƒé€‚åˆ æœ‰äº›ç›´æ’­åœºæ™¯çš„ç‚¹å‡»æ“ä½œè®¡æ•°ç›¸å…³.æ„Ÿè°¢è§‚çœ‹</p>
<p><a href="https://github.com/sunyazhou13/LiveComboLabel" target="_blank" rel="external">Demoåœ¨è¿™é‡Œ</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;å†™äº†ä¸€ä¸ªç®€å•çš„åˆ©ç”¨ é€æ˜åº¦å’Œ ç¼©æ”¾ å®ç°çš„ æ•°å­—å€æ•°åŠ¨ç”»&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSå‘¼å¸åŠ¨ç”»</title>
    <link href="https://www.sunyazhou.com/2018/09/29/20180929BreathAnimation/"/>
    <id>https://www.sunyazhou.com/2018/09/29/20180929BreathAnimation/</id>
    <published>2018-09-29T02:09:30.000Z</published>
    <updated>2018-11-11T06:43:38.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>å¿«æ”¾å‡äº†, æ€•åä¸€æ–‡ç« æ›´æ–°ä¸åŠæ—¶,æ—©ç‚¹å®Œæˆæ–‡ç« ,ä¿è¯æ¯ä¸ªæœˆ 2ç¯‡çš„äº§å‡ºé‡, ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯ å‘¼å¸åŠ¨ç”», åšçš„ä¸æ˜¯ç‰¹åˆ«å¥½.</p>
<p>ä¸Šå›¾</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/43eb3d3df2ddda60a3ec26ba376755425ac88f7f/20180929BreathAnimation/breathAnimation.gif"></p>
<p>å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­</p>
<h1 id="éœ€æ±‚å’Œå®ç°æ€è·¯">éœ€æ±‚å’Œå®ç°æ€è·¯</h1>
<p>å…·ä½“è¦æ±‚</p>
<ul>
<li>å†…éƒ¨å¤´åƒå‘¼å¸æ”¾å¤§ç¼©å° æ— é™å¾ªç¯</li>
<li>æ¯æ¬¡æ”¾å¤§åŒæ—¶éœ€è¦èƒŒæ™¯è¿˜æœ‰ä¸€å¼ å›¾ä¹Ÿæ”¾å¤§ å¹¶ä¸”é€æ˜</li>
<li>ç‚¹å‡»ç¼©æ”¾æ•´ä¸ªèƒŒæ™¯è§†å›¾</li>
</ul>
<h2 id="å®ç°æ€è·¯">å®ç°æ€è·¯</h2>
<p>é¦–å…ˆ éœ€è¦ä½¿ç”¨åˆ›å»ºä¸€ä¸ªLayer è£…ç¬¬ä¸€ä¸ªæ— é™æ”¾å¤§ç¼©å°çš„å‘¼å¸çš„å›¾<br>
èƒŒæ™¯ä¹Ÿéœ€è¦ä¸€ä¸ªLayer åš æ”¾å¤§+é€æ˜åº¦æ¸å˜çš„åŠ¨ç”»ç»„å¹¶ä¸”ä¹Ÿæ”¾ç½®ä¸€å¼ éœ€è¦æ”¾å¤§æ¸å˜çš„å›¾ç‰‡</p>
<p>æœ€åç‚¹å‡»è§¦å‘. æ·»åŠ ä¸€ä¸ªä¸€æ¬¡æ€§çš„ç¼©æ”¾åŠ¨ç”»å³å¯</p>
<h3 id="å‘¼å¸åŠ¨ç”»layerå’ŒåŠ¨ç”»">å‘¼å¸åŠ¨ç”»layerå’ŒåŠ¨ç”»</h3>
<p>å‘¼å¸layer</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CALayer</span> *layer = [<span class="built_in">CALayer</span> layer];</div><div class="line">layer.position = <span class="built_in">CGPointMake</span>(kHeartSizeWidth/<span class="number">2.0</span>f, kHeartSizeHeight/<span class="number">2.0</span>f);</div><div class="line">layer.bounds = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, kHeartSizeWidth/<span class="number">2.0</span>f, kHeartSizeHeight/<span class="number">2.0</span>f);</div><div class="line">layer.backgroundColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">layer.contents = (__bridge <span class="keyword">id</span> _Nullable)([<span class="built_in">UIImage</span> imageNamed:<span class="string">@"breathImage"</span>].CGImage);</div><div class="line">layer.contentsGravity = kCAGravityResizeAspect;</div><div class="line">[<span class="keyword">self</span>.heartView.layer addSublayer:layer];</div></pre></td></tr></table></figure>
<blockquote>
<p>kHeartSizeHeight å’ŒkHeartSizeWidth æ˜¯å¸¸é‡ demoä¸­å†™å¥½äº†100</p>
</blockquote>
<p>åŠ å¸§åŠ¨ç”»</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CAKeyframeAnimation</span> *animation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">animation.values = @[@<span class="number">1.</span>f, @<span class="number">1.4</span>f, @<span class="number">1.</span>f];</div><div class="line">animation.keyTimes = @[@<span class="number">0.</span>f, @<span class="number">0.5</span>f, @<span class="number">1.</span>f];</div><div class="line">animation.duration = <span class="number">1</span>; <span class="comment">//1000ms</span></div><div class="line">animation.repeatCount = FLT_MAX;</div><div class="line">animation.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</div><div class="line">[animation setValue:kBreathAnimationKey forKey:kBreathAnimationName];</div><div class="line">[layer addAnimation:animation forKey:kBreathAnimationKey];</div></pre></td></tr></table></figure>
<blockquote>
<p>å·®å€¼å™¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ ä¾‹å¦‚:</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"></div><div class="line">[<span class="built_in">CAMediaTimingFunction</span> functionWithControlPoints:<span class="number">0.33</span> :<span class="number">0</span> :<span class="number">0.67</span> :<span class="number">1</span>]</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘åšçš„æŒç»­æ—¶å¸¸1ç§’</p>
<h3 id="æ”¾å¤§æ¸å˜åŠ¨ç”»group">æ”¾å¤§æ¸å˜åŠ¨ç”»group</h3>
<p>åˆ›å»ºæ–°layer</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CALayer</span> *breathLayer = [<span class="built_in">CALayer</span> layer];</div><div class="line">breathLayer.position = layer.position;</div><div class="line">breathLayer.bounds = layer.bounds;</div><div class="line">breathLayer.backgroundColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">breathLayer.contents = (__bridge <span class="keyword">id</span> _Nullable)([<span class="built_in">UIImage</span> imageNamed:<span class="string">@"breathImage"</span>].CGImage);</div><div class="line">breathLayer.contentsGravity = kCAGravityResizeAspect;</div><div class="line">[<span class="keyword">self</span>.heartView.layer insertSublayer:breathLayer below:layer];</div><div class="line"><span class="comment">//[self.heartView.layer addSublayer:breathLayer];</span></div></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œç”¨çš„æ˜¯æ”¾åœ¨ å‘¼å¸layeråè¾¹ å¦‚æœæƒ³æ”¾åœ¨å‘¼å¸layerå‰è¾¹ å°±æŠŠé‡Œé¢æ³¨é‡Šæ‰“å¼€ ç„¶åæ³¨æ‰ inerté‚£è¡Œä»£ç </p>
</blockquote>
<p>åŠ¨ç”»ç»„ åŒ…å« æ”¾å¤§ æ¸å˜</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ç¼©æ”¾</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> *scaleAnimation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">scaleAnimation.values = @[@<span class="number">1.</span>f, @<span class="number">2.4</span>f];</div><div class="line">scaleAnimation.keyTimes = @[@<span class="number">0.</span>f,@<span class="number">1.</span>f];</div><div class="line">scaleAnimation.duration = animation.duration;</div><div class="line">scaleAnimation.repeatCount = FLT_MAX;</div><div class="line">scaleAnimation.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseIn];</div><div class="line"><span class="comment">//é€æ˜åº¦</span></div><div class="line"><span class="built_in">CAKeyframeAnimation</span> *opacityAnimation = [<span class="built_in">CAKeyframeAnimation</span> animation];</div><div class="line">opacityAnimation.keyPath = <span class="string">@"opacity"</span>;</div><div class="line">opacityAnimation.values = @[@<span class="number">1.</span>f, @<span class="number">0.</span>f];</div><div class="line">opacityAnimation.duration = <span class="number">0.4</span>f;</div><div class="line">opacityAnimation.keyTimes = @[@<span class="number">0.</span>f, @<span class="number">1.</span>f];</div><div class="line">opacityAnimation.repeatCount = FLT_MAX;</div><div class="line">opacityAnimation.duration = animation.duration;</div><div class="line">opacityAnimation.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseIn];</div><div class="line"></div><div class="line"><span class="comment">//åŠ¨ç”»ç»„</span></div><div class="line"><span class="built_in">CAAnimationGroup</span> *scaleOpacityGroup = [<span class="built_in">CAAnimationGroup</span> animation];</div><div class="line">scaleOpacityGroup.animations = @[scaleAnimation, opacityAnimation];</div><div class="line">scaleOpacityGroup.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">scaleOpacityGroup.fillMode = kCAFillModeForwards;</div><div class="line">scaleOpacityGroup.duration = animation.duration;</div><div class="line">scaleOpacityGroup.repeatCount = FLT_MAX;</div><div class="line">[breathLayer addAnimation:scaleOpacityGroup forKey:kBreathScaleName];</div></pre></td></tr></table></figure>
<h3 id="ç‚¹å‡»ç¼©æ”¾åŠ¨ç”»">ç‚¹å‡»ç¼©æ”¾åŠ¨ç”»</h3>
<p>è·Ÿç¬¬ä¸€ä¸ªä¸€æ · åªä¸è¿‡ æ‰§è¡Œæ¬¡æ•°é»˜è®¤ä¸€æ¬¡ æ‰§è¡Œå®Œå°±å¯ä»¥äº†</p>
<figure class="highlight objc"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)shakeAnimation &#123;</div><div class="line">    <span class="built_in">CAKeyframeAnimation</span> *animation = [<span class="built_in">CAKeyframeAnimation</span> animationWithKeyPath:<span class="string">@"transform.scale"</span>];</div><div class="line">    animation.values = @[@<span class="number">1.0</span>f, @<span class="number">0.8</span>f, @<span class="number">1.</span>f];</div><div class="line">    animation.keyTimes = @[@<span class="number">0.</span>f,@<span class="number">0.5</span>f, @<span class="number">1.</span>f];</div><div class="line">    animation.duration = <span class="number">0.35</span>f;</div><div class="line">    animation.timingFunctions = @[[<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut],[<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut]];</div><div class="line">    [<span class="keyword">self</span>.heartView.layer addAnimation:animation forKey:<span class="string">@""</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ‰‹åŠ¿è§¦å‘çš„æ—¶å€™ è°ƒç”¨ä¸€ä¸‹</p>
<h3 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h3>
<p>åœ¨å¼€å‘åŠ¨ç”»çš„æ—¶å€™é‡åˆ° éƒ½ä¸€ä¸ªåŠ¨ç”» è¦æ‰§è¡Œ å‘¼å¸</p>
<p>å‘¼å¸å¦‚æœduration åˆ°ä¸­é—´çš„è¯ æ¯”å¦‚1ç§’ é‚£ä¹ˆ0.5ç§’çš„æ—¶å€™ å®ƒå°±éœ€è¦æŠ˜å›</p>
<p>é‚£ä¹ˆç¬¬äºŒä¸ªåŠ¨ç”»åˆšåˆšæ‰§è¡Œåˆ°ä¸€åŠ,å°±ä¼šæ„Ÿè§‰å¾ˆå¥‡æ€ª</p>
<p><img src="https://raw.githubusercontent.com/sunyazhou13/sunyazhou13.github.io-images/ba57cc09ea58317c4cef38da51c1824ddc977f39/20180929BreathAnimation/aniamation.jpeg"></p>
<p>å¦‚æœ__æ¸å˜åŠ¨ç”»__æ‰§è¡Œ0.5ç§’çš„è¯ å®ƒæ˜¯é‡å¤çš„ é‚£ä¹ˆä»–å°±é‡æ–°å¼€å§‹ ç›¸å½“äº å‘¼å¸æŠ˜å›çš„æ—¶å€™å®ƒåˆé‡æ–°å¼€å¼€å§‹æ¸å˜</p>
<h4 id="æ€ä¹ˆè§£å†³å‘¢">æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</h4>
<p>æˆ‘ä»¬æŠŠ0.5ç§’çš„åŠ¨ç”»åŠ åˆ° åŠ¨ç”»ç»„é‡Œé¢,ç„¶åç»™åŠ¨ç”»ç»„è®¾ç½®çš„æ—¶é•¿ä¿æŒå’Œå‘¼å¸åŠ¨ç”» ä¸€æ ·,è¿™æ ·å‰©ä½™çš„0.5çš„æ—¶å€™ æ¸å˜åŠ¨ç”»æ˜¯ä¸ä¼šé‡æ–°å¼€å§‹çš„.</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>åŠ¨ç”»å¾ˆä¹…æ²¡ç©äº† åŸºæœ¬éƒ½å¿˜äº†ä¸€å¹²äºŒå‡€äº†,ä»¥åè¦å‹¤åŠ ç»ƒä¹ ,å¤šå‡ºæ–‡ç« å’Œdemo,è®°å½•ä¸€äº›æ›´å¤šçš„çŸ¥è¯†æŠ€å·§.</p>
<p>åšå®¢åƒè½¦ä¸€æ ·,è¦æ˜¯ä¸æ˜¯çš„æ—¶å€™ç»å¸¸ä¿å…»,æ‰èƒ½èµ°æ›´è¿œçš„è·¯,è®°å½•æ›´å¤šçš„ç¾å¥½.</p>
<p>å…¨æ–‡å®Œ</p>
<p><a href="https://github.com/sunyazhou13/BreathAnimation" target="_blank" rel="external">Demoåœ¨è¿™é‡Œä¸‹è½½</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h1&gt;
&lt;p&gt;å¿«æ”¾å‡äº†, æ€•åä¸€æ–‡ç« æ›´æ–°ä¸åŠæ—¶,æ—©ç‚¹å®Œæˆæ–‡ç« ,ä¿è¯æ¯ä¸ªæœˆ 2ç¯‡çš„äº§å‡ºé‡, ä»Šå¤©ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯ å‘¼å¸åŠ¨ç”», åšçš„ä¸æ˜¯ç‰¹åˆ«å¥½.&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubuserconte
    
    </summary>
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/categories/iOS%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/iOS%E5%BC%80%E5%8F%91/"/>
    
      <category term="macOSå¼€å‘" scheme="https://www.sunyazhou.com/tags/macOS%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
</feed>
